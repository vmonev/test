  [1m[35m (2.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateProducts (20191003132717)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "image_url" varchar, "price" decimal(8,2), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20191003132717"]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2019-10-03 13:30:17.733154"], ["updated_at", "2019-10-03 13:30:17.733154"]]
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2019-10-03 16:33:05 +0300
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /Users/venelinmonev/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/railties-6.0.0/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/venelinmonev/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/railties-6.0.0/lib/rails/templates/rails/welcome/index.html.erb (Duration: 7.6ms | Allocations: 490)
Completed 200 OK in 21ms (Views: 13.3ms | ActiveRecord: 0.0ms | Allocations: 2846)


Started GET "/products" for ::1 at 2019-10-03 16:33:11 +0300
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1464)
[Webpacker] Compilingâ€¦
[Webpacker] Compiled all packs in /Users/venelinmonev/Projects/work/depot/public/packs
Completed 200 OK in 4497ms (Views: 4490.8ms | ActiveRecord: 0.5ms | Allocations: 1356692)


Started GET "/products/new" for ::1 at 2019-10-03 16:33:24 +0300
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 16.6ms | Allocations: 5847)
  Rendered products/new.html.erb within layouts/application (Duration: 17.7ms | Allocations: 6206)
Completed 200 OK in 32ms (Views: 24.3ms | ActiveRecord: 0.5ms | Allocations: 16428)


Started GET "/products/new" for ::1 at 2019-10-03 16:42:31 +0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 1.9ms | Allocations: 1097)
  Rendered products/new.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1183)
Completed 200 OK in 9ms (Views: 8.6ms | ActiveRecord: 0.0ms | Allocations: 7004)


Started GET "/products" for ::1 at 2019-10-03 16:42:37 +0300
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 1.5ms | Allocations: 640)
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.2ms | Allocations: 6437)


Started GET "/products/new" for ::1 at 2019-10-03 16:47:30 +0300
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 1.7ms | Allocations: 1097)
  Rendered products/new.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1183)
Completed 200 OK in 9ms (Views: 8.3ms | ActiveRecord: 0.0ms | Allocations: 7001)


Started POST "/products" for ::1 at 2019-10-03 16:48:00 +0300
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"uHA6I0rNfenC3uGrBdpR63Yj+W5/0/HGFvibvODraOzaxEx/i+9CLsoN2VJXKHcKe7NzKEtOb0onFKaB/a7K2A==", "product"=>{"title"=>"product1", "description"=>"descr1", "image_url"=>"1.jpg", "price"=>"23.45"}, "commit"=>"Create Product"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/products_controller.rb:30:in `block in create'
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "product1"], ["description", "descr1"], ["image_url", "1.jpg"], ["price", 23.45], ["created_at", "2019-10-03 13:48:00.223832"], ["updated_at", "2019-10-03 13:48:00.223832"]]
  â†³ app/controllers/products_controller.rb:30:in `block in create'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/products_controller.rb:30:in `block in create'
Redirected to http://localhost:3000/products/1
Completed 302 Found in 8ms (ActiveRecord: 1.4ms | Allocations: 2852)


Started GET "/products/1" for ::1 at 2019-10-03 16:48:00 +0300
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:67:in `set_product'
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (Duration: 1.0ms | Allocations: 344)
Completed 200 OK in 11ms (Views: 7.7ms | ActiveRecord: 0.2ms | Allocations: 7233)


Started GET "/products" for ::1 at 2019-10-03 16:48:14 +0300
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 1.5ms | Allocations: 759)
Completed 200 OK in 9ms (Views: 8.3ms | ActiveRecord: 0.1ms | Allocations: 6553)


Started GET "/products/1/edit" for ::1 at 2019-10-03 16:48:19 +0300
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:67:in `set_product'
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 2.4ms | Allocations: 1188)
  Rendered products/edit.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1442)
Completed 200 OK in 12ms (Views: 9.4ms | ActiveRecord: 0.2ms | Allocations: 7883)


Started PATCH "/products/1" for ::1 at 2019-10-03 16:48:21 +0300
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"rr59l9Adk5qcxflzLkl5wuXcPk9bliI5H7nZEqvr/a4T2G6EjpKdtrE0Qa/+WWd2Pqk1WVCKMRA0axyb9c9BXg==", "product"=>{"title"=>"product1", "description"=>"descr1", "image_url"=>"1.jpg", "price"=>"23.45"}, "commit"=>"Update Product", "id"=>"1"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:67:in `set_product'
Redirected to http://localhost:3000/products/1
Completed 302 Found in 3ms (ActiveRecord: 0.1ms | Allocations: 1235)


Started GET "/products/1" for ::1 at 2019-10-03 16:48:21 +0300
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:67:in `set_product'
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (Duration: 0.3ms | Allocations: 116)
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.1ms | Allocations: 6429)


Started GET "/products" for ::1 at 2019-10-03 16:48:24 +0300
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 1.4ms | Allocations: 755)
Completed 200 OK in 9ms (Views: 7.9ms | ActiveRecord: 0.1ms | Allocations: 6550)


Started GET "/products" for ::1 at 2019-10-03 16:59:26 +0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1237)
Completed 200 OK in 21ms (Views: 19.5ms | ActiveRecord: 0.2ms | Allocations: 9194)


Started GET "/products" for ::1 at 2019-10-03 17:13:45 +0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 14.7ms | Allocations: 7785)
Completed 500 Internal Server Error in 19ms (ActiveRecord: 0.2ms | Allocations: 9571)


  
ActionView::Template::Error (The asset "1.jpg" is not present in the asset pipeline.):
    16:   <tbody>
    17:     <% @products.each do |product| %>
    18:       <tr class="<%= cycle('list_line_odd', 'list_line_even') %>">
    19:         <td><%= image_tag(product.image_url, class: 'list_image') %></td>
    20:         <td><%= product.description %></td>
    21:         <td><%= product.image_url %></td>
    22:         <td><%= product.price %></td>
  
app/views/products/index.html.erb:19
app/views/products/index.html.erb:17
Started GET "/products" for ::1 at 2019-10-03 17:16:09 +0300
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 18.8ms | Allocations: 8045)
Completed 500 Internal Server Error in 20ms (ActiveRecord: 0.1ms | Allocations: 8530)


  
ActionView::Template::Error (Invalid CSS after "		: 60px": expected "{", was ";"):
    16:   <tbody>
    17:     <% @products.each do |product| %>
    18:       <tr class="<%= cycle('list_line_odd', 'list_line_even') %>">
    19:         <td><%= image_tag(product.image_url, class: 'list_image') %></td>
    20:         <td><%= product.description %></td>
    21:         <td><%= product.image_url %></td>
    22:         <td><%= product.price %></td>
  
app/assets/stylesheets/products.scss:14
app/views/products/index.html.erb:19
app/views/products/index.html.erb:17
Started GET "/products" for ::1 at 2019-10-03 17:17:24 +0300
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 777.1ms | Allocations: 1047533)
Completed 200 OK in 807ms (Views: 806.6ms | ActiveRecord: 0.1ms | Allocations: 1054464)


Started GET "/products/1" for ::1 at 2019-10-03 17:17:48 +0300
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:67:in `set_product'
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (Duration: 1.0ms | Allocations: 331)
Completed 200 OK in 10ms (Views: 7.9ms | ActiveRecord: 0.2ms | Allocations: 6896)


Started GET "/products" for ::1 at 2019-10-03 17:17:52 +0300
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1387)
Completed 200 OK in 9ms (Views: 8.3ms | ActiveRecord: 0.2ms | Allocations: 7158)


Started GET "/products" for ::1 at 2019-10-03 17:19:03 +0300
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 12.7ms | Allocations: 1860)
Completed 200 OK in 23ms (Views: 22.5ms | ActiveRecord: 0.1ms | Allocations: 8602)


Started GET "/products" for ::1 at 2019-10-03 17:19:17 +0300
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 1830)
Completed 200 OK in 24ms (Views: 22.2ms | ActiveRecord: 0.1ms | Allocations: 8550)


Started GET "/products/new" for ::1 at 2019-10-03 17:20:53 +0300
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 7.5ms | Allocations: 1517)
  Rendered products/new.html.erb within layouts/application (Duration: 8.6ms | Allocations: 1861)
Completed 200 OK in 19ms (Views: 17.6ms | ActiveRecord: 0.0ms | Allocations: 7913)


Started POST "/products" for ::1 at 2019-10-03 17:21:27 +0300
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"sODLpyDSLHeh8VLDC25X8IdAMyPVo9yXsuC1TtsRJQDSVL374fATsKkiajpZnHERitC5ZeE+QhuDDIhzxlSHNA==", "product"=>{"title"=>"product2", "description"=>"description for product2", "image_url"=>"2.jpg", "price"=>"14.56"}, "commit"=>"Create Product"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/products_controller.rb:30:in `block in create'
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "product2"], ["description", "description for product2"], ["image_url", "2.jpg"], ["price", 14.56], ["created_at", "2019-10-03 14:21:27.122357"], ["updated_at", "2019-10-03 14:21:27.122357"]]
  â†³ app/controllers/products_controller.rb:30:in `block in create'
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/products_controller.rb:30:in `block in create'
Redirected to http://localhost:3000/products/2
Completed 302 Found in 7ms (ActiveRecord: 2.0ms | Allocations: 2602)


Started GET "/products/2" for ::1 at 2019-10-03 17:21:27 +0300
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:67:in `set_product'
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (Duration: 0.6ms | Allocations: 335)
Completed 200 OK in 11ms (Views: 8.8ms | ActiveRecord: 0.1ms | Allocations: 6885)


Started GET "/products" for ::1 at 2019-10-03 17:21:29 +0300
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 788.1ms | Allocations: 1049743)
Completed 200 OK in 796ms (Views: 794.7ms | ActiveRecord: 0.1ms | Allocations: 1055449)


Started GET "/products/new" for ::1 at 2019-10-03 17:21:32 +0300
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 1.8ms | Allocations: 1099)
  Rendered products/new.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1184)
Completed 200 OK in 9ms (Views: 8.3ms | ActiveRecord: 0.0ms | Allocations: 7077)


Started POST "/products" for ::1 at 2019-10-03 17:22:06 +0300
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"lmzC5LvGq4RnvxXigKAMDvfYZ761JEOxjnU9Rqi+8FH02LS4euSUQ29sLRvSUirv+kjt+IG53T2/mQB7tftSZQ==", "product"=>{"title"=>"product3", "description"=>"description for product3", "image_url"=>"3.jpg", "price"=>"22.34"}, "commit"=>"Create Product"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/products_controller.rb:30:in `block in create'
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "product3"], ["description", "description for product3"], ["image_url", "3.jpg"], ["price", 22.34], ["created_at", "2019-10-03 14:22:06.303381"], ["updated_at", "2019-10-03 14:22:06.303381"]]
  â†³ app/controllers/products_controller.rb:30:in `block in create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/products_controller.rb:30:in `block in create'
Redirected to http://localhost:3000/products/3
Completed 302 Found in 6ms (ActiveRecord: 1.8ms | Allocations: 2593)


Started GET "/products/3" for ::1 at 2019-10-03 17:22:06 +0300
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:67:in `set_product'
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (Duration: 0.2ms | Allocations: 116)
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 0.1ms | Allocations: 6519)


Started GET "/products" for ::1 at 2019-10-03 17:22:09 +0300
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 4.6ms | Allocations: 3056)
Completed 200 OK in 11ms (Views: 10.4ms | ActiveRecord: 0.1ms | Allocations: 8841)


Started GET "/products/new" for ::1 at 2019-10-03 17:37:56 +0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 1.7ms | Allocations: 1167)
  Rendered products/new.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1254)
Completed 200 OK in 17ms (Views: 9.0ms | ActiveRecord: 0.0ms | Allocations: 12144)


Started POST "/products" for ::1 at 2019-10-03 17:37:58 +0300
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"dAZ13ifRXmEVFum7w0MVsTYinNZyqHfatF0EealE798WsgOC5vNhph3F0UKRsTNQO7IWkEY16VaFsTlEtAFN6w==", "product"=>{"title"=>"", "description"=>"", "image_url"=>"", "price"=>""}, "commit"=>"Create Product"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/products_controller.rb:30:in `block in create'
  [1m[36mProduct Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", ""], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:30:in `block in create'
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  â†³ app/controllers/products_controller.rb:30:in `block in create'
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 2.1ms | Allocations: 1684)
  Rendered products/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1769)
Completed 200 OK in 14ms (Views: 8.2ms | ActiveRecord: 0.2ms | Allocations: 12358)


Started GET "/store/index" for ::1 at 2019-10-04 10:20:30 +0300
  [1m[35m (1.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  Rendered store/index.html.erb within layouts/application (Duration: 1.2ms | Allocations: 206)
Completed 200 OK in 1016ms (Views: 1006.9ms | ActiveRecord: 0.0ms | Allocations: 1344126)


Started GET "/store/index" for ::1 at 2019-10-04 10:23:23 +0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  Rendered store/index.html.erb within layouts/application (Duration: 0.0ms | Allocations: 5)
Completed 200 OK in 8ms (Views: 7.7ms | ActiveRecord: 0.0ms | Allocations: 6856)


Started GET "/store/index" for ::1 at 2019-10-04 10:23:28 +0300
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  Rendered store/index.html.erb within layouts/application (Duration: 0.0ms | Allocations: 5)
Completed 200 OK in 7ms (Views: 6.6ms | ActiveRecord: 0.0ms | Allocations: 6695)


Started GET "/say/hello" for ::1 at 2019-10-04 10:23:30 +0300
  
ActionController::RoutingError (No route matches [GET] "/say/hello"):
  
actionpack (6.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.0) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.0) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.0.7) lib/webpacker/dev_server_proxy.rb:29:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.0) lib/rails/engine.rb:526:in `call'
rack (2.0.7) lib/rack/handler/webrick.rb:86:in `service'
/Users/venelinmonev/.rbenv/versions/2.6.3/lib/ruby/2.6.0/webrick/httpserver.rb:140:in `service'
/Users/venelinmonev/.rbenv/versions/2.6.3/lib/ruby/2.6.0/webrick/httpserver.rb:96:in `run'
/Users/venelinmonev/.rbenv/versions/2.6.3/lib/ruby/2.6.0/webrick/server.rb:307:in `block in start_thread'
Started GET "/" for ::1 at 2019-10-04 10:23:30 +0300
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  Rendered store/index.html.erb within layouts/application (Duration: 0.0ms | Allocations: 4)
Completed 200 OK in 8ms (Views: 7.4ms | ActiveRecord: 0.0ms | Allocations: 6705)


Started GET "/" for ::1 at 2019-10-04 10:23:31 +0300
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  Rendered store/index.html.erb within layouts/application (Duration: 0.0ms | Allocations: 4)
Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 0.0ms | Allocations: 6685)


Started GET "/" for ::1 at 2019-10-04 10:24:55 +0300
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  Rendered store/index.html.erb within layouts/application (Duration: 0.0ms | Allocations: 5)
Completed 200 OK in 7ms (Views: 6.8ms | ActiveRecord: 0.0ms | Allocations: 6696)


Started GET "/" for ::1 at 2019-10-04 10:25:25 +0300
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  Rendered store/index.html.erb within layouts/application (Duration: 0.1ms | Allocations: 4)
Completed 200 OK in 33ms (Views: 32.2ms | ActiveRecord: 0.0ms | Allocations: 6836)


Started GET "/" for ::1 at 2019-10-04 10:53:38 +0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:7
  Rendered store/index.html.erb within layouts/application (Duration: 11.9ms | Allocations: 7110)
Completed 200 OK in 39ms (Views: 34.5ms | ActiveRecord: 1.3ms | Allocations: 27200)


Started GET "/" for ::1 at 2019-10-04 10:56:04 +0300
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:7
  Rendered store/index.html.erb within layouts/application (Duration: 3.6ms | Allocations: 2563)
Completed 200 OK in 11ms (Views: 10.3ms | ActiveRecord: 0.1ms | Allocations: 9220)


Started GET "/" for ::1 at 2019-10-04 11:00:53 +0300
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:7
  Rendered store/index.html.erb within layouts/application (Duration: 3.8ms | Allocations: 2791)
Completed 200 OK in 13ms (Views: 11.8ms | ActiveRecord: 0.1ms | Allocations: 10374)


Started GET "/" for ::1 at 2019-10-04 11:03:46 +0300
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:7
  Rendered store/index.html.erb within layouts/application (Duration: 3.9ms | Allocations: 2796)
Completed 200 OK in 29ms (Views: 28.1ms | ActiveRecord: 0.1ms | Allocations: 22471)


Started GET "/" for ::1 at 2019-10-04 11:24:47 +0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:7
  Rendered store/index.html.erb within layouts/application (Duration: 3.9ms | Allocations: 2813)
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.2ms | Allocations: 14044)


  
ActionView::Template::Error (The asset "logo.png" is not present in the asset pipeline.):
    11: 
    12:   <body class='<%= controller.controller_name %>'>
    13:     <div id="banner">
    14:       <%= image_tag("logo.png") %>
    15:       <%= @page_title || "Pragmatic Bookshelf" %>
    16:     </div>
    17:     <div id="columns">
  
app/views/layouts/application.html.erb:14
Started GET "/" for ::1 at 2019-10-04 11:28:54 +0300
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:7
  Rendered store/index.html.erb within layouts/application (Duration: 3.7ms | Allocations: 2802)
Completed 200 OK in 689ms (Views: 687.7ms | ActiveRecord: 0.1ms | Allocations: 1051012)


Started GET "/" for ::1 at 2019-10-04 11:29:03 +0300
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:7
  Rendered store/index.html.erb within layouts/application (Duration: 4.1ms | Allocations: 2561)
Completed 200 OK in 14ms (Views: 12.7ms | ActiveRecord: 0.2ms | Allocations: 9700)


Started GET "/" for ::1 at 2019-10-04 11:31:57 +0300
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:7
  Rendered store/index.html.erb within layouts/application (Duration: 23.4ms | Allocations: 8260)
Completed 200 OK in 33ms (Views: 32.0ms | ActiveRecord: 0.1ms | Allocations: 16334)


Started GET "/" for ::1 at 2019-10-04 11:49:35 +0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:10:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 10.2ms | Allocations: 7737)
Completed 200 OK in 26ms (Views: 22.9ms | ActiveRecord: 0.3ms | Allocations: 18275)


Started GET "/" for ::1 at 2019-10-04 12:31:58 +0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:10:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.3ms | Allocations: 3605)
Completed 200 OK in 13ms (Views: 12.0ms | ActiveRecord: 0.3ms | Allocations: 10704)


  [1m[35m (1.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateCarts (20191004100836)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "carts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20191004100836"]]
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateLineItems (20191004102040)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_11e15d5c6b"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20191004102040"]]
  [1m[35m (12.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2019-10-04 13:43:32 +0300
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:17:in `latest'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 1069.1ms | Allocations: 1357198)
Completed 200 OK in 1108ms (Views: 1087.6ms | ActiveRecord: 1.2ms | Allocations: 1373136)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-04 13:43:40 +0300
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"E/GUTvTJCXbdOU6kwnRE8gSrrGEBesy6CIRQSAhN8tXrigUIjgWpWv0zfH2z+ls7A9DeSBmtxB9CFDVpBNnw7g==", "product_id"=>"1"}
Completed 400 Bad Request in 7ms (ActiveRecord: 0.0ms | Allocations: 2081)


  
ActionController::ParameterMissing (param is missing or the value is empty: line_item):
  
app/controllers/line_items_controller.rb:72:in `line_item_params'
app/controllers/line_items_controller.rb:27:in `create'
Started GET "/" for ::1 at 2019-10-04 13:43:57 +0300
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:17:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 6.9ms | Allocations: 4027)
Completed 200 OK in 19ms (Views: 18.0ms | ActiveRecord: 0.4ms | Allocations: 12851)


Started GET "/" for ::1 at 2019-10-04 14:10:27 +0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:17:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 10.1ms | Allocations: 8181)
Completed 200 OK in 23ms (Views: 19.6ms | ActiveRecord: 0.3ms | Allocations: 19437)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-04 14:10:30 +0300
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"PW4g7UxTQTE/En0W9JSTeDVu1zWc8PmAlCsUYJ7M2QzFFbGrNp/hHR8YT8+FGoyxMhWlHIQn8SXeu3FBkljbNw==", "product_id"=>"1"}
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[36mCart Create (0.5ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2019-10-04 11:10:30.443773"], ["updated_at", "2019-10-04 11:10:30.443773"]]
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:36:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 1], ["cart_id", 1], ["created_at", "2019-10-04 11:10:30.474674"], ["updated_at", "2019-10-04 11:10:30.474674"]]
  â†³ app/controllers/line_items_controller.rb:36:in `block in create'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:36:in `block in create'
Redirected to http://localhost:3000/carts/1
Completed 302 Found in 41ms (ActiveRecord: 3.6ms | Allocations: 18678)


Started GET "/carts/1" for ::1 at 2019-10-04 14:10:30 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  Rendered carts/show.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1979)
Completed 200 OK in 14ms (Views: 12.0ms | ActiveRecord: 0.4ms | Allocations: 12095)


Started GET "/carts" for ::1 at 2019-10-04 14:10:46 +0300
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  â†³ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 987)
Completed 200 OK in 13ms (Views: 11.6ms | ActiveRecord: 0.2ms | Allocations: 9964)


Started GET "/carts" for ::1 at 2019-10-04 14:10:57 +0300
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  â†³ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 1.2ms | Allocations: 734)
Completed 200 OK in 10ms (Views: 9.7ms | ActiveRecord: 0.1ms | Allocations: 9585)


Started GET "/" for ::1 at 2019-10-04 14:10:58 +0300
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:17:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.6ms | Allocations: 3987)
Completed 200 OK in 16ms (Views: 15.2ms | ActiveRecord: 0.2ms | Allocations: 12748)


Started GET "/" for ::1 at 2019-10-04 14:10:58 +0300
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:17:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.7ms | Allocations: 3978)
Completed 200 OK in 15ms (Views: 14.1ms | ActiveRecord: 0.2ms | Allocations: 12737)


Started POST "/line_items?product_id=2" for ::1 at 2019-10-04 14:11:24 +0300
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"HBIsfVwI1JJGo6xTO0cCUPQbUXoW9ldtRTSKO3dvBSjkab07JsR0vmapnopKyR2Z82AjUw4hX8gPpO8ae/sHEw==", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:36:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 2], ["cart_id", 1], ["created_at", "2019-10-04 11:11:24.535591"], ["updated_at", "2019-10-04 11:11:24.535591"]]
  â†³ app/controllers/line_items_controller.rb:36:in `block in create'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:36:in `block in create'
Redirected to http://localhost:3000/carts/1
Completed 302 Found in 6ms (ActiveRecord: 1.4ms | Allocations: 3560)


Started GET "/carts/1" for ::1 at 2019-10-04 14:11:24 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  Rendered carts/show.html.erb within layouts/application (Duration: 2.8ms | Allocations: 2131)
Completed 200 OK in 12ms (Views: 10.7ms | ActiveRecord: 0.3ms | Allocations: 11486)


Started GET "/carts" for ::1 at 2019-10-04 14:44:52 +0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  â†³ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 1.2ms | Allocations: 744)
Completed 200 OK in 10ms (Views: 9.3ms | ActiveRecord: 0.1ms | Allocations: 9599)


Started GET "/carts" for ::1 at 2019-10-04 14:44:59 +0300
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  â†³ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 1.7ms | Allocations: 964)
Completed 200 OK in 12ms (Views: 11.0ms | ActiveRecord: 0.1ms | Allocations: 9923)


Started GET "/" for ::1 at 2019-10-04 14:44:59 +0300
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:17:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 4019)
Completed 200 OK in 41ms (Views: 40.0ms | ActiveRecord: 0.3ms | Allocations: 12791)


Started GET "/" for ::1 at 2019-10-04 14:45:00 +0300
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:17:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 3981)
Completed 200 OK in 15ms (Views: 13.7ms | ActiveRecord: 0.2ms | Allocations: 12745)


Started POST "/line_items?product_id=2" for ::1 at 2019-10-04 14:45:03 +0300
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"PovEcrPwZOAa5JB1347Kzaabcaw8gp74zBEjR+olm4vG8FU0yTzEzDruoqyuANUEoeADhSRVll2GgUZm5rGZsA==", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:36:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 2], ["cart_id", 1], ["created_at", "2019-10-04 11:45:03.283156"], ["updated_at", "2019-10-04 11:45:03.283156"]]
  â†³ app/controllers/line_items_controller.rb:36:in `block in create'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:36:in `block in create'
Redirected to http://localhost:3000/carts/1
Completed 302 Found in 7ms (ActiveRecord: 1.5ms | Allocations: 3598)


Started GET "/carts/1" for ::1 at 2019-10-04 14:45:03 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  Rendered carts/show.html.erb within layouts/application (Duration: 4.0ms | Allocations: 2783)
Completed 200 OK in 14ms (Views: 12.1ms | ActiveRecord: 0.4ms | Allocations: 12138)


Started GET "/carts/1" for ::1 at 2019-10-04 14:53:24 +0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  Rendered carts/show.html.erb within layouts/application (Duration: 14.9ms | Allocations: 12939)
Completed 200 OK in 30ms (Views: 24.1ms | ActiveRecord: 0.5ms | Allocations: 25130)


Started GET "/carts/1" for ::1 at 2019-10-04 14:56:24 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  Rendered carts/show.html.erb within layouts/application (Duration: 3.7ms | Allocations: 2764)
Completed 200 OK in 17ms (Views: 15.6ms | ActiveRecord: 0.4ms | Allocations: 13879)


Started GET "/" for ::1 at 2019-10-04 14:56:29 +0300
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:17:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.9ms | Allocations: 4033)
Completed 200 OK in 18ms (Views: 16.5ms | ActiveRecord: 0.3ms | Allocations: 12907)


Started GET "/" for ::1 at 2019-10-04 14:56:29 +0300
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:17:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 3978)
Completed 200 OK in 14ms (Views: 13.2ms | ActiveRecord: 0.3ms | Allocations: 12693)


Started GET "/" for ::1 at 2019-10-04 14:57:13 +0300
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:17:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.9ms | Allocations: 4030)
Completed 200 OK in 19ms (Views: 17.6ms | ActiveRecord: 0.4ms | Allocations: 14545)


Started GET "/" for ::1 at 2019-10-04 14:57:16 +0300
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:17:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 6.3ms | Allocations: 3978)
Completed 200 OK in 15ms (Views: 14.1ms | ActiveRecord: 0.3ms | Allocations: 12732)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-04 14:57:23 +0300
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"TUwqbzkpDG8Z8M+769cfR/wlyjUZ69LsbQasVSRs/XK1N7spQ+WsQzn6/WKaWQCO+164HAE82kknlsl0KPj/SQ==", "product_id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:36:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 1], ["cart_id", 1], ["created_at", "2019-10-04 11:57:23.290814"], ["updated_at", "2019-10-04 11:57:23.290814"]]
  â†³ app/controllers/line_items_controller.rb:36:in `block in create'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:36:in `block in create'
Redirected to http://localhost:3000/carts/1
Completed 302 Found in 7ms (ActiveRecord: 1.5ms | Allocations: 3911)


Started GET "/carts/1" for ::1 at 2019-10-04 14:57:23 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  Rendered carts/show.html.erb within layouts/application (Duration: 4.2ms | Allocations: 3420)
Completed 200 OK in 42ms (Views: 39.6ms | ActiveRecord: 0.5ms | Allocations: 12736)


Started GET "/carts/1" for ::1 at 2019-10-04 15:01:27 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  Rendered carts/show.html.erb within layouts/application (Duration: 4.4ms | Allocations: 3402)
Completed 200 OK in 19ms (Views: 17.7ms | ActiveRecord: 0.4ms | Allocations: 14507)


Started GET "/carts/1" for ::1 at 2019-10-04 15:02:09 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  Rendered carts/show.html.erb within layouts/application (Duration: 4.7ms | Allocations: 3402)
Completed 200 OK in 19ms (Views: 16.8ms | ActiveRecord: 0.4ms | Allocations: 14958)


Started GET "/carts/1" for ::1 at 2019-10-04 15:02:27 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  Rendered carts/show.html.erb within layouts/application (Duration: 4.5ms | Allocations: 3400)
Completed 200 OK in 19ms (Views: 17.5ms | ActiveRecord: 0.4ms | Allocations: 15314)


Started GET "/carts/1" for ::1 at 2019-10-04 15:02:41 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  Rendered carts/show.html.erb within layouts/application (Duration: 4.6ms | Allocations: 3400)
Completed 200 OK in 19ms (Views: 17.3ms | ActiveRecord: 0.4ms | Allocations: 14885)


Started GET "/carts/1" for ::1 at 2019-10-04 15:02:57 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  Rendered carts/show.html.erb within layouts/application (Duration: 5.1ms | Allocations: 3400)
Completed 200 OK in 19ms (Views: 17.2ms | ActiveRecord: 0.4ms | Allocations: 15355)


Started GET "/carts/1" for ::1 at 2019-10-04 15:03:25 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  Rendered carts/show.html.erb within layouts/application (Duration: 4.4ms | Allocations: 3400)
Completed 200 OK in 20ms (Views: 17.8ms | ActiveRecord: 0.4ms | Allocations: 15302)


Started GET "/carts/1" for ::1 at 2019-10-04 15:03:41 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  Rendered carts/show.html.erb within layouts/application (Duration: 4.4ms | Allocations: 3400)
Completed 200 OK in 19ms (Views: 16.8ms | ActiveRecord: 0.4ms | Allocations: 14896)


Started GET "/carts/1" for ::1 at 2019-10-04 15:03:48 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  Rendered carts/show.html.erb within layouts/application (Duration: 4.6ms | Allocations: 3402)
Completed 200 OK in 15ms (Views: 13.1ms | ActiveRecord: 0.4ms | Allocations: 12747)


Started GET "/carts" for ::1 at 2019-10-04 15:03:48 +0300
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  â†³ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 1.2ms | Allocations: 741)
Completed 200 OK in 11ms (Views: 9.9ms | ActiveRecord: 0.2ms | Allocations: 9542)


Started GET "/carts/1" for ::1 at 2019-10-04 15:03:48 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  Rendered carts/show.html.erb within layouts/application (Duration: 4.5ms | Allocations: 3400)
Completed 200 OK in 14ms (Views: 12.8ms | ActiveRecord: 0.4ms | Allocations: 12688)


Started GET "/" for ::1 at 2019-10-04 15:03:49 +0300
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:17:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 3980)
Completed 200 OK in 16ms (Views: 15.2ms | ActiveRecord: 0.3ms | Allocations: 12693)


Started GET "/" for ::1 at 2019-10-04 15:03:49 +0300
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:17:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.9ms | Allocations: 3981)
Completed 200 OK in 16ms (Views: 15.0ms | ActiveRecord: 0.3ms | Allocations: 12692)


Started GET "/" for ::1 at 2019-10-04 15:05:07 +0300
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:17:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.5ms | Allocations: 3991)
Completed 200 OK in 46ms (Views: 44.9ms | ActiveRecord: 0.2ms | Allocations: 14518)


Started GET "/" for ::1 at 2019-10-04 15:07:41 +0300
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:17:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 6.1ms | Allocations: 4325)
Completed 200 OK in 851ms (Views: 850.1ms | ActiveRecord: 0.2ms | Allocations: 1053771)


Started GET "/carts/1" for ::1 at 2019-10-04 15:08:48 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:4
  Rendered carts/show.html.erb within layouts/application (Duration: 5.4ms | Allocations: 3617)
Completed 200 OK in 18ms (Views: 15.4ms | ActiveRecord: 0.4ms | Allocations: 13972)


  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddQuantityToLineItems (20191004121954)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE "line_items" ADD "quantity" integer DEFAULT 1[0m
  [1m[36mprimary::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20191004121954"]]
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/carts/1" for ::1 at 2019-10-04 15:40:59 +0300
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  â†³ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  Rendered carts/show.html.erb within layouts/application (Duration: 31.2ms | Allocations: 18527)
Started GET "/carts" for ::1 at 2019-10-04 15:40:59 +0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  â†³ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 3.9ms | Allocations: 1118)
Started GET "/carts/1" for ::1 at 2019-10-04 15:40:59 +0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  â†³ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  Rendered carts/show.html.erb within layouts/application (Duration: 6.7ms | Allocations: 4319)
Started GET "/" for ::1 at 2019-10-04 15:41:00 +0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:17:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
Started GET "/" for ::1 at 2019-10-04 15:41:01 +0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:17:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
Completed 200 OK in 4389ms (Views: 4386.9ms | ActiveRecord: 0.3ms | Allocations: 4629440)


Completed 200 OK in 4664ms (Views: 4648.8ms | ActiveRecord: 2.3ms | Allocations: 4980219)


Completed 200 OK in 4413ms (Views: 4410.9ms | ActiveRecord: 0.5ms | Allocations: 4685657)


  Rendered store/index.html.erb within layouts/application (Duration: 4098.3ms | Allocations: 4465888)
Completed 200 OK in 4121ms (Views: 4119.2ms | ActiveRecord: 0.4ms | Allocations: 4482443)


  Rendered store/index.html.erb within layouts/application (Duration: 3686.1ms | Allocations: 4008074)
Completed 200 OK in 3695ms (Views: 3693.9ms | ActiveRecord: 0.3ms | Allocations: 4016815)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-04 15:41:09 +0300
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"n3g3ZcIG097FasgABVJ/wcGoVM4YHMFKOw/63TXRs/NnA6YjuMpz8uVg+tl03GAIxtMm5wDLye9xn5/8OUWxyA==", "product_id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 1], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.4ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2019-10-04 12:41:09.819107"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/carts/1
Completed 302 Found in 13ms (ActiveRecord: 2.2ms | Allocations: 5773)


Started GET "/carts/1" for ::1 at 2019-10-04 15:41:09 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  â†³ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  Rendered carts/show.html.erb within layouts/application (Duration: 5.1ms | Allocations: 3441)
Completed 200 OK in 16ms (Views: 13.6ms | ActiveRecord: 0.5ms | Allocations: 12757)


Started GET "/" for ::1 at 2019-10-04 15:41:22 +0300
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:17:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 6.7ms | Allocations: 3978)
Completed 200 OK in 50ms (Views: 48.9ms | ActiveRecord: 0.3ms | Allocations: 12700)


Started POST "/line_items?product_id=2" for ::1 at 2019-10-04 15:41:24 +0300
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"FbJ6HZlfn9uA7ulTLVfZKAVeJXgSiux+zIzWp411GZx64nhtX3TMFEBX/4BQ3QdDaay3Fw3AZUr17FkOPTeYpA==", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 1], ["product_id", 2], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2019-10-04 12:41:24.674508"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/carts/1
Completed 302 Found in 9ms (ActiveRecord: 2.2ms | Allocations: 5285)


Started GET "/carts/1" for ::1 at 2019-10-04 15:41:24 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  â†³ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  Rendered carts/show.html.erb within layouts/application (Duration: 5.6ms | Allocations: 4666)
Completed 200 OK in 17ms (Views: 14.9ms | ActiveRecord: 0.4ms | Allocations: 14758)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-04 15:41:28 +0300
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"n3g3ZcIG097FasgABVJ/wcGoVM4YHMFKOw/63TXRs/NnA6YjuMpz8uVg+tl03GAIxtMm5wDLye9xn5/8OUWxyA==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 1], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 3], ["updated_at", "2019-10-04 12:41:28.646204"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/carts/1
Completed 302 Found in 9ms (ActiveRecord: 2.0ms | Allocations: 5262)


Started GET "/carts/1" for ::1 at 2019-10-04 15:41:28 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  â†³ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  Rendered carts/show.html.erb within layouts/application (Duration: 4.5ms | Allocations: 3417)
Completed 200 OK in 15ms (Views: 13.0ms | ActiveRecord: 0.4ms | Allocations: 12726)


Started POST "/line_items?product_id=3" for ::1 at 2019-10-04 15:41:42 +0300
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"DBJrBcTtEFCquMhd6hB9IFzMyPYXDSVOhVi01aelU3xjQml1AsZDn2oB3o6XmqNLMD5amQhHrHq8ODt8F+fSRA==", "product_id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 1], ["product_id", 3], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 3], ["cart_id", 1], ["created_at", "2019-10-04 12:41:42.093567"], ["updated_at", "2019-10-04 12:41:42.093567"]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/carts/1
Completed 302 Found in 8ms (ActiveRecord: 1.9ms | Allocations: 5375)


Started GET "/carts/1" for ::1 at 2019-10-04 15:41:42 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  â†³ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  Rendered carts/show.html.erb within layouts/application (Duration: 5.2ms | Allocations: 4112)
Completed 200 OK in 15ms (Views: 13.8ms | ActiveRecord: 0.4ms | Allocations: 13417)


Started POST "/line_items?product_id=3" for ::1 at 2019-10-04 15:41:57 +0300
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"n3g3ZcIG097FasgABVJ/wcGoVM4YHMFKOw/63TXRs/NnA6YjuMpz8uVg+tl03GAIxtMm5wDLye9xn5/8OUWxyA==", "product_id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 1], ["product_id", 3], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2019-10-04 12:41:57.346694"], ["id", 5]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/carts/1
Completed 302 Found in 9ms (ActiveRecord: 2.0ms | Allocations: 5257)


Started GET "/carts/1" for ::1 at 2019-10-04 15:41:57 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  â†³ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  Rendered carts/show.html.erb within layouts/application (Duration: 5.3ms | Allocations: 4112)
Completed 200 OK in 16ms (Views: 13.8ms | ActiveRecord: 0.5ms | Allocations: 13426)


  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CombineItemsInCart (20191004124809)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("line_items"."quantity") AS sum_quantity, "line_items"."product_id" AS line_items_product_id FROM "line_items" WHERE "line_items"."cart_id" = ? GROUP BY "line_items"."product_id"[0m  [["cart_id", 1]]
  [1m[36mLineItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ?[0m  [["cart_id", 1], ["product_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLineItem Create (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "quantity") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 1], ["cart_id", 1], ["created_at", "2019-10-04 13:06:51.972352"], ["updated_at", "2019-10-04 13:06:51.972352"], ["quantity", 4]]
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ?[0m  [["cart_id", 1], ["product_id", 2]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLineItem Create (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "quantity") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 2], ["cart_id", 1], ["created_at", "2019-10-04 13:06:51.976346"], ["updated_at", "2019-10-04 13:06:51.976346"], ["quantity", 3]]
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ?[0m  [["cart_id", 1], ["product_id", 3]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mLineItem Create (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "quantity") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 3], ["cart_id", 1], ["created_at", "2019-10-04 13:06:51.979856"], ["updated_at", "2019-10-04 13:06:51.979856"], ["quantity", 2]]
  [1m[36mprimary::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20191004124809"]]
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/carts/1" for ::1 at 2019-10-04 16:07:30 +0300
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  â†³ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  Rendered carts/show.html.erb within layouts/application (Duration: 22.7ms | Allocations: 17646)
Completed 200 OK in 970ms (Views: 955.7ms | ActiveRecord: 1.8ms | Allocations: 1364544)


  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CombineItemsInCart (20191004124809)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE (quantity>1)[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLineItem Create (0.5ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 1], ["cart_id", 1], ["created_at", "2019-10-04 13:19:37.797625"], ["updated_at", "2019-10-04 13:19:37.797625"]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLineItem Create (1.1ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 1], ["cart_id", 1], ["created_at", "2019-10-04 13:19:37.810676"], ["updated_at", "2019-10-04 13:19:37.810676"]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLineItem Create (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 1], ["cart_id", 1], ["created_at", "2019-10-04 13:19:37.822821"], ["updated_at", "2019-10-04 13:19:37.822821"]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLineItem Create (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 1], ["cart_id", 1], ["created_at", "2019-10-04 13:19:37.837826"], ["updated_at", "2019-10-04 13:19:37.837826"]]
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 6]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLineItem Create (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 2], ["cart_id", 1], ["created_at", "2019-10-04 13:19:37.842380"], ["updated_at", "2019-10-04 13:19:37.842380"]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLineItem Create (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 2], ["cart_id", 1], ["created_at", "2019-10-04 13:19:37.845663"], ["updated_at", "2019-10-04 13:19:37.845663"]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLineItem Create (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 2], ["cart_id", 1], ["created_at", "2019-10-04 13:19:37.849093"], ["updated_at", "2019-10-04 13:19:37.849093"]]
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 7]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLineItem Create (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 3], ["cart_id", 1], ["created_at", "2019-10-04 13:19:37.853021"], ["updated_at", "2019-10-04 13:19:37.853021"]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCart Load (0.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLineItem Create (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 3], ["cart_id", 1], ["created_at", "2019-10-04 13:19:37.856368"], ["updated_at", "2019-10-04 13:19:37.856368"]]
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 8]]
  [1m[36mprimary::SchemaMigration Destroy (0.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20191004124809"]]
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/carts/1" for ::1 at 2019-10-04 16:21:31 +0300
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.0) lib/active_record/migration.rb:587:in `check_pending!'
activerecord (6.0.0) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.0) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.0) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.0) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.0) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.0.7) lib/webpacker/dev_server_proxy.rb:29:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.0) lib/rails/engine.rb:526:in `call'
rack (2.0.7) lib/rack/handler/webrick.rb:86:in `service'
/Users/venelinmonev/.rbenv/versions/2.6.3/lib/ruby/2.6.0/webrick/httpserver.rb:140:in `service'
/Users/venelinmonev/.rbenv/versions/2.6.3/lib/ruby/2.6.0/webrick/httpserver.rb:96:in `run'
/Users/venelinmonev/.rbenv/versions/2.6.3/lib/ruby/2.6.0/webrick/server.rb:307:in `block in start_thread'
Started GET "/carts/1" for ::1 at 2019-10-04 16:21:38 +0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.0) lib/active_record/migration.rb:587:in `check_pending!'
activerecord (6.0.0) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.0) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.0) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.0) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.0) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.0.7) lib/webpacker/dev_server_proxy.rb:29:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.0) lib/rails/engine.rb:526:in `call'
rack (2.0.7) lib/rack/handler/webrick.rb:86:in `service'
/Users/venelinmonev/.rbenv/versions/2.6.3/lib/ruby/2.6.0/webrick/httpserver.rb:140:in `service'
/Users/venelinmonev/.rbenv/versions/2.6.3/lib/ruby/2.6.0/webrick/httpserver.rb:96:in `run'
/Users/venelinmonev/.rbenv/versions/2.6.3/lib/ruby/2.6.0/webrick/server.rb:307:in `block in start_thread'
Started GET "/carts" for ::1 at 2019-10-04 16:21:39 +0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.0) lib/active_record/migration.rb:587:in `check_pending!'
activerecord (6.0.0) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.0) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.0) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.0) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.0) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.0.7) lib/webpacker/dev_server_proxy.rb:29:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.0) lib/rails/engine.rb:526:in `call'
rack (2.0.7) lib/rack/handler/webrick.rb:86:in `service'
/Users/venelinmonev/.rbenv/versions/2.6.3/lib/ruby/2.6.0/webrick/httpserver.rb:140:in `service'
/Users/venelinmonev/.rbenv/versions/2.6.3/lib/ruby/2.6.0/webrick/httpserver.rb:96:in `run'
/Users/venelinmonev/.rbenv/versions/2.6.3/lib/ruby/2.6.0/webrick/server.rb:307:in `block in start_thread'
Started GET "/carts/1" for ::1 at 2019-10-04 16:21:39 +0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.0) lib/active_record/migration.rb:587:in `check_pending!'
activerecord (6.0.0) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.0) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.0) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.0) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.0) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.0.7) lib/webpacker/dev_server_proxy.rb:29:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.0) lib/rails/engine.rb:526:in `call'
rack (2.0.7) lib/rack/handler/webrick.rb:86:in `service'
/Users/venelinmonev/.rbenv/versions/2.6.3/lib/ruby/2.6.0/webrick/httpserver.rb:140:in `service'
/Users/venelinmonev/.rbenv/versions/2.6.3/lib/ruby/2.6.0/webrick/httpserver.rb:96:in `run'
/Users/venelinmonev/.rbenv/versions/2.6.3/lib/ruby/2.6.0/webrick/server.rb:307:in `block in start_thread'
Started GET "/" for ::1 at 2019-10-04 16:21:39 +0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.0) lib/active_record/migration.rb:587:in `check_pending!'
activerecord (6.0.0) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.0) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.0) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.0) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.0) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.0.7) lib/webpacker/dev_server_proxy.rb:29:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.0) lib/rails/engine.rb:526:in `call'
rack (2.0.7) lib/rack/handler/webrick.rb:86:in `service'
/Users/venelinmonev/.rbenv/versions/2.6.3/lib/ruby/2.6.0/webrick/httpserver.rb:140:in `service'
/Users/venelinmonev/.rbenv/versions/2.6.3/lib/ruby/2.6.0/webrick/httpserver.rb:96:in `run'
/Users/venelinmonev/.rbenv/versions/2.6.3/lib/ruby/2.6.0/webrick/server.rb:307:in `block in start_thread'
Started GET "/" for ::1 at 2019-10-04 16:21:40 +0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.0) lib/active_record/migration.rb:587:in `check_pending!'
activerecord (6.0.0) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.0) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.0) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.1) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.0) lib/rails/rack/logger.rb:38:in `call_app'
railties (6.0.0) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.0) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.0) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.0) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.0) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.7) lib/rack/method_override.rb:22:in `call'
rack (2.0.7) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.0.7) lib/rack/sendfile.rb:111:in `call'
actionpack (6.0.0) lib/action_dispatch/middleware/host_authorization.rb:83:in `call'
webpacker (4.0.7) lib/webpacker/dev_server_proxy.rb:29:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.0) lib/rails/engine.rb:526:in `call'
rack (2.0.7) lib/rack/handler/webrick.rb:86:in `service'
/Users/venelinmonev/.rbenv/versions/2.6.3/lib/ruby/2.6.0/webrick/httpserver.rb:140:in `service'
/Users/venelinmonev/.rbenv/versions/2.6.3/lib/ruby/2.6.0/webrick/httpserver.rb:96:in `run'
/Users/venelinmonev/.rbenv/versions/2.6.3/lib/ruby/2.6.0/webrick/server.rb:307:in `block in start_thread'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddQuantityToLineItems (20191004121954)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity" FROM "line_items"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_11e15d5c6b"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at")
                     SELECT "id","product_id","cart_id","created_at","updated_at" FROM "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mprimary::SchemaMigration Destroy (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20191004121954"]]
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddQuantityToLineItems (20191004121954)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "line_items" ADD "quantity" integer DEFAULT 1[0m
  [1m[36mprimary::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20191004121954"]]
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CombineItemsInCart (20191004124809)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT SUM("line_items"."quantity") AS sum_quantity, "line_items"."product_id" AS line_items_product_id FROM "line_items" WHERE "line_items"."cart_id" = ? GROUP BY "line_items"."product_id"[0m  [["cart_id", 1]]
  [1m[36mLineItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ?[0m  [["cart_id", 1], ["product_id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mLineItem Create (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "quantity") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 1], ["cart_id", 1], ["created_at", "2019-10-04 13:26:42.692341"], ["updated_at", "2019-10-04 13:26:42.692341"], ["quantity", 4]]
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ?[0m  [["cart_id", 1], ["product_id", 2]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mLineItem Create (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "quantity") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 2], ["cart_id", 1], ["created_at", "2019-10-04 13:26:42.696246"], ["updated_at", "2019-10-04 13:26:42.696246"], ["quantity", 3]]
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ?[0m  [["cart_id", 1], ["product_id", 3]]
  [1m[36mProduct Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mLineItem Create (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "quantity") VALUES (?, ?, ?, ?, ?)[0m  [["product_id", 3], ["cart_id", 1], ["created_at", "2019-10-04 13:26:42.699542"], ["updated_at", "2019-10-04 13:26:42.699542"], ["quantity", 2]]
  [1m[36mprimary::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20191004124809"]]
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2019-10-04 16:27:39 +0300
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:17:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 1015.6ms | Allocations: 1342602)
Completed 200 OK in 1038ms (Views: 1029.3ms | ActiveRecord: 1.1ms | Allocations: 1355873)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-04 16:27:45 +0300
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"x7nGACJaYEjwhtuQqHGQewM3tLon7QSdXBjAc2Ki8XM/wldGWJbAZNCM6UnZ/4+yBEzGkz86DDgWiKVSbjbzSA==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 1], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.4ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 5], ["updated_at", "2019-10-04 13:27:45.747106"], ["id", 18]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/carts/1
Completed 302 Found in 34ms (ActiveRecord: 3.0ms | Allocations: 16739)


Started GET "/carts/1" for ::1 at 2019-10-04 16:27:45 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  â†³ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  Rendered carts/show.html.erb within layouts/application (Duration: 4.5ms | Allocations: 3247)
Completed 200 OK in 16ms (Views: 13.4ms | ActiveRecord: 0.5ms | Allocations: 13210)


Started GET "/carts/1" for ::1 at 2019-10-04 16:28:08 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  â†³ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  Rendered carts/show.html.erb within layouts/application (Duration: 4.6ms | Allocations: 2828)
Completed 200 OK in 16ms (Views: 13.5ms | ActiveRecord: 0.5ms | Allocations: 12140)


Started GET "/carts/www" for ::1 at 2019-10-04 16:28:10 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"www"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:67:in `set_cart'
Completed 404 Not Found in 1ms (ActiveRecord: 0.1ms | Allocations: 1062)


  
ActiveRecord::RecordNotFound (Couldn't find Cart with 'id'=www):
  
app/controllers/carts_controller.rb:67:in `set_cart'
Started GET "/carts/1" for ::1 at 2019-10-04 16:47:41 +0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:68:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  â†³ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  Rendered carts/show.html.erb within layouts/application (Duration: 17.8ms | Allocations: 13593)
Completed 200 OK in 34ms (Views: 27.0ms | ActiveRecord: 0.7ms | Allocations: 25869)


Started GET "/carts/1" for ::1 at 2019-10-04 16:47:47 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:68:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  â†³ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  Rendered carts/show.html.erb within layouts/application (Duration: 4.1ms | Allocations: 2828)
Completed 200 OK in 15ms (Views: 13.0ms | ActiveRecord: 0.4ms | Allocations: 12139)


Started GET "/carts/1" for ::1 at 2019-10-04 16:47:50 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:68:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  â†³ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  Rendered carts/show.html.erb within layouts/application (Duration: 3.7ms | Allocations: 2826)
Completed 200 OK in 14ms (Views: 12.1ms | ActiveRecord: 0.4ms | Allocations: 12119)


Started GET "/carts/www" for ::1 at 2019-10-04 16:47:51 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"www"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:68:in `set_cart'
Attempt to access invalid cart www
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1104)


Started GET "/" for ::1 at 2019-10-04 16:47:51 +0300
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:17:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.9ms | Allocations: 4055)
Completed 200 OK in 16ms (Views: 14.5ms | ActiveRecord: 0.3ms | Allocations: 12958)


Started GET "/carts/www" for ::1 at 2019-10-04 16:47:52 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"www"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:68:in `set_cart'
Attempt to access invalid cart www
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1104)


Started GET "/" for ::1 at 2019-10-04 16:47:52 +0300
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:17:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 3984)
Completed 200 OK in 15ms (Views: 14.2ms | ActiveRecord: 0.2ms | Allocations: 12709)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-04 16:56:23 +0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"K67RUB3201pa4nF0dwcDTc8mn3Emp3KESarP4PD81wLT1UAWZzpzdnroQ60GiRyEyF3tWD5weiEDOqrB/GjVOQ==", "product_id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 1], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 6], ["updated_at", "2019-10-04 13:56:23.146816"], ["id", 18]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/carts/1
Completed 302 Found in 25ms (ActiveRecord: 1.9ms | Allocations: 18691)


Started GET "/carts/1" for ::1 at 2019-10-04 16:56:23 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:68:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  â†³ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  Rendered carts/show.html.erb within layouts/application (Duration: 4.1ms | Allocations: 3003)
Completed 200 OK in 15ms (Views: 12.5ms | ActiveRecord: 0.5ms | Allocations: 12533)


Started GET "/carts/1" for ::1 at 2019-10-04 16:56:28 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:68:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  â†³ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  Rendered carts/show.html.erb within layouts/application (Duration: 4.1ms | Allocations: 2828)
Completed 200 OK in 14ms (Views: 12.3ms | ActiveRecord: 0.4ms | Allocations: 12136)


Started GET "/carts/aa" for ::1 at 2019-10-04 16:56:30 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"aa"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:68:in `set_cart'
Attempt to access invalid cart aa
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 1098)


Started GET "/" for ::1 at 2019-10-04 16:56:30 +0300
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:17:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 6.0ms | Allocations: 4035)
Completed 200 OK in 15ms (Views: 14.1ms | ActiveRecord: 0.3ms | Allocations: 12934)


Started GET "/" for ::1 at 2019-10-04 16:56:41 +0300
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:17:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.6ms | Allocations: 3978)
Completed 200 OK in 15ms (Views: 13.8ms | ActiveRecord: 0.2ms | Allocations: 12697)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-04 17:07:54 +0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"S+BpwmqhOR2pPfqxdCfM278XSxGiOcilLrm4zlO2VCOzm/iEEG2ZMYk3yGgFqdMSuGw5OLruwABkKd3vXyJWGA==", "product_id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 1], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 7], ["updated_at", "2019-10-04 14:07:54.419745"], ["id", 18]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/carts/1
Completed 302 Found in 26ms (ActiveRecord: 2.6ms | Allocations: 18631)


Started GET "/carts/1" for ::1 at 2019-10-04 17:07:54 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  â†³ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  Rendered carts/show.html.erb within layouts/application (Duration: 5.1ms | Allocations: 3403)
Completed 200 OK in 17ms (Views: 14.7ms | ActiveRecord: 0.5ms | Allocations: 13791)


Started DELETE "/carts/1" for ::1 at 2019-10-04 17:08:03 +0300
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"l+nMqskyhgwfRoqj2rDp92vUDTnmRTR/ir4zO0L8j29vkl3ss/4mID9MuHqrPvY+bK9/EP6SPNrALlYaTmiNVA==", "id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 18]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 19]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 20]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mCart Destroy (0.2ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 9ms (ActiveRecord: 1.7ms | Allocations: 6293)


Started GET "/" for ::1 at 2019-10-04 17:08:03 +0300
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:17:in `latest'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 7.1ms | Allocations: 4353)
Completed 200 OK in 17ms (Views: 16.0ms | ActiveRecord: 0.4ms | Allocations: 13674)


Started POST "/line_items?product_id=2" for ::1 at 2019-10-04 17:08:09 +0300
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"Y2cQKqasG8EPWxrYzOWmuUpKwyq6DN3Twm0WacEGbBqbHIFs3GC77S9RKAG9a7lwTTGxA6Lb1XaI/XNIzZJuIQ==", "product_id"=>"2"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2019-10-04 14:08:09.516590"], ["updated_at", "2019-10-04 14:08:09.516590"]]
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 2], ["product_id", 2], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 2], ["cart_id", 2], ["created_at", "2019-10-04 14:08:09.524428"], ["updated_at", "2019-10-04 14:08:09.524428"]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/carts/2
Completed 302 Found in 12ms (ActiveRecord: 3.1ms | Allocations: 7298)


Started GET "/carts/2" for ::1 at 2019-10-04 17:08:09 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 2]]
  â†³ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  Rendered carts/show.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1590)
Completed 200 OK in 13ms (Views: 11.1ms | ActiveRecord: 0.3ms | Allocations: 10893)


Started GET "/carts" for ::1 at 2019-10-04 17:08:15 +0300
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  â†³ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 2.0ms | Allocations: 986)
Completed 200 OK in 11ms (Views: 10.1ms | ActiveRecord: 0.2ms | Allocations: 9920)


Started GET "/carts/2/edit" for ::1 at 2019-10-04 17:08:22 +0300
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (Duration: 1.6ms | Allocations: 697)
  Rendered carts/edit.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1090)
Completed 200 OK in 14ms (Views: 11.8ms | ActiveRecord: 0.2ms | Allocations: 10528)


Started PATCH "/carts/2" for ::1 at 2019-10-04 17:08:24 +0300
Processing by CartsController#update as HTML
  Parameters: {"authenticity_token"=>"R0bZ/f9TTTvVioE22Dkw9m9FQv+XlagQWAShBEVgjAg5JEkg3HSYxg/9kyl6q96+CB340aUvJO/dWboHc2FCJA==", "commit"=>"Update Cart", "id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
Redirected to http://localhost:3000/carts/2
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1097)


Started GET "/carts/2" for ::1 at 2019-10-04 17:08:24 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 2]]
  â†³ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  Rendered carts/show.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1581)
Completed 200 OK in 12ms (Views: 10.1ms | ActiveRecord: 0.2ms | Allocations: 10896)


Started GET "/carts/2/edit" for ::1 at 2019-10-04 17:08:29 +0300
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (Duration: 0.9ms | Allocations: 365)
  Rendered carts/edit.html.erb within layouts/application (Duration: 1.2ms | Allocations: 479)
Completed 200 OK in 11ms (Views: 9.5ms | ActiveRecord: 0.1ms | Allocations: 9773)


Started PATCH "/carts/2" for ::1 at 2019-10-04 17:08:31 +0300
Processing by CartsController#update as HTML
  Parameters: {"authenticity_token"=>"IwE5p1cZuW5to1EhaopULTQw/Q6M1knngsDhYTajdE5dY6l6dD5sk7fUQz7IGLplU2hHIL5sxRgHnfpiAKK6Yg==", "commit"=>"Update Cart", "id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
Redirected to http://localhost:3000/carts/2
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1070)


Started GET "/carts/2" for ::1 at 2019-10-04 17:08:31 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 2]]
  â†³ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  Rendered carts/show.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1579)
Completed 200 OK in 13ms (Views: 11.2ms | ActiveRecord: 0.3ms | Allocations: 10890)


Started GET "/carts/www" for ::1 at 2019-10-04 17:11:00 +0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by CartsController#show as HTML
  Parameters: {"id"=>"www"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
Attempt to access invalid cart www
Redirected to http://localhost:3000/
Completed 302 Found in 4ms (ActiveRecord: 0.5ms | Allocations: 2577)


Started GET "/" for ::1 at 2019-10-04 17:11:00 +0300
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:17:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 10.3ms | Allocations: 7955)
Completed 200 OK in 22ms (Views: 18.3ms | ActiveRecord: 0.8ms | Allocations: 18232)


Started GET "/carts" for ::1 at 2019-10-04 17:11:00 +0300
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  â†³ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 3.6ms | Allocations: 2321)
Completed 200 OK in 13ms (Views: 12.3ms | ActiveRecord: 0.2ms | Allocations: 11283)


Started GET "/" for ::1 at 2019-10-04 17:11:00 +0300
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:17:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.3ms | Allocations: 3978)
Completed 200 OK in 15ms (Views: 13.9ms | ActiveRecord: 0.2ms | Allocations: 12693)


Started GET "/" for ::1 at 2019-10-04 17:11:02 +0300
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:17:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.9ms | Allocations: 3991)
Completed 200 OK in 42ms (Views: 41.5ms | ActiveRecord: 0.4ms | Allocations: 12719)


Started POST "/line_items?product_id=2" for ::1 at 2019-10-04 17:11:05 +0300
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"LKLkRoBE2JB8YlXyrkcQR2KgQNnhbBYd6NIX850VjwXU2XUA+oh4vFxoZyvfyQ+OZdsy8Pm7HriiQnLSkYGNPg==", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 2], ["product_id", 2], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2019-10-04 14:11:05.487090"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/carts/2
Completed 302 Found in 16ms (ActiveRecord: 2.1ms | Allocations: 11321)


Started GET "/carts/2" for ::1 at 2019-10-04 17:11:05 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 2]]
  â†³ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  Rendered carts/show.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1736)
Completed 200 OK in 13ms (Views: 11.6ms | ActiveRecord: 0.4ms | Allocations: 11029)


Started GET "/" for ::1 at 2019-10-04 17:11:09 +0300
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:17:in `latest'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 6.6ms | Allocations: 3978)
Completed 200 OK in 19ms (Views: 17.6ms | ActiveRecord: 0.4ms | Allocations: 12693)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-04 17:11:10 +0300
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"+M15OQIaMSgIWjSN4YMH6kWw8y3UOAJKy3OrK3nMGDWXnXtJxDFi58jjIl6cCdmBKUJhQstyi37yEySCyY6ZDQ==", "product_id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 2], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 1], ["cart_id", 2], ["created_at", "2019-10-04 14:11:10.868747"], ["updated_at", "2019-10-04 14:11:10.868747"]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/carts/2
Completed 302 Found in 9ms (ActiveRecord: 2.1ms | Allocations: 5321)


Started GET "/carts/2" for ::1 at 2019-10-04 17:11:10 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 2]]
  â†³ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  Rendered carts/show.html.erb within layouts/application (Duration: 5.6ms | Allocations: 3965)
Completed 200 OK in 16ms (Views: 14.7ms | ActiveRecord: 0.4ms | Allocations: 14580)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-04 17:11:14 +0300
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"LKLkRoBE2JB8YlXyrkcQR2KgQNnhbBYd6NIX850VjwXU2XUA+oh4vFxoZyvfyQ+OZdsy8Pm7HriiQnLSkYGNPg==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 2], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2019-10-04 14:11:14.311525"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/carts/2
Completed 302 Found in 9ms (ActiveRecord: 2.1ms | Allocations: 5247)


Started GET "/carts/2" for ::1 at 2019-10-04 17:11:14 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 2]]
  â†³ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:8
  Rendered carts/show.html.erb within layouts/application (Duration: 3.1ms | Allocations: 2269)
Completed 200 OK in 13ms (Views: 11.5ms | ActiveRecord: 0.3ms | Allocations: 11562)


Started DELETE "/carts/2" for ::1 at 2019-10-04 17:11:20 +0300
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"+aj4iEtAX0GIAQm0hrhvYpceqlFJIx5HeRgjUqdb4QIB02nOMYz/bagLO233NnCrkGXYeFH0FuIziEZzq8/jOQ==", "id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 2]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 2]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mCart Destroy (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 2]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 10ms (ActiveRecord: 1.8ms | Allocations: 5344)


Started GET "/" for ::1 at 2019-10-04 17:11:20 +0300
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:17:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.8ms | Allocations: 3983)
Completed 200 OK in 15ms (Views: 14.4ms | ActiveRecord: 0.2ms | Allocations: 12708)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-04 17:25:15 +0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"3c3IRfNLNdwShx+ukY7PhdUidqL1eqrdDii98OyXj3QltlkDiYeV8DKNLXfgANBM0lkEi+2tonhEuNjR4AONTw==", "product_id"=>"1"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2019-10-04 14:25:15.485137"], ["updated_at", "2019-10-04 14:25:15.485137"]]
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 3], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 1], ["cart_id", 3], ["created_at", "2019-10-04 14:25:15.506870"], ["updated_at", "2019-10-04 14:25:15.506870"]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/carts/3
Completed 302 Found in 31ms (ActiveRecord: 2.7ms | Allocations: 20525)


Started GET "/carts/3" for ::1 at 2019-10-04 17:25:15 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 3]]
  â†³ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:10
  Rendered carts/show.html.erb within layouts/application (Duration: 4.6ms | Allocations: 2306)
Completed 200 OK in 45ms (Views: 42.8ms | ActiveRecord: 0.4ms | Allocations: 19837)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-04 17:25:23 +0300
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"+M15OQIaMSgIWjSN4YMH6kWw8y3UOAJKy3OrK3nMGDWXnXtJxDFi58jjIl6cCdmBKUJhQstyi37yEySCyY6ZDQ==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 3], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2019-10-04 14:25:23.060920"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/carts/3
Completed 302 Found in 9ms (ActiveRecord: 1.8ms | Allocations: 5273)


Started GET "/carts/3" for ::1 at 2019-10-04 17:25:23 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 3]]
  â†³ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:10
  Rendered carts/show.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1831)
Completed 200 OK in 13ms (Views: 11.3ms | ActiveRecord: 0.2ms | Allocations: 11212)


Started POST "/line_items?product_id=2" for ::1 at 2019-10-04 17:26:04 +0300
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"3c3IRfNLNdwShx+ukY7PhdUidqL1eqrdDii98OyXj3QltlkDiYeV8DKNLXfgANBM0lkEi+2tonhEuNjR4AONTw==", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 3], ["product_id", 2], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 2], ["cart_id", 3], ["created_at", "2019-10-04 14:26:04.652729"], ["updated_at", "2019-10-04 14:26:04.652729"]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/carts/3
Completed 302 Found in 8ms (ActiveRecord: 1.4ms | Allocations: 5304)


Started GET "/carts/3" for ::1 at 2019-10-04 17:26:04 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 3]]
  â†³ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:10
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:10
  Rendered carts/show.html.erb within layouts/application (Duration: 3.6ms | Allocations: 2652)
Completed 200 OK in 14ms (Views: 12.2ms | ActiveRecord: 0.3ms | Allocations: 12007)


Started GET "/" for ::1 at 2019-10-07 10:42:58 +0300
  [1m[35m (1.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:17:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 1038.3ms | Allocations: 1348786)
Completed 200 OK in 1069ms (Views: 1056.2ms | ActiveRecord: 1.2ms | Allocations: 1361660)


Started GET "/" for ::1 at 2019-10-07 10:43:14 +0300
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:17:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.9ms | Allocations: 3983)
Completed 200 OK in 15ms (Views: 14.2ms | ActiveRecord: 0.3ms | Allocations: 12756)


Started GET "/carts" for ::1 at 2019-10-07 10:43:15 +0300
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  â†³ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 2925)
Completed 200 OK in 19ms (Views: 14.9ms | ActiveRecord: 0.8ms | Allocations: 13116)


Started GET "/carts" for ::1 at 2019-10-07 10:43:17 +0300
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  â†³ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 1.2ms | Allocations: 734)
Completed 200 OK in 10ms (Views: 9.5ms | ActiveRecord: 0.1ms | Allocations: 9597)


Started GET "/carts/3/edit" for ::1 at 2019-10-07 10:43:24 +0300
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (Duration: 1.8ms | Allocations: 700)
  Rendered carts/edit.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1100)
Completed 200 OK in 17ms (Views: 12.4ms | ActiveRecord: 0.3ms | Allocations: 10991)


Started GET "/" for ::1 at 2019-10-07 10:43:28 +0300
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:17:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 6.7ms | Allocations: 3987)
Completed 200 OK in 19ms (Views: 17.9ms | ActiveRecord: 0.3ms | Allocations: 12757)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 10:43:30 +0300
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"bjxlIo2iFCFSnjIITyT/f8Wo63u4v4yrr9gwY/U5rqsBbGdSS4lH7pInJNsyriEUqVp5FKf1BZ+WuL/KRXsvkw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 3], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.7ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 3], ["updated_at", "2019-10-07 07:43:30.112538"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/carts/3
Completed 302 Found in 30ms (ActiveRecord: 3.1ms | Allocations: 13698)


Started GET "/carts/3" for ::1 at 2019-10-07 10:43:30 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 3]]
  â†³ app/views/carts/show.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:11
  Rendered carts/show.html.erb within layouts/application (Duration: 4.4ms | Allocations: 3126)
Completed 200 OK in 15ms (Views: 12.9ms | ActiveRecord: 0.4ms | Allocations: 12615)


Started POST "/line_items?product_id=2" for ::1 at 2019-10-07 10:43:35 +0300
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"mg528HjQ+Bd92EYdprdeOO8oSmyHKTfQxY+C6tBUlh5idee2AhxYO13SdMTXOUHx6FM4RZ/+P3WPH+fL3MCUJQ==", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 3], ["product_id", 2], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2019-10-07 07:43:35.226194"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/carts/3
Completed 302 Found in 8ms (ActiveRecord: 1.4ms | Allocations: 5246)


Started GET "/carts/3" for ::1 at 2019-10-07 10:43:35 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 3]]
  â†³ app/views/carts/show.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:11
  Rendered carts/show.html.erb within layouts/application (Duration: 3.5ms | Allocations: 2651)
Completed 200 OK in 13ms (Views: 11.6ms | ActiveRecord: 0.4ms | Allocations: 12008)


Started GET "/carts/3" for ::1 at 2019-10-07 10:44:08 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 3]]
  â†³ app/views/carts/show.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:11
  Rendered carts/show.html.erb within layouts/application (Duration: 4.7ms | Allocations: 2960)
Completed 200 OK in 16ms (Views: 14.3ms | ActiveRecord: 0.4ms | Allocations: 13343)


Started GET "/carts/3" for ::1 at 2019-10-07 10:44:35 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 3]]
  â†³ app/views/carts/show.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:11
  Rendered carts/show.html.erb within layouts/application (Duration: 12.9ms | Allocations: 6452)
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.3ms | Allocations: 8126)


  
ActionView::Template::Error (Missing partial line_items/_line_item with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}. Searched in:
  * "/Users/venelinmonev/Projects/work/depot/app/views"
  * "/Users/venelinmonev/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actiontext-6.0.0/app/views"
  * "/Users/venelinmonev/.rbenv/versions/2.6.3/lib/ruby/gems/2.6.0/gems/actionmailbox-6.0.0/app/views"
):
    14: 	<% end %>
    15: -->
    16: 
    17: 		<%= render(@cart.line_items) %>
    18: 		<tr class="total_line">
    19: 			<td colspan="2">Total</td>
    20: 			<td class="total_cell"><%= number_to_currency(@cart.total_price) %></td>
  
app/views/carts/show.html.erb:17
Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 10:49:39 +0300
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"bjxlIo2iFCFSnjIITyT/f8Wo63u4v4yrr9gwY/U5rqsBbGdSS4lH7pInJNsyriEUqVp5FKf1BZ+WuL/KRXsvkw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 3], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 4], ["updated_at", "2019-10-07 07:49:39.438437"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/carts/3
Completed 302 Found in 10ms (ActiveRecord: 2.2ms | Allocations: 5352)


Started GET "/carts/3" for ::1 at 2019-10-07 10:49:39 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 3]]
  â†³ app/views/carts/show.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:11
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:11
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 0.6ms | Allocations: 388)
  Rendered carts/show.html.erb within layouts/application (Duration: 5.9ms | Allocations: 3610)
Completed 200 OK in 18ms (Views: 15.5ms | ActiveRecord: 0.4ms | Allocations: 14004)


Started GET "/carts/3" for ::1 at 2019-10-07 11:09:48 +0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 3]]
  â†³ app/views/carts/show.html.erb:10
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:13
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:13
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 0.6ms | Allocations: 380)
  Rendered carts/show.html.erb within layouts/application (Duration: 5.4ms | Allocations: 3636)
Completed 200 OK in 17ms (Views: 15.0ms | ActiveRecord: 0.4ms | Allocations: 14015)


Started GET "/carts/3" for ::1 at 2019-10-07 11:10:36 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 3]]
  â†³ app/views/carts/show.html.erb:10
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:13
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:13
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 0.6ms | Allocations: 380)
  Rendered carts/show.html.erb within layouts/application (Duration: 5.5ms | Allocations: 3596)
Completed 200 OK in 17ms (Views: 14.7ms | ActiveRecord: 0.3ms | Allocations: 13969)


Started GET "/carts/3" for ::1 at 2019-10-07 11:17:00 +0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 3]]
  â†³ app/views/carts/show.html.erb:12
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:15
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:15
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 0.6ms | Allocations: 380)
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 0.4ms | Allocations: 248)
  Rendered carts/_cart.html.erb (Duration: 1.4ms | Allocations: 758)
  Rendered carts/show.html.erb within layouts/application (Duration: 7.3ms | Allocations: 4639)
Completed 200 OK in 19ms (Views: 17.0ms | ActiveRecord: 0.4ms | Allocations: 15018)


Started GET "/carts/3" for ::1 at 2019-10-07 11:17:38 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 3]]
  â†³ app/views/carts/show.html.erb:12
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:15
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:15
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 0.6ms | Allocations: 380)
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 0.3ms | Allocations: 248)
  Rendered carts/_cart.html.erb (Duration: 1.1ms | Allocations: 753)
  Rendered carts/show.html.erb within layouts/application (Duration: 6.6ms | Allocations: 4578)
Completed 200 OK in 18ms (Views: 16.4ms | ActiveRecord: 0.3ms | Allocations: 14954)


Started GET "/carts/3" for ::1 at 2019-10-07 11:17:39 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 3]]
  â†³ app/views/carts/show.html.erb:12
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:15
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:15
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 0.3ms | Allocations: 248)
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 0.3ms | Allocations: 248)
  Rendered carts/_cart.html.erb (Duration: 0.8ms | Allocations: 609)
  Rendered carts/show.html.erb within layouts/application (Duration: 5.3ms | Allocations: 3677)
Completed 200 OK in 15ms (Views: 13.7ms | ActiveRecord: 0.3ms | Allocations: 13034)


Started GET "/carts/3" for ::1 at 2019-10-07 11:17:55 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 3]]
  â†³ app/views/carts/show.html.erb:12
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:15
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:15
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 0.6ms | Allocations: 380)
  Rendered carts/show.html.erb within layouts/application (Duration: 19.2ms | Allocations: 12939)
Completed 500 Internal Server Error in 23ms (ActiveRecord: 0.3ms | Allocations: 14616)


  
ActionView::Template::Error (undefined local variable or method `cart' for #<#<Class:0x00007fe0ac093398>:0x00007fe0ac091660>
Did you mean?  @cart):
    32: -->
    33: 
    34: 
    35: <%= render cart %>
  
app/views/carts/show.html.erb:35
Started GET "/" for ::1 at 2019-10-07 11:18:31 +0300
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:17:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 6.4ms | Allocations: 4359)
Completed 200 OK in 17ms (Views: 15.7ms | ActiveRecord: 0.4ms | Allocations: 14154)


Started GET "/" for ::1 at 2019-10-07 11:18:37 +0300
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:17:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 6.2ms | Allocations: 3996)
Completed 200 OK in 16ms (Views: 14.8ms | ActiveRecord: 0.3ms | Allocations: 12773)


Started GET "/carts/3" for ::1 at 2019-10-07 11:18:37 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 3]]
  â†³ app/views/carts/show.html.erb:12
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:15
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:15
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 0.7ms | Allocations: 380)
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 0.3ms | Allocations: 248)
  Rendered carts/_cart.html.erb (Duration: 1.2ms | Allocations: 758)
  Rendered carts/show.html.erb within layouts/application (Duration: 7.4ms | Allocations: 4583)
Completed 200 OK in 19ms (Views: 17.0ms | ActiveRecord: 0.4ms | Allocations: 14516)


Started GET "/carts" for ::1 at 2019-10-07 11:18:39 +0300
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  â†³ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 1.7ms | Allocations: 972)
Completed 200 OK in 11ms (Views: 10.1ms | ActiveRecord: 0.1ms | Allocations: 9960)


Started GET "/carts" for ::1 at 2019-10-07 11:18:40 +0300
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  â†³ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 1.1ms | Allocations: 726)
Completed 200 OK in 10ms (Views: 9.9ms | ActiveRecord: 0.1ms | Allocations: 9579)


Started GET "/carts/3" for ::1 at 2019-10-07 11:18:46 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 3]]
  â†³ app/views/carts/show.html.erb:12
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:15
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:15
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 0.4ms | Allocations: 248)
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 0.3ms | Allocations: 248)
  Rendered carts/_cart.html.erb (Duration: 1.0ms | Allocations: 609)
  Rendered carts/show.html.erb within layouts/application (Duration: 6.0ms | Allocations: 3669)
Completed 200 OK in 16ms (Views: 14.5ms | ActiveRecord: 0.4ms | Allocations: 13019)


Started GET "/carts/2" for ::1 at 2019-10-07 11:18:47 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
Attempt to access invalid cart 2
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 1103)


Started GET "/" for ::1 at 2019-10-07 11:18:47 +0300
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:17:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.8ms | Allocations: 3989)
Completed 200 OK in 15ms (Views: 13.8ms | ActiveRecord: 0.2ms | Allocations: 12775)


Started GET "/carts/2" for ::1 at 2019-10-07 11:18:48 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
Attempt to access invalid cart 2
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1095)


Started GET "/" for ::1 at 2019-10-07 11:18:48 +0300
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:17:in `latest'
  [1m[36mProduct Load (22.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 28.1ms | Allocations: 3985)
Completed 200 OK in 37ms (Views: 13.8ms | ActiveRecord: 22.3ms | Allocations: 12767)


Started GET "/" for ::1 at 2019-10-07 11:18:54 +0300
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:17:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 3979)
Completed 200 OK in 14ms (Views: 13.3ms | ActiveRecord: 0.2ms | Allocations: 12742)


Started GET "/carts/3" for ::1 at 2019-10-07 11:18:55 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 3]]
  â†³ app/views/carts/show.html.erb:12
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:15
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:15
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 0.4ms | Allocations: 248)
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 0.4ms | Allocations: 248)
  Rendered carts/_cart.html.erb (Duration: 1.0ms | Allocations: 609)
  Rendered carts/show.html.erb within layouts/application (Duration: 6.6ms | Allocations: 3668)
Completed 200 OK in 17ms (Views: 15.0ms | ActiveRecord: 0.3ms | Allocations: 13023)


Started GET "/carts" for ::1 at 2019-10-07 11:18:56 +0300
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  â†³ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 1.1ms | Allocations: 726)
Completed 200 OK in 10ms (Views: 9.6ms | ActiveRecord: 0.1ms | Allocations: 9582)


Started GET "/carts/3" for ::1 at 2019-10-07 11:18:57 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 3]]
  â†³ app/views/carts/show.html.erb:12
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:15
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:15
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 0.3ms | Allocations: 248)
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 0.3ms | Allocations: 248)
  Rendered carts/_cart.html.erb (Duration: 0.9ms | Allocations: 609)
  Rendered carts/show.html.erb within layouts/application (Duration: 5.8ms | Allocations: 3668)
Completed 200 OK in 16ms (Views: 14.6ms | ActiveRecord: 0.4ms | Allocations: 13014)


Started GET "/carts/2" for ::1 at 2019-10-07 11:19:00 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
Attempt to access invalid cart 2
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 1097)


Started GET "/" for ::1 at 2019-10-07 11:19:00 +0300
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:17:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.6ms | Allocations: 3983)
Completed 200 OK in 15ms (Views: 14.4ms | ActiveRecord: 0.2ms | Allocations: 12759)


Started GET "/carts/3" for ::1 at 2019-10-07 11:19:00 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 3]]
  â†³ app/views/carts/show.html.erb:12
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:15
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:15
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 0.3ms | Allocations: 248)
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 0.3ms | Allocations: 248)
  Rendered carts/_cart.html.erb (Duration: 0.8ms | Allocations: 609)
  Rendered carts/show.html.erb within layouts/application (Duration: 4.8ms | Allocations: 3668)
Completed 200 OK in 15ms (Views: 13.4ms | ActiveRecord: 0.3ms | Allocations: 13018)


Started GET "/carts/3" for ::1 at 2019-10-07 11:19:01 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 3]]
  â†³ app/views/carts/show.html.erb:12
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:15
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:15
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 0.3ms | Allocations: 248)
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 0.3ms | Allocations: 248)
  Rendered carts/_cart.html.erb (Duration: 0.9ms | Allocations: 609)
  Rendered carts/show.html.erb within layouts/application (Duration: 5.2ms | Allocations: 3668)
Completed 200 OK in 16ms (Views: 14.4ms | ActiveRecord: 0.3ms | Allocations: 13015)


Started GET "/carts/3" for ::1 at 2019-10-07 11:20:02 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 3]]
  â†³ app/views/carts/show.html.erb:12
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:15
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:15
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 0.6ms | Allocations: 380)
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 0.3ms | Allocations: 248)
  Rendered carts/_cart.html.erb (Duration: 1.1ms | Allocations: 753)
  Rendered carts/show.html.erb within layouts/application (Duration: 7.1ms | Allocations: 4585)
Completed 200 OK in 19ms (Views: 16.9ms | ActiveRecord: 0.3ms | Allocations: 14966)


Started DELETE "/carts/3" for ::1 at 2019-10-07 11:20:06 +0300
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"vVw3YzkAvT7pKutLoJ4qqT2xE4uozm6Rqa2tLtEr9SNFJ6YlQ8wdEskg2ZLREDVgOsphorAZZjTjPcgP3b/3GA==", "id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 3]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 2]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mCart Destroy (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 3]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 8ms (ActiveRecord: 2.0ms | Allocations: 5370)


Started GET "/" for ::1 at 2019-10-07 11:20:06 +0300
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:17:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 6.0ms | Allocations: 4308)
Completed 200 OK in 16ms (Views: 15.3ms | ActiveRecord: 0.2ms | Allocations: 13662)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 11:20:10 +0300
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"kHtXFsH9elk8xhHY1tXq5YjvLlwXzHqr2VDlaZnkjaZoAMZQuzHadRzMIwGnW/Usj5RcdQ8bcg6TwIBIlXCPnQ==", "product_id"=>"1"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2019-10-07 08:20:10.683407"], ["updated_at", "2019-10-07 08:20:10.683407"]]
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 4], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 1], ["cart_id", 4], ["created_at", "2019-10-07 08:20:10.690944"], ["updated_at", "2019-10-07 08:20:10.690944"]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/carts/4
Completed 302 Found in 11ms (ActiveRecord: 3.0ms | Allocations: 7305)


Started GET "/carts/4" for ::1 at 2019-10-07 11:20:10 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  â†³ app/views/carts/show.html.erb:12
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:15
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.2ms | Allocations: 126)
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.2ms | Allocations: 126)
  Rendered carts/_cart.html.erb (Duration: 0.7ms | Allocations: 479)
  Rendered carts/show.html.erb within layouts/application (Duration: 3.8ms | Allocations: 2597)
Completed 200 OK in 14ms (Views: 12.4ms | ActiveRecord: 0.3ms | Allocations: 11951)


Started GET "/carts/4" for ::1 at 2019-10-07 13:25:10 +0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by CartsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  â†³ app/views/carts/show.html.erb:12
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:15
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.1ms | Allocations: 258)
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.3ms | Allocations: 126)
  Rendered carts/_cart.html.erb (Duration: 1.7ms | Allocations: 623)
  Rendered carts/show.html.erb within layouts/application (Duration: 22.2ms | Allocations: 14354)
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.3ms | Allocations: 126)
  Rendered carts/_cart.html.erb (Duration: 1.1ms | Allocations: 484)
Completed 200 OK in 68ms (Views: 59.3ms | ActiveRecord: 1.7ms | Allocations: 33623)


Started GET "/" for ::1 at 2019-10-07 13:30:44 +0300
  [1m[35m (1.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:17:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 1129.7ms | Allocations: 1345483)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.4ms | Allocations: 1733)
  Rendered carts/_cart.html.erb (Duration: 27.5ms | Allocations: 10978)
Completed 200 OK in 1189ms (Views: 1169.3ms | ActiveRecord: 3.0ms | Allocations: 1373583)


Started GET "/" for ::1 at 2019-10-07 13:31:09 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:17:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.8ms | Allocations: 3981)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.3ms | Allocations: 847)
  Rendered carts/_cart.html.erb (Duration: 3.5ms | Allocations: 1940)
Completed 200 OK in 20ms (Views: 18.0ms | ActiveRecord: 0.5ms | Allocations: 15209)


Started GET "/products" for ::1 at 2019-10-07 13:31:12 +0300
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 7.2ms | Allocations: 3483)
Completed 500 Internal Server Error in 19ms (ActiveRecord: 0.2ms | Allocations: 13819)


  
ActionView::Template::Error ('nil' is not an ActiveModel-compatible object. It must implement :to_partial_path.):
    19: 
    20: 
    21:         <div>
    22:           <%= render @cart %>
    23:         </div>
    24: 
    25:         <ul>
  
app/views/layouts/application.html.erb:22
Started GET "/products" for ::1 at 2019-10-07 13:31:12 +0300
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 3109)
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.1ms | Allocations: 12546)


  
ActionView::Template::Error ('nil' is not an ActiveModel-compatible object. It must implement :to_partial_path.):
    19: 
    20: 
    21:         <div>
    22:           <%= render @cart %>
    23:         </div>
    24: 
    25:         <ul>
  
app/views/layouts/application.html.erb:22
Started GET "/" for ::1 at 2019-10-07 13:31:45 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:17:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 9.7ms | Allocations: 4004)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.8ms | Allocations: 847)
  Rendered carts/_cart.html.erb (Duration: 6.0ms | Allocations: 1955)
Completed 200 OK in 26ms (Views: 23.5ms | ActiveRecord: 1.0ms | Allocations: 15273)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 13:31:52 +0300
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"lGPMnMujsFg+qWqIU1fISjK4D61rhYopBHv2tXegM1H7M87sDYjjl/4QfFsu3RYhXkqdwnTPAx09G3kcx+KyaQ==", "product_id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 4], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.4ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2019-10-07 10:31:52.620008"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/carts/4
Completed 302 Found in 12ms (ActiveRecord: 2.1ms | Allocations: 5756)


Started GET "/carts/4" for ::1 at 2019-10-07 13:31:52 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  â†³ app/views/carts/show.html.erb:12
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:15
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.2ms | Allocations: 126)
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.2ms | Allocations: 126)
  Rendered carts/_cart.html.erb (Duration: 0.7ms | Allocations: 479)
  Rendered carts/show.html.erb within layouts/application (Duration: 4.7ms | Allocations: 2955)
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.3ms | Allocations: 126)
  Rendered carts/_cart.html.erb (Duration: 1.0ms | Allocations: 478)
Completed 200 OK in 40ms (Views: 38.0ms | ActiveRecord: 0.3ms | Allocations: 13457)


Started POST "/line_items?product_id=2" for ::1 at 2019-10-07 13:31:59 +0300
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"U/Kiz/ny2yCSZ06rUSbaNbD+EqOYAB9kngCRk54xOdyriTOJgz57DLJtfHIgqMX8t4VgioDXF8HUkPSykqU75w==", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 4], ["product_id", 2], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 2], ["cart_id", 4], ["created_at", "2019-10-07 10:31:59.783356"], ["updated_at", "2019-10-07 10:31:59.783356"]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/carts/4
Completed 302 Found in 9ms (ActiveRecord: 1.6ms | Allocations: 5353)


Started GET "/carts/4" for ::1 at 2019-10-07 13:31:59 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  â†³ app/views/carts/show.html.erb:12
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:15
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:15
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 0.3ms | Allocations: 248)
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 0.3ms | Allocations: 248)
  Rendered carts/_cart.html.erb (Duration: 0.8ms | Allocations: 609)
  Rendered carts/show.html.erb within layouts/application (Duration: 5.5ms | Allocations: 3668)
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 0.4ms | Allocations: 248)
  Rendered carts/_cart.html.erb (Duration: 0.9ms | Allocations: 608)
Completed 200 OK in 16ms (Views: 14.7ms | ActiveRecord: 0.4ms | Allocations: 13652)


Started GET "/carts/4" for ::1 at 2019-10-07 13:32:12 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  â†³ app/views/carts/show.html.erb:12
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:15
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:15
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 0.4ms | Allocations: 248)
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 0.3ms | Allocations: 248)
  Rendered carts/_cart.html.erb (Duration: 0.8ms | Allocations: 609)
  Rendered carts/show.html.erb within layouts/application (Duration: 5.4ms | Allocations: 3670)
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 0.4ms | Allocations: 248)
  Rendered carts/_cart.html.erb (Duration: 1.1ms | Allocations: 608)
Completed 200 OK in 17ms (Views: 15.1ms | ActiveRecord: 0.4ms | Allocations: 13663)


Started GET "/carts" for ::1 at 2019-10-07 13:32:12 +0300
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  â†³ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 2.6ms | Allocations: 982)
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.4ms | Allocations: 10635)


  
ActionView::Template::Error ('nil' is not an ActiveModel-compatible object. It must implement :to_partial_path.):
    19: 
    20: 
    21:         <div>
    22:           <%= render @cart %>
    23:         </div>
    24: 
    25:         <ul>
  
app/views/layouts/application.html.erb:22
Started GET "/carts/4" for ::1 at 2019-10-07 13:32:12 +0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by CartsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  â†³ app/views/carts/show.html.erb:12
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:15
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:15
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 0.3ms | Allocations: 248)
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 0.3ms | Allocations: 248)
  Rendered carts/_cart.html.erb (Duration: 1.1ms | Allocations: 702)
  Rendered carts/show.html.erb within layouts/application (Duration: 7.1ms | Allocations: 5924)
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 0.5ms | Allocations: 248)
  Rendered carts/_cart.html.erb (Duration: 1.3ms | Allocations: 765)
Completed 200 OK in 27ms (Views: 24.7ms | ActiveRecord: 0.4ms | Allocations: 29755)


Started GET "/" for ::1 at 2019-10-07 13:32:13 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:17:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 3988)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.5ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.5ms | Allocations: 2811)
Completed 200 OK in 41ms (Views: 39.7ms | ActiveRecord: 0.6ms | Allocations: 16090)


Started GET "/" for ::1 at 2019-10-07 13:32:13 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:17:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 3979)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.2ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.1ms | Allocations: 2805)
Completed 200 OK in 20ms (Views: 18.3ms | ActiveRecord: 0.5ms | Allocations: 16071)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 13:35:49 +0300
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"2gMNcU7LAO5ppxjPlwI5CvguziLm0eWe/l5FaYp7VloieJw3NAegwkmtKhbmjCbD/1W8C/4G7Tu0ziBIhu9UYQ==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 4], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 3], ["updated_at", "2019-10-07 10:35:49.965138"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/carts/4
Completed 302 Found in 8ms (ActiveRecord: 1.4ms | Allocations: 5262)


Started GET "/carts/4" for ::1 at 2019-10-07 13:35:49 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  â†³ app/views/carts/show.html.erb:12
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:15
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:15
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 0.3ms | Allocations: 248)
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 0.3ms | Allocations: 248)
  Rendered carts/_cart.html.erb (Duration: 0.8ms | Allocations: 609)
  Rendered carts/show.html.erb within layouts/application (Duration: 5.0ms | Allocations: 3669)
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 0.4ms | Allocations: 248)
  Rendered carts/_cart.html.erb (Duration: 1.1ms | Allocations: 608)
Completed 200 OK in 16ms (Views: 14.5ms | ActiveRecord: 0.3ms | Allocations: 13650)


Started GET "/" for ::1 at 2019-10-07 13:35:55 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:17:in `latest'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 9.2ms | Allocations: 3981)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 4.0ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 6.3ms | Allocations: 2805)
Completed 200 OK in 27ms (Views: 24.1ms | ActiveRecord: 1.0ms | Allocations: 16067)


Started GET "/" for ::1 at 2019-10-07 13:35:58 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:17:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 3979)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.2ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.2ms | Allocations: 2805)
Completed 200 OK in 19ms (Views: 17.2ms | ActiveRecord: 0.6ms | Allocations: 16064)


Started POST "/line_items?product_id=2" for ::1 at 2019-10-07 13:36:02 +0300
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"rUmSR2rxtW3Hj0cCgPRDUcAN8VBxmIyNaqqYg2drkkBVMgMBED0VQeeFddvxelyYx3aDeWlPhCggOv2ia/+Qew==", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 4], ["product_id", 2], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2019-10-07 10:36:02.271903"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/carts/4
Completed 302 Found in 8ms (ActiveRecord: 1.9ms | Allocations: 5250)


Started GET "/carts/4" for ::1 at 2019-10-07 13:36:02 +0300
Processing by CartsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  â†³ app/views/carts/show.html.erb:12
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:15
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/carts/show.html.erb:15
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 0.3ms | Allocations: 248)
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 0.3ms | Allocations: 248)
  Rendered carts/_cart.html.erb (Duration: 0.8ms | Allocations: 609)
  Rendered carts/show.html.erb within layouts/application (Duration: 4.9ms | Allocations: 3668)
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 0.4ms | Allocations: 248)
  Rendered carts/_cart.html.erb (Duration: 1.1ms | Allocations: 608)
Completed 200 OK in 16ms (Views: 14.5ms | ActiveRecord: 0.3ms | Allocations: 13641)


Started GET "/" for ::1 at 2019-10-07 13:36:08 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:17:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 6.5ms | Allocations: 3979)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.3ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.2ms | Allocations: 2805)
Completed 200 OK in 24ms (Views: 21.5ms | ActiveRecord: 0.6ms | Allocations: 16064)


Started DELETE "/carts/4" for ::1 at 2019-10-07 13:36:23 +0300
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"Pd+aG7M1Ijq432K7DOpCeplYk58wcBPm0lp7fySzpE10mVjQoGwkNDhgsdg/ncPeWLhhIAB+cHGrjKFr8r/mqQ==", "id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 2]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mCart Destroy (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 4]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 7ms (ActiveRecord: 1.4ms | Allocations: 5393)


Started GET "/" for ::1 at 2019-10-07 13:36:23 +0300
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2019-10-07 10:36:23.954656"], ["updated_at", "2019-10-07 10:36:23.954656"]]
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:17:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 6.0ms | Allocations: 3984)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  â†³ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 1.8ms | Allocations: 1033)
Completed 200 OK in 21ms (Views: 15.8ms | ActiveRecord: 1.5ms | Allocations: 16197)


Started GET "/" for ::1 at 2019-10-07 14:50:14 +0300
  [1m[35m (1.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 1163.0ms | Allocations: 1341688)
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  â†³ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 18.8ms | Allocations: 4673)
Completed 200 OK in 1238ms (Views: 1209.0ms | ActiveRecord: 3.4ms | Allocations: 1364347)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 14:50:21 +0300
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"OlKuNTTao3c/g1xJ8GITc92Bs0mkObo2RE798QKdO9HCKT9zThYDWx+JbpCB7Ay62vrBYLzuspMO3pjQDgk56g==", "product_id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 5], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Create (1.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 1], ["cart_id", 5], ["created_at", "2019-10-07 11:50:21.228128"], ["updated_at", "2019-10-07 11:50:21.228128"]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 21ms (ActiveRecord: 3.0ms | Allocations: 10578)


Started GET "/" for ::1 at 2019-10-07 14:50:21 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 3981)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.1ms | Allocations: 988)
  Rendered carts/_cart.html.erb (Duration: 4.6ms | Allocations: 2272)
Completed 200 OK in 20ms (Views: 18.4ms | ActiveRecord: 0.6ms | Allocations: 15540)


Started POST "/line_items?product_id=2" for ::1 at 2019-10-07 14:50:24 +0300
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"XbaGljQZUXMCRXMYWcNqWDKzEW40p8c7WAzBmodEHBWlzRfQTtXxXyJPQcEoTXWRNchjRyxwz54SnKS7i9AeLg==", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 5], ["product_id", 2], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 2], ["cart_id", 5], ["created_at", "2019-10-07 11:50:24.606821"], ["updated_at", "2019-10-07 11:50:24.606821"]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (64.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 72ms (ActiveRecord: 64.8ms | Allocations: 5280)


Started GET "/" for ::1 at 2019-10-07 14:50:24 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.3ms | Allocations: 3981)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.3ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.5ms | Allocations: 2805)
Completed 200 OK in 21ms (Views: 18.7ms | ActiveRecord: 0.6ms | Allocations: 16067)


Started GET "/" for ::1 at 2019-10-07 15:53:28 +0300
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 1154.5ms | Allocations: 1341920)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 3.2ms | Allocations: 2575)
  Rendered carts/_cart.html.erb (Duration: 17.2ms | Allocations: 11843)
Completed 200 OK in 1203ms (Views: 1187.7ms | ActiveRecord: 2.2ms | Allocations: 1371450)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 15:53:35 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"VsZffmI7d4wwWjmxt0f4iFxiufb+pUd2ksQRHlzKsoeuvc44GPfXoBBQC2jGyedBWxnL3+ZyT9PYVHQ/UF6wvA==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 5], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2019-10-07 12:53:35.305966"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.3ms | Allocations: 1703)
  Rendered carts/_cart.html.erb (Duration: 4.4ms | Allocations: 2899)
  Rendered line_items/create.js.erb (Duration: 6.5ms | Allocations: 4773)
Completed 200 OK in 18ms (Views: 8.3ms | ActiveRecord: 2.0ms | Allocations: 11773)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 15:53:37 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"VsZffmI7d4wwWjmxt0f4iFxiufb+pUd2ksQRHlzKsoeuvc44GPfXoBBQC2jGyedBWxnL3+ZyT9PYVHQ/UF6wvA==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 5], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 3], ["updated_at", "2019-10-07 12:53:37.341490"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.3ms | Allocations: 1703)
  Rendered carts/_cart.html.erb (Duration: 4.1ms | Allocations: 2771)
  Rendered line_items/create.js.erb (Duration: 5.6ms | Allocations: 4417)
Completed 200 OK in 15ms (Views: 5.8ms | ActiveRecord: 2.5ms | Allocations: 9807)


Started POST "/line_items?product_id=2" for ::1 at 2019-10-07 15:53:39 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"VsZffmI7d4wwWjmxt0f4iFxiufb+pUd2ksQRHlzKsoeuvc44GPfXoBBQC2jGyedBWxnL3+ZyT9PYVHQ/UF6wvA==", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 5], ["product_id", 2], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2019-10-07 12:53:39.413257"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.2ms | Allocations: 1703)
  Rendered carts/_cart.html.erb (Duration: 3.9ms | Allocations: 2771)
  Rendered line_items/create.js.erb (Duration: 5.2ms | Allocations: 4417)
Completed 200 OK in 14ms (Views: 5.4ms | ActiveRecord: 1.7ms | Allocations: 9804)


Started DELETE "/carts/5" for ::1 at 2019-10-07 15:53:47 +0300
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"VsZffmI7d4wwWjmxt0f4iFxiufb+pUd2ksQRHlzKsoeuvc44GPfXoBBQC2jGyedBWxnL3+ZyT9PYVHQ/UF6wvA==", "id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 2]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mCart Destroy (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 5]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 8ms (ActiveRecord: 1.6ms | Allocations: 5438)


Started GET "/" for ::1 at 2019-10-07 15:53:47 +0300
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2019-10-07 12:53:47.158874"], ["updated_at", "2019-10-07 12:53:47.158874"]]
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 6.3ms | Allocations: 4014)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 6]]
  â†³ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 1.6ms | Allocations: 1037)
Completed 200 OK in 21ms (Views: 16.3ms | ActiveRecord: 1.5ms | Allocations: 16276)


Started GET "/" for ::1 at 2019-10-07 15:53:50 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.3ms | Allocations: 4005)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 6]]
  â†³ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 1.7ms | Allocations: 1034)
Completed 200 OK in 18ms (Views: 16.1ms | ActiveRecord: 0.4ms | Allocations: 14320)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 15:53:53 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"J9aEGoPNa1BuKFXqvJq6BPYGQysKtv6JyTi7obvQ4VffrRVc+QHLfE4iZzPNFKXN8X0xAhJh9iyDqN6At0TjbA==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 6], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 1], ["cart_id", 6], ["created_at", "2019-10-07 12:53:53.287248"], ["updated_at", "2019-10-07 12:53:53.287248"]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 6]]
  â†³ app/views/carts/_cart.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.3ms | Allocations: 142)
  Rendered carts/_cart.html.erb (Duration: 2.0ms | Allocations: 1251)
  Rendered line_items/create.js.erb (Duration: 3.1ms | Allocations: 2657)
Completed 200 OK in 12ms (Views: 3.5ms | ActiveRecord: 2.1ms | Allocations: 8107)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 15:53:54 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"J9aEGoPNa1BuKFXqvJq6BPYGQysKtv6JyTi7obvQ4VffrRVc+QHLfE4iZzPNFKXN8X0xAhJh9iyDqN6At0TjbA==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 6], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2019-10-07 12:53:54.156180"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 6]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.2ms | Allocations: 854)
  Rendered carts/_cart.html.erb (Duration: 2.7ms | Allocations: 1899)
  Rendered line_items/create.js.erb (Duration: 4.3ms | Allocations: 3305)
Completed 200 OK in 13ms (Views: 4.5ms | ActiveRecord: 2.1ms | Allocations: 8693)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 15:53:54 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"J9aEGoPNa1BuKFXqvJq6BPYGQysKtv6JyTi7obvQ4VffrRVc+QHLfE4iZzPNFKXN8X0xAhJh9iyDqN6At0TjbA==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 6], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 3], ["updated_at", "2019-10-07 12:53:54.316189"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 6]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.6ms | Allocations: 854)
  Rendered carts/_cart.html.erb (Duration: 3.8ms | Allocations: 1899)
  Rendered line_items/create.js.erb (Duration: 5.4ms | Allocations: 3305)
Completed 200 OK in 15ms (Views: 5.7ms | ActiveRecord: 2.7ms | Allocations: 8697)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 15:53:54 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"J9aEGoPNa1BuKFXqvJq6BPYGQysKtv6JyTi7obvQ4VffrRVc+QHLfE4iZzPNFKXN8X0xAhJh9iyDqN6At0TjbA==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 6], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 4], ["updated_at", "2019-10-07 12:53:54.492025"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 6]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.3ms | Allocations: 854)
  Rendered carts/_cart.html.erb (Duration: 3.0ms | Allocations: 1899)
  Rendered line_items/create.js.erb (Duration: 4.1ms | Allocations: 3305)
Completed 200 OK in 14ms (Views: 4.4ms | ActiveRecord: 2.4ms | Allocations: 8695)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 15:53:54 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"J9aEGoPNa1BuKFXqvJq6BPYGQysKtv6JyTi7obvQ4VffrRVc+QHLfE4iZzPNFKXN8X0xAhJh9iyDqN6At0TjbA==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 6], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 5], ["updated_at", "2019-10-07 12:53:54.652254"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 6]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.2ms | Allocations: 854)
  Rendered carts/_cart.html.erb (Duration: 2.9ms | Allocations: 1899)
  Rendered line_items/create.js.erb (Duration: 4.1ms | Allocations: 3305)
Completed 200 OK in 13ms (Views: 4.3ms | ActiveRecord: 2.4ms | Allocations: 8691)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 15:53:54 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"J9aEGoPNa1BuKFXqvJq6BPYGQysKtv6JyTi7obvQ4VffrRVc+QHLfE4iZzPNFKXN8X0xAhJh9iyDqN6At0TjbA==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 6], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 6], ["updated_at", "2019-10-07 12:53:54.812010"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 6]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.8ms | Allocations: 854)
  Rendered carts/_cart.html.erb (Duration: 4.4ms | Allocations: 1899)
  Rendered line_items/create.js.erb (Duration: 6.1ms | Allocations: 3305)
Completed 200 OK in 16ms (Views: 6.4ms | ActiveRecord: 2.8ms | Allocations: 8696)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 15:53:54 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"J9aEGoPNa1BuKFXqvJq6BPYGQysKtv6JyTi7obvQ4VffrRVc+QHLfE4iZzPNFKXN8X0xAhJh9iyDqN6At0TjbA==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 6], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 7], ["updated_at", "2019-10-07 12:53:54.987995"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 6]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.7ms | Allocations: 854)
  Rendered carts/_cart.html.erb (Duration: 4.2ms | Allocations: 1899)
  Rendered line_items/create.js.erb (Duration: 5.8ms | Allocations: 3305)
Completed 200 OK in 16ms (Views: 6.1ms | ActiveRecord: 2.8ms | Allocations: 8694)


Started POST "/line_items?product_id=2" for ::1 at 2019-10-07 15:53:56 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"J9aEGoPNa1BuKFXqvJq6BPYGQysKtv6JyTi7obvQ4VffrRVc+QHLfE4iZzPNFKXN8X0xAhJh9iyDqN6At0TjbA==", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 6], ["product_id", 2], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 2], ["cart_id", 6], ["created_at", "2019-10-07 12:53:56.045678"], ["updated_at", "2019-10-07 12:53:56.045678"]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 6]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 1.6ms | Allocations: 992)
  Rendered carts/_cart.html.erb (Duration: 3.4ms | Allocations: 2123)
  Rendered line_items/create.js.erb (Duration: 4.7ms | Allocations: 3769)
Completed 200 OK in 13ms (Views: 4.9ms | ActiveRecord: 2.1ms | Allocations: 9208)


Started POST "/line_items?product_id=2" for ::1 at 2019-10-07 15:53:56 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"J9aEGoPNa1BuKFXqvJq6BPYGQysKtv6JyTi7obvQ4VffrRVc+QHLfE4iZzPNFKXN8X0xAhJh9iyDqN6At0TjbA==", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 6], ["product_id", 2], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2019-10-07 12:53:56.223653"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 6]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.1ms | Allocations: 1703)
  Rendered carts/_cart.html.erb (Duration: 3.6ms | Allocations: 2771)
  Rendered line_items/create.js.erb (Duration: 5.0ms | Allocations: 4417)
Completed 200 OK in 14ms (Views: 5.2ms | ActiveRecord: 2.0ms | Allocations: 9805)


Started POST "/line_items?product_id=2" for ::1 at 2019-10-07 15:53:56 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"J9aEGoPNa1BuKFXqvJq6BPYGQysKtv6JyTi7obvQ4VffrRVc+QHLfE4iZzPNFKXN8X0xAhJh9iyDqN6At0TjbA==", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 6], ["product_id", 2], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.6ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 3], ["updated_at", "2019-10-07 12:53:56.384390"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 6]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.3ms | Allocations: 1703)
  Rendered carts/_cart.html.erb (Duration: 4.0ms | Allocations: 2771)
  Rendered line_items/create.js.erb (Duration: 5.4ms | Allocations: 4417)
Completed 200 OK in 14ms (Views: 5.6ms | ActiveRecord: 2.1ms | Allocations: 9807)


Started POST "/line_items?product_id=2" for ::1 at 2019-10-07 15:53:56 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"J9aEGoPNa1BuKFXqvJq6BPYGQysKtv6JyTi7obvQ4VffrRVc+QHLfE4iZzPNFKXN8X0xAhJh9iyDqN6At0TjbA==", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 6], ["product_id", 2], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 4], ["updated_at", "2019-10-07 12:53:56.559809"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 6]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 3.1ms | Allocations: 1703)
  Rendered carts/_cart.html.erb (Duration: 5.4ms | Allocations: 2771)
  Rendered line_items/create.js.erb (Duration: 7.3ms | Allocations: 4417)
Completed 200 OK in 18ms (Views: 7.9ms | ActiveRecord: 2.7ms | Allocations: 10212)


Started POST "/line_items?product_id=3" for ::1 at 2019-10-07 15:53:58 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"J9aEGoPNa1BuKFXqvJq6BPYGQysKtv6JyTi7obvQ4VffrRVc+QHLfE4iZzPNFKXN8X0xAhJh9iyDqN6At0TjbA==", "product_id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 6], ["product_id", 3], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 3], ["cart_id", 6], ["created_at", "2019-10-07 12:53:58.607952"], ["updated_at", "2019-10-07 12:53:58.607952"]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 6]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 2.3ms | Allocations: 1841)
  Rendered carts/_cart.html.erb (Duration: 4.0ms | Allocations: 2995)
  Rendered line_items/create.js.erb (Duration: 5.6ms | Allocations: 4881)
Completed 200 OK in 14ms (Views: 5.8ms | ActiveRecord: 2.0ms | Allocations: 10320)


Started POST "/line_items?product_id=3" for ::1 at 2019-10-07 15:53:58 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"J9aEGoPNa1BuKFXqvJq6BPYGQysKtv6JyTi7obvQ4VffrRVc+QHLfE4iZzPNFKXN8X0xAhJh9iyDqN6At0TjbA==", "product_id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 6], ["product_id", 3], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2019-10-07 12:53:58.771629"], ["id", 3]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 6]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 3.4ms | Allocations: 2552)
  Rendered carts/_cart.html.erb (Duration: 5.4ms | Allocations: 3642)
  Rendered line_items/create.js.erb (Duration: 7.3ms | Allocations: 5528)
Completed 200 OK in 16ms (Views: 7.4ms | ActiveRecord: 2.1ms | Allocations: 10920)


Started POST "/line_items?product_id=3" for ::1 at 2019-10-07 15:53:58 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"J9aEGoPNa1BuKFXqvJq6BPYGQysKtv6JyTi7obvQ4VffrRVc+QHLfE4iZzPNFKXN8X0xAhJh9iyDqN6At0TjbA==", "product_id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 6], ["product_id", 3], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 3], ["updated_at", "2019-10-07 12:53:58.931502"], ["id", 3]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 6]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 3.1ms | Allocations: 2552)
  Rendered carts/_cart.html.erb (Duration: 4.7ms | Allocations: 3642)
  Rendered line_items/create.js.erb (Duration: 6.2ms | Allocations: 5528)
Completed 200 OK in 15ms (Views: 6.3ms | ActiveRecord: 2.2ms | Allocations: 10920)


Started POST "/line_items?product_id=3" for ::1 at 2019-10-07 15:53:59 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"J9aEGoPNa1BuKFXqvJq6BPYGQysKtv6JyTi7obvQ4VffrRVc+QHLfE4iZzPNFKXN8X0xAhJh9iyDqN6At0TjbA==", "product_id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 6], ["product_id", 3], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 4], ["updated_at", "2019-10-07 12:53:59.107425"], ["id", 3]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 6]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 3.2ms | Allocations: 2552)
  Rendered carts/_cart.html.erb (Duration: 4.9ms | Allocations: 3642)
  Rendered line_items/create.js.erb (Duration: 6.5ms | Allocations: 5528)
Completed 200 OK in 15ms (Views: 6.6ms | ActiveRecord: 2.2ms | Allocations: 10919)


Started POST "/line_items?product_id=3" for ::1 at 2019-10-07 15:53:59 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"J9aEGoPNa1BuKFXqvJq6BPYGQysKtv6JyTi7obvQ4VffrRVc+QHLfE4iZzPNFKXN8X0xAhJh9iyDqN6At0TjbA==", "product_id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 6], ["product_id", 3], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 5], ["updated_at", "2019-10-07 12:53:59.294220"], ["id", 3]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 6]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 3.3ms | Allocations: 2552)
  Rendered carts/_cart.html.erb (Duration: 5.1ms | Allocations: 3642)
  Rendered line_items/create.js.erb (Duration: 6.6ms | Allocations: 5528)
Completed 200 OK in 16ms (Views: 6.7ms | ActiveRecord: 2.5ms | Allocations: 10931)


Started POST "/line_items?product_id=2" for ::1 at 2019-10-07 15:54:00 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"J9aEGoPNa1BuKFXqvJq6BPYGQysKtv6JyTi7obvQ4VffrRVc+QHLfE4iZzPNFKXN8X0xAhJh9iyDqN6At0TjbA==", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 6], ["product_id", 2], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 5], ["updated_at", "2019-10-07 12:54:00.195524"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 6]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 4.3ms | Allocations: 2552)
  Rendered carts/_cart.html.erb (Duration: 7.0ms | Allocations: 3642)
  Rendered line_items/create.js.erb (Duration: 8.8ms | Allocations: 5528)
Completed 200 OK in 19ms (Views: 8.9ms | ActiveRecord: 2.8ms | Allocations: 10916)


Started POST "/line_items?product_id=2" for ::1 at 2019-10-07 15:54:00 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"J9aEGoPNa1BuKFXqvJq6BPYGQysKtv6JyTi7obvQ4VffrRVc+QHLfE4iZzPNFKXN8X0xAhJh9iyDqN6At0TjbA==", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 6], ["product_id", 2], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 6], ["updated_at", "2019-10-07 12:54:00.371323"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 6]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 4.3ms | Allocations: 2552)
  Rendered carts/_cart.html.erb (Duration: 6.4ms | Allocations: 3642)
  Rendered line_items/create.js.erb (Duration: 8.3ms | Allocations: 5528)
Completed 200 OK in 18ms (Views: 8.5ms | ActiveRecord: 2.5ms | Allocations: 10914)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 15:54:01 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"J9aEGoPNa1BuKFXqvJq6BPYGQysKtv6JyTi7obvQ4VffrRVc+QHLfE4iZzPNFKXN8X0xAhJh9iyDqN6At0TjbA==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 6], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 8], ["updated_at", "2019-10-07 12:54:01.203794"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 6]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 3.2ms | Allocations: 2552)
  Rendered carts/_cart.html.erb (Duration: 4.9ms | Allocations: 3642)
  Rendered line_items/create.js.erb (Duration: 6.4ms | Allocations: 5528)
Completed 200 OK in 16ms (Views: 6.5ms | ActiveRecord: 2.5ms | Allocations: 10922)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 15:54:01 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"J9aEGoPNa1BuKFXqvJq6BPYGQysKtv6JyTi7obvQ4VffrRVc+QHLfE4iZzPNFKXN8X0xAhJh9iyDqN6At0TjbA==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 6], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 9], ["updated_at", "2019-10-07 12:54:01.523365"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 6]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 3.1ms | Allocations: 2552)
  Rendered carts/_cart.html.erb (Duration: 4.6ms | Allocations: 3642)
  Rendered line_items/create.js.erb (Duration: 5.9ms | Allocations: 5528)
Completed 200 OK in 15ms (Views: 6.0ms | ActiveRecord: 2.2ms | Allocations: 10924)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 15:54:01 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"J9aEGoPNa1BuKFXqvJq6BPYGQysKtv6JyTi7obvQ4VffrRVc+QHLfE4iZzPNFKXN8X0xAhJh9iyDqN6At0TjbA==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 6], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 10], ["updated_at", "2019-10-07 12:54:01.871213"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 6]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 4.2ms | Allocations: 2552)
  Rendered carts/_cart.html.erb (Duration: 6.6ms | Allocations: 3642)
  Rendered line_items/create.js.erb (Duration: 8.5ms | Allocations: 5528)
Completed 200 OK in 18ms (Views: 8.6ms | ActiveRecord: 2.7ms | Allocations: 10915)


Started GET "/" for ::1 at 2019-10-07 16:01:44 +0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 9.6ms | Allocations: 8135)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 6]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 4.3ms | Allocations: 3409)
  Rendered carts/_cart.html.erb (Duration: 12.8ms | Allocations: 10124)
Completed 200 OK in 40ms (Views: 31.9ms | ActiveRecord: 0.9ms | Allocations: 32676)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:01:49 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"Ho0qhQ6dxw+hAFVL25EQ7LbUzcqIVqxlpJfQ2uNwwE7m9rvDdFFnI4EKZ5KqHw8lsa+/45CBpMDuB7X77+TCdQ==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 6], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 11], ["updated_at", "2019-10-07 13:01:49.198970"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 6]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 3.4ms | Allocations: 2552)
  Rendered carts/_cart.html.erb (Duration: 5.4ms | Allocations: 3769)
  Rendered line_items/create.js.erb (Duration: 7.3ms | Allocations: 5873)
Completed 200 OK in 18ms (Views: 9.2ms | ActiveRecord: 1.8ms | Allocations: 12691)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:01:49 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"Ho0qhQ6dxw+hAFVL25EQ7LbUzcqIVqxlpJfQ2uNwwE7m9rvDdFFnI4EKZ5KqHw8lsa+/45CBpMDuB7X77+TCdQ==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 6], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 12], ["updated_at", "2019-10-07 13:01:49.893584"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 6]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 3.1ms | Allocations: 2552)
  Rendered carts/_cart.html.erb (Duration: 4.6ms | Allocations: 3642)
  Rendered line_items/create.js.erb (Duration: 6.1ms | Allocations: 5528)
Completed 200 OK in 15ms (Views: 6.2ms | ActiveRecord: 1.9ms | Allocations: 10917)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:01:50 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"Ho0qhQ6dxw+hAFVL25EQ7LbUzcqIVqxlpJfQ2uNwwE7m9rvDdFFnI4EKZ5KqHw8lsa+/45CBpMDuB7X77+TCdQ==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 6], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 13], ["updated_at", "2019-10-07 13:01:50.226801"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 6]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 3.3ms | Allocations: 2552)
  Rendered carts/_cart.html.erb (Duration: 4.9ms | Allocations: 3642)
  Rendered line_items/create.js.erb (Duration: 6.4ms | Allocations: 5528)
Completed 200 OK in 15ms (Views: 6.5ms | ActiveRecord: 1.8ms | Allocations: 10918)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:01:50 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"Ho0qhQ6dxw+hAFVL25EQ7LbUzcqIVqxlpJfQ2uNwwE7m9rvDdFFnI4EKZ5KqHw8lsa+/45CBpMDuB7X77+TCdQ==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 6], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 14], ["updated_at", "2019-10-07 13:01:50.468379"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 6]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 3.4ms | Allocations: 2552)
  Rendered carts/_cart.html.erb (Duration: 5.0ms | Allocations: 3642)
  Rendered line_items/create.js.erb (Duration: 6.4ms | Allocations: 5528)
Completed 200 OK in 15ms (Views: 6.5ms | ActiveRecord: 1.9ms | Allocations: 10916)


Started GET "/" for ::1 at 2019-10-07 16:01:52 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 34.6ms | Allocations: 4011)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 6]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 3.0ms | Allocations: 2531)
  Rendered carts/_cart.html.erb (Duration: 4.9ms | Allocations: 3675)
Completed 200 OK in 51ms (Views: 48.9ms | ActiveRecord: 0.6ms | Allocations: 16970)


Started DELETE "/carts/6" for ::1 at 2019-10-07 16:02:08 +0300
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"9V4niHDxOGAkqoFLjZ0LweO06vXS0GyQt35MJ7AdHTcNJbbOCj2YTASgs5L8ExQI5M+Y3MoHZDX97ikGvIkfDA==", "id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 6]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 2]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 3]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mCart Destroy (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 6]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 9ms (ActiveRecord: 1.7ms | Allocations: 6321)


Started GET "/" for ::1 at 2019-10-07 16:02:08 +0300
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2019-10-07 13:02:08.521669"], ["updated_at", "2019-10-07 13:02:08.521669"]]
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.8ms | Allocations: 4008)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 7]]
  â†³ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 1.6ms | Allocations: 1033)
Completed 200 OK in 20ms (Views: 15.1ms | ActiveRecord: 1.8ms | Allocations: 16214)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:02:12 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"fRUlr5PA9JEIZ19Yjud9rNlYhx6lm4gY9Vqgz7CpZySFbrTp6QxUvShtbYH/aWJl3iP1N71MgL2/ysXuvD1lHw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 7], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 1], ["cart_id", 7], ["created_at", "2019-10-07 13:02:12.124445"], ["updated_at", "2019-10-07 13:02:12.124445"]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 7]]
  â†³ app/views/carts/_cart.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.3ms | Allocations: 142)
  Rendered carts/_cart.html.erb (Duration: 1.9ms | Allocations: 1249)
  Rendered line_items/create.js.erb (Duration: 3.2ms | Allocations: 2655)
Completed 200 OK in 12ms (Views: 3.5ms | ActiveRecord: 2.1ms | Allocations: 8105)


Started GET "/" for ::1 at 2019-10-07 16:02:14 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.3ms | Allocations: 4003)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 7]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.2ms | Allocations: 847)
  Rendered carts/_cart.html.erb (Duration: 3.4ms | Allocations: 1940)
Completed 200 OK in 18ms (Views: 16.4ms | ActiveRecord: 0.5ms | Allocations: 15229)


Started POST "/line_items?product_id=2" for ::1 at 2019-10-07 16:02:36 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"xe0dlLqxaF2Qc4p/4C8W2xvUOevbiB76I1dZXGBihto9lozSwH3IcbB5uKaRoQkSHK9LwsNfFl9pxzx9bPaE4Q==", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 7], ["product_id", 2], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 2], ["cart_id", 7], ["created_at", "2019-10-07 13:02:36.740723"], ["updated_at", "2019-10-07 13:02:36.740723"]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 7]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 1.5ms | Allocations: 992)
  Rendered carts/_cart.html.erb (Duration: 3.3ms | Allocations: 2123)
  Rendered line_items/create.js.erb (Duration: 4.6ms | Allocations: 3769)
Completed 200 OK in 14ms (Views: 4.8ms | ActiveRecord: 2.4ms | Allocations: 9207)


Started GET "/" for ::1 at 2019-10-07 16:02:42 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 4003)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 7]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.1ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.0ms | Allocations: 2805)
Completed 200 OK in 20ms (Views: 17.6ms | ActiveRecord: 0.5ms | Allocations: 16095)


Started POST "/line_items?product_id=3" for ::1 at 2019-10-07 16:02:46 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"i1qhYL+AlbiJHGYRrWwKuj7XUHnFXm2m5vm5sqIkZ1lzITAmxUw1lKkWVMjc4hVzOawiUN2JZQOsadyTrrBlYg==", "product_id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 7], ["product_id", 3], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 3], ["cart_id", 7], ["created_at", "2019-10-07 13:02:46.111008"], ["updated_at", "2019-10-07 13:02:46.111008"]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 7]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 2.3ms | Allocations: 1841)
  Rendered carts/_cart.html.erb (Duration: 4.1ms | Allocations: 2995)
  Rendered line_items/create.js.erb (Duration: 5.5ms | Allocations: 4881)
Completed 200 OK in 14ms (Views: 5.7ms | ActiveRecord: 2.2ms | Allocations: 10319)


Started GET "/" for ::1 at 2019-10-07 16:02:48 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.3ms | Allocations: 4003)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 7]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 3.1ms | Allocations: 2531)
  Rendered carts/_cart.html.erb (Duration: 5.1ms | Allocations: 3669)
Completed 200 OK in 21ms (Views: 18.8ms | ActiveRecord: 0.6ms | Allocations: 16963)


Started GET "/" for ::1 at 2019-10-07 16:04:41 +0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 10.2ms | Allocations: 7944)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 7]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 3.7ms | Allocations: 3277)
  Rendered carts/_cart.html.erb (Duration: 12.3ms | Allocations: 10017)
Completed 200 OK in 38ms (Views: 29.6ms | ActiveRecord: 2.1ms | Allocations: 31843)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:04:43 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"/8luU9xu1jWnSF+hoBEolzXAKtYd9AN/eVxHriGx8iwHsv8VpqJ2GYdCbXjRnzdeMrtY/wUjC9ozzCKPLSXwFw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 7], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2019-10-07 13:04:43.628739"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/show.html.erb
  Rendered line_items/show.html.erb (Duration: 1.4ms | Allocations: 522)
Completed 200 OK in 12ms (Views: 4.1ms | ActiveRecord: 1.6ms | Allocations: 7226)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:04:44 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"/8luU9xu1jWnSF+hoBEolzXAKtYd9AN/eVxHriGx8iwHsv8VpqJ2GYdCbXjRnzdeMrtY/wUjC9ozzCKPLSXwFw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 7], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 3], ["updated_at", "2019-10-07 13:04:44.287230"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/show.html.erb
  Rendered line_items/show.html.erb (Duration: 0.2ms | Allocations: 67)
Completed 200 OK in 10ms (Views: 0.8ms | ActiveRecord: 2.2ms | Allocations: 5489)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:04:44 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"/8luU9xu1jWnSF+hoBEolzXAKtYd9AN/eVxHriGx8iwHsv8VpqJ2GYdCbXjRnzdeMrtY/wUjC9ozzCKPLSXwFw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 7], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 4], ["updated_at", "2019-10-07 13:04:44.490440"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/show.html.erb
  Rendered line_items/show.html.erb (Duration: 0.2ms | Allocations: 67)
Completed 200 OK in 38ms (Views: 1.1ms | ActiveRecord: 2.7ms | Allocations: 5494)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:04:44 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"/8luU9xu1jWnSF+hoBEolzXAKtYd9AN/eVxHriGx8iwHsv8VpqJ2GYdCbXjRnzdeMrtY/wUjC9ozzCKPLSXwFw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 7], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 5], ["updated_at", "2019-10-07 13:04:44.608877"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/show.html.erb
  Rendered line_items/show.html.erb (Duration: 0.2ms | Allocations: 67)
Completed 200 OK in 12ms (Views: 0.9ms | ActiveRecord: 2.0ms | Allocations: 8500)


Started GET "/" for ::1 at 2019-10-07 16:05:22 +0300
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 1001.3ms | Allocations: 1342333)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 7]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 4.4ms | Allocations: 3417)
  Rendered carts/_cart.html.erb (Duration: 18.9ms | Allocations: 12707)
Completed 200 OK in 1052ms (Views: 1036.4ms | ActiveRecord: 2.3ms | Allocations: 1372545)


Started DELETE "/carts/7" for ::1 at 2019-10-07 16:05:28 +0300
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"3efOmYB6o8r8E9ffcGwJm18U0lyUkj3k3LK6nKvJa8AlnF/f+rYD5twZ5QYB4hZSWG+gdYxFNUGWIt+9p11p+w==", "id"=>"7"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 7]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 2]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 3]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mCart Destroy (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 7]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 11ms (ActiveRecord: 2.6ms | Allocations: 6397)


Started GET "/" for ::1 at 2019-10-07 16:05:28 +0300
Processing by StoreController#index as HTML
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2019-10-07 13:05:28.522558"], ["updated_at", "2019-10-07 13:05:28.522558"]]
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 6.8ms | Allocations: 4010)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 8]]
  â†³ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 1.9ms | Allocations: 1033)
Completed 200 OK in 22ms (Views: 17.2ms | ActiveRecord: 1.7ms | Allocations: 16355)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:05:31 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"gFK/DKITpiPzueF/He6kkvHvZO0i/NeShZkNzQoMptN4KS5K2N8GD9Oz06ZsYLtb9pQWxDor3zfPCWjsBpik6A==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 8], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 1], ["cart_id", 8], ["created_at", "2019-10-07 13:05:31.555139"], ["updated_at", "2019-10-07 13:05:31.555139"]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/show.html.erb
  Rendered line_items/show.html.erb (Duration: 0.6ms | Allocations: 257)
Completed 200 OK in 12ms (Views: 3.5ms | ActiveRecord: 1.7ms | Allocations: 7266)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:05:32 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"gFK/DKITpiPzueF/He6kkvHvZO0i/NeShZkNzQoMptN4KS5K2N8GD9Oz06ZsYLtb9pQWxDor3zfPCWjsBpik6A==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 8], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2019-10-07 13:05:32.373330"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/show.html.erb
  Rendered line_items/show.html.erb (Duration: 0.2ms | Allocations: 67)
Completed 200 OK in 9ms (Views: 0.7ms | ActiveRecord: 1.5ms | Allocations: 5533)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:05:32 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"gFK/DKITpiPzueF/He6kkvHvZO0i/NeShZkNzQoMptN4KS5K2N8GD9Oz06ZsYLtb9pQWxDor3zfPCWjsBpik6A==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 8], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 3], ["updated_at", "2019-10-07 13:05:32.549148"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/show.html.erb
  Rendered line_items/show.html.erb (Duration: 0.2ms | Allocations: 67)
Completed 200 OK in 9ms (Views: 0.7ms | ActiveRecord: 2.1ms | Allocations: 5487)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:05:32 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"gFK/DKITpiPzueF/He6kkvHvZO0i/NeShZkNzQoMptN4KS5K2N8GD9Oz06ZsYLtb9pQWxDor3zfPCWjsBpik6A==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 8], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 4], ["updated_at", "2019-10-07 13:05:32.710813"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/show.html.erb
  Rendered line_items/show.html.erb (Duration: 0.2ms | Allocations: 67)
Completed 200 OK in 10ms (Views: 0.9ms | ActiveRecord: 2.3ms | Allocations: 5493)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:05:32 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"gFK/DKITpiPzueF/He6kkvHvZO0i/NeShZkNzQoMptN4KS5K2N8GD9Oz06ZsYLtb9pQWxDor3zfPCWjsBpik6A==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 8], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 5], ["updated_at", "2019-10-07 13:05:32.892393"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/show.html.erb
  Rendered line_items/show.html.erb (Duration: 0.2ms | Allocations: 67)
Completed 200 OK in 34ms (Views: 0.8ms | ActiveRecord: 2.5ms | Allocations: 5496)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:05:33 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"gFK/DKITpiPzueF/He6kkvHvZO0i/NeShZkNzQoMptN4KS5K2N8GD9Oz06ZsYLtb9pQWxDor3zfPCWjsBpik6A==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 8], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 6], ["updated_at", "2019-10-07 13:05:33.012733"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/show.html.erb
  Rendered line_items/show.html.erb (Duration: 0.2ms | Allocations: 67)
Completed 200 OK in 10ms (Views: 0.9ms | ActiveRecord: 1.9ms | Allocations: 5658)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:05:33 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"gFK/DKITpiPzueF/He6kkvHvZO0i/NeShZkNzQoMptN4KS5K2N8GD9Oz06ZsYLtb9pQWxDor3zfPCWjsBpik6A==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 8], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 7], ["updated_at", "2019-10-07 13:05:33.172516"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/show.html.erb
  Rendered line_items/show.html.erb (Duration: 0.2ms | Allocations: 67)
Completed 200 OK in 9ms (Views: 0.7ms | ActiveRecord: 1.9ms | Allocations: 5487)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:05:33 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"gFK/DKITpiPzueF/He6kkvHvZO0i/NeShZkNzQoMptN4KS5K2N8GD9Oz06ZsYLtb9pQWxDor3zfPCWjsBpik6A==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 8], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 8], ["updated_at", "2019-10-07 13:05:33.332376"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/show.html.erb
  Rendered line_items/show.html.erb (Duration: 0.2ms | Allocations: 67)
Completed 200 OK in 9ms (Views: 0.7ms | ActiveRecord: 2.2ms | Allocations: 5492)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:05:33 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"gFK/DKITpiPzueF/He6kkvHvZO0i/NeShZkNzQoMptN4KS5K2N8GD9Oz06ZsYLtb9pQWxDor3zfPCWjsBpik6A==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 8], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 9], ["updated_at", "2019-10-07 13:05:33.460142"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/show.html.erb
  Rendered line_items/show.html.erb (Duration: 0.2ms | Allocations: 67)
Completed 200 OK in 10ms (Views: 0.7ms | ActiveRecord: 2.2ms | Allocations: 5500)


Started GET "/" for ::1 at 2019-10-07 16:05:35 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.6ms | Allocations: 4010)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 8]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.2ms | Allocations: 847)
  Rendered carts/_cart.html.erb (Duration: 3.1ms | Allocations: 1944)
Completed 200 OK in 19ms (Views: 17.1ms | ActiveRecord: 0.5ms | Allocations: 15237)


Started POST "/line_items?product_id=2" for ::1 at 2019-10-07 16:05:38 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"aUv6TWhKiRGTTZYX9+F2DyMyAmvQ5OITbdcJ73xmKjqRMGsLEoYpPbNHpM6Gb2nGJElwQsgz6rYnR2zOcPIoAQ==", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 8], ["product_id", 2], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 2], ["cart_id", 8], ["created_at", "2019-10-07 13:05:38.599714"], ["updated_at", "2019-10-07 13:05:38.599714"]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/show.html.erb
  Rendered line_items/show.html.erb (Duration: 0.2ms | Allocations: 67)
Completed 200 OK in 10ms (Views: 0.8ms | ActiveRecord: 2.1ms | Allocations: 5542)


Started POST "/line_items?product_id=3" for ::1 at 2019-10-07 16:05:39 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"aUv6TWhKiRGTTZYX9+F2DyMyAmvQ5OITbdcJ73xmKjqRMGsLEoYpPbNHpM6Gb2nGJElwQsgz6rYnR2zOcPIoAQ==", "product_id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 8], ["product_id", 3], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 3], ["cart_id", 8], ["created_at", "2019-10-07 13:05:39.524354"], ["updated_at", "2019-10-07 13:05:39.524354"]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/show.html.erb
  Rendered line_items/show.html.erb (Duration: 0.1ms | Allocations: 67)
Completed 200 OK in 9ms (Views: 0.7ms | ActiveRecord: 2.1ms | Allocations: 5532)


Started GET "/" for ::1 at 2019-10-07 16:05:41 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.3ms | Allocations: 4003)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 8]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 3.3ms | Allocations: 2531)
  Rendered carts/_cart.html.erb (Duration: 5.1ms | Allocations: 3669)
Completed 200 OK in 21ms (Views: 18.8ms | ActiveRecord: 0.6ms | Allocations: 16957)


Started DELETE "/carts/8" for ::1 at 2019-10-07 16:05:49 +0300
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"6auFbG8yau3LeXQuMgDJfEpLLEGQP8mTuCAevRZFCnkR0BQqFf7KwetzRvdDjta1TTBeaIjowTbysHucGtEIQg==", "id"=>"8"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 8]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 2]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 3]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mCart Destroy (0.2ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 8]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 9ms (ActiveRecord: 2.2ms | Allocations: 6240)


Started GET "/" for ::1 at 2019-10-07 16:05:49 +0300
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2019-10-07 13:05:49.496978"], ["updated_at", "2019-10-07 13:05:49.496978"]]
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 6.0ms | Allocations: 4008)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  â†³ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 2.1ms | Allocations: 1033)
Completed 200 OK in 22ms (Views: 16.8ms | ActiveRecord: 1.6ms | Allocations: 16125)


Started GET "/" for ::1 at 2019-10-07 16:06:28 +0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 11.2ms | Allocations: 7944)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  â†³ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 4.3ms | Allocations: 2702)
Completed 200 OK in 33ms (Views: 24.0ms | ActiveRecord: 1.6ms | Allocations: 24533)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:06:56 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"pOaKv6qWXRKYm6G0WIUjsqwWRXdfD1qDDP7GdpLalGRcnRv50Fr9PriRk20pCzx7q203XkfYUiZGbqNXnk6WXw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 9], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 1], ["cart_id", 9], ["created_at", "2019-10-07 13:06:56.648095"], ["updated_at", "2019-10-07 13:06:56.648095"]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  â†³ app/views/carts/_cart.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.3ms | Allocations: 143)
  Rendered carts/_cart.html.erb (Duration: 2.5ms | Allocations: 1412)
  Rendered line_items/create.js.erb (Duration: 4.2ms | Allocations: 3049)
Completed 200 OK in 19ms (Views: 4.7ms | ActiveRecord: 2.0ms | Allocations: 13457)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:06:56 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"pOaKv6qWXRKYm6G0WIUjsqwWRXdfD1qDDP7GdpLalGRcnRv50Fr9PriRk20pCzx7q203XkfYUiZGbqNXnk6WXw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 9], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2019-10-07 13:06:56.845165"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.2ms | Allocations: 854)
  Rendered carts/_cart.html.erb (Duration: 3.0ms | Allocations: 1899)
  Rendered line_items/create.js.erb (Duration: 4.1ms | Allocations: 3305)
Completed 200 OK in 14ms (Views: 4.4ms | ActiveRecord: 2.4ms | Allocations: 8701)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:06:57 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"pOaKv6qWXRKYm6G0WIUjsqwWRXdfD1qDDP7GdpLalGRcnRv50Fr9PriRk20pCzx7q203XkfYUiZGbqNXnk6WXw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 9], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 3], ["updated_at", "2019-10-07 13:06:57.036950"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.3ms | Allocations: 854)
  Rendered carts/_cart.html.erb (Duration: 3.1ms | Allocations: 1899)
  Rendered line_items/create.js.erb (Duration: 4.2ms | Allocations: 3305)
Completed 200 OK in 14ms (Views: 4.5ms | ActiveRecord: 2.4ms | Allocations: 8691)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:06:57 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"pOaKv6qWXRKYm6G0WIUjsqwWRXdfD1qDDP7GdpLalGRcnRv50Fr9PriRk20pCzx7q203XkfYUiZGbqNXnk6WXw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 9], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 4], ["updated_at", "2019-10-07 13:06:57.212847"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.2ms | Allocations: 854)
  Rendered carts/_cart.html.erb (Duration: 3.0ms | Allocations: 1899)
  Rendered line_items/create.js.erb (Duration: 4.2ms | Allocations: 3305)
Completed 200 OK in 14ms (Views: 4.4ms | ActiveRecord: 2.4ms | Allocations: 8697)


Started GET "/" for ::1 at 2019-10-07 16:07:00 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 4010)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.2ms | Allocations: 847)
  Rendered carts/_cart.html.erb (Duration: 3.1ms | Allocations: 1944)
Completed 200 OK in 18ms (Views: 16.6ms | ActiveRecord: 0.5ms | Allocations: 15238)


Started GET "/" for ::1 at 2019-10-07 16:08:03 +0300
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 994.5ms | Allocations: 1342553)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.4ms | Allocations: 1733)
  Rendered carts/_cart.html.erb (Duration: 16.5ms | Allocations: 10978)
Completed 200 OK in 1041ms (Views: 1025.5ms | ActiveRecord: 2.1ms | Allocations: 1370880)


Started GET "/" for ::1 at 2019-10-07 16:08:13 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.7ms | Allocations: 4005)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.2ms | Allocations: 847)
  Rendered carts/_cart.html.erb (Duration: 3.1ms | Allocations: 1940)
Completed 200 OK in 19ms (Views: 16.9ms | ActiveRecord: 0.5ms | Allocations: 15232)


Started DELETE "/carts/9" for ::1 at 2019-10-07 16:08:18 +0300
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"GP43FBZ+nlRAmA6H29d4D3AG7HG577x8KCFooRklYAHghaZSbLI+eGCSPF6qWWfGd32eWKE4tNlisQ2AFbFiOg==", "id"=>"9"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mCart Destroy (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 9]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 8ms (ActiveRecord: 2.0ms | Allocations: 4555)


Started GET "/" for ::1 at 2019-10-07 16:08:18 +0300
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2019-10-07 13:08:18.171907"], ["updated_at", "2019-10-07 13:08:18.171907"]]
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.3ms | Allocations: 4008)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 10]]
  â†³ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 2.3ms | Allocations: 1033)
Completed 200 OK in 22ms (Views: 17.0ms | ActiveRecord: 1.5ms | Allocations: 16346)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:08:20 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"PxGnmMVTQcyoYbCgfsyJNJxbIA88iD7EOa7BAFWG9mzHajbev5/h4IhrgnkPQpb9myBSJiRfNmFzPqQhWRL0Vw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 10], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 1], ["cart_id", 10], ["created_at", "2019-10-07 13:08:20.970925"], ["updated_at", "2019-10-07 13:08:20.970925"]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 10]]
  â†³ app/views/carts/_cart.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.3ms | Allocations: 142)
  Rendered carts/_cart.html.erb (Duration: 3.6ms | Allocations: 2538)
  Rendered line_items/create.js.erb (Duration: 6.4ms | Allocations: 5095)
Completed 200 OK in 19ms (Views: 9.8ms | ActiveRecord: 1.8ms | Allocations: 12921)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:08:21 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"PxGnmMVTQcyoYbCgfsyJNJxbIA88iD7EOa7BAFWG9mzHajbev5/h4IhrgnkPQpb9myBSJiRfNmFzPqQhWRL0Vw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 10], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2019-10-07 13:08:21.989971"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 10]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.2ms | Allocations: 854)
  Rendered carts/_cart.html.erb (Duration: 2.8ms | Allocations: 1899)
  Rendered line_items/create.js.erb (Duration: 4.0ms | Allocations: 3305)
Completed 200 OK in 13ms (Views: 4.3ms | ActiveRecord: 2.0ms | Allocations: 8728)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:08:22 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"PxGnmMVTQcyoYbCgfsyJNJxbIA88iD7EOa7BAFWG9mzHajbev5/h4IhrgnkPQpb9myBSJiRfNmFzPqQhWRL0Vw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 10], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 3], ["updated_at", "2019-10-07 13:08:22.197370"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 10]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.3ms | Allocations: 854)
  Rendered carts/_cart.html.erb (Duration: 2.8ms | Allocations: 1899)
  Rendered line_items/create.js.erb (Duration: 4.0ms | Allocations: 3305)
Completed 200 OK in 13ms (Views: 4.3ms | ActiveRecord: 2.2ms | Allocations: 8689)


Started GET "/" for ::1 at 2019-10-07 16:08:24 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.5ms | Allocations: 4009)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 10]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.2ms | Allocations: 847)
  Rendered carts/_cart.html.erb (Duration: 3.1ms | Allocations: 1944)
Completed 200 OK in 19ms (Views: 17.2ms | ActiveRecord: 0.5ms | Allocations: 15236)


Started DELETE "/carts/10" for ::1 at 2019-10-07 16:08:28 +0300
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"pwhZOD7Nd0JH2zo1Tu1OiyBWVA4EZUTKNW4mIlHTxU9fc8h+RAHXbmfRCOw/Y1FCJy0mJxyyTG9//kMDXUfHdA==", "id"=>"10"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 10]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mCart Destroy (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 10]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 7ms (ActiveRecord: 2.0ms | Allocations: 4404)


Started GET "/" for ::1 at 2019-10-07 16:08:28 +0300
Processing by StoreController#index as HTML
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2019-10-07 13:08:28.542343"], ["updated_at", "2019-10-07 13:08:28.542343"]]
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 6.1ms | Allocations: 4009)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 11]]
  â†³ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 1.6ms | Allocations: 1033)
Completed 200 OK in 21ms (Views: 16.1ms | ActiveRecord: 1.6ms | Allocations: 16123)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:08:30 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"vZ2bAnWAsBh6UgXqROjV1ysBhbY038hNNAhEPGcpMSxF5gpED0wQNFpYNzM1ZsoeLHr3nywIwOh+mCEda70zFw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 11], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 1], ["cart_id", 11], ["created_at", "2019-10-07 13:08:30.636940"], ["updated_at", "2019-10-07 13:08:30.636940"]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 11]]
  â†³ app/views/carts/_cart.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.3ms | Allocations: 142)
  Rendered carts/_cart.html.erb (Duration: 2.1ms | Allocations: 1249)
  Rendered line_items/create.js.erb (Duration: 3.2ms | Allocations: 2655)
Completed 200 OK in 12ms (Views: 3.6ms | ActiveRecord: 1.6ms | Allocations: 8096)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:08:31 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"vZ2bAnWAsBh6UgXqROjV1ysBhbY038hNNAhEPGcpMSxF5gpED0wQNFpYNzM1ZsoeLHr3nywIwOh+mCEda70zFw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 11], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2019-10-07 13:08:31.668797"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 11]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.2ms | Allocations: 854)
  Rendered carts/_cart.html.erb (Duration: 2.9ms | Allocations: 1899)
  Rendered line_items/create.js.erb (Duration: 4.1ms | Allocations: 3305)
Completed 200 OK in 13ms (Views: 4.3ms | ActiveRecord: 2.1ms | Allocations: 8689)


Started GET "/" for ::1 at 2019-10-07 16:08:33 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 4003)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 11]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.4ms | Allocations: 847)
  Rendered carts/_cart.html.erb (Duration: 3.5ms | Allocations: 1940)
Completed 200 OK in 19ms (Views: 17.2ms | ActiveRecord: 0.5ms | Allocations: 15230)


Started POST "/line_items?product_id=2" for ::1 at 2019-10-07 16:08:35 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"N+OhM8hGfg6y/ou31lkseiailpILsrDJC5EJgSomR9fPmDB1soreIpL0uW6n1zOzIdnkuxNluGxBAWygJrJF7A==", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 11], ["product_id", 2], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 2], ["cart_id", 11], ["created_at", "2019-10-07 13:08:35.715570"], ["updated_at", "2019-10-07 13:08:35.715570"]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 11]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 1.6ms | Allocations: 992)
  Rendered carts/_cart.html.erb (Duration: 3.6ms | Allocations: 2123)
  Rendered line_items/create.js.erb (Duration: 4.9ms | Allocations: 3769)
Completed 200 OK in 15ms (Views: 5.1ms | ActiveRecord: 2.3ms | Allocations: 9211)


Started GET "/" for ::1 at 2019-10-07 16:08:37 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.3ms | Allocations: 4003)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 11]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.0ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 3.8ms | Allocations: 2805)
Completed 200 OK in 19ms (Views: 17.5ms | ActiveRecord: 0.5ms | Allocations: 16096)


Started GET "/" for ::1 at 2019-10-07 16:09:41 +0300
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 945.5ms | Allocations: 1342553)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 11]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 3.6ms | Allocations: 2575)
  Rendered carts/_cart.html.erb (Duration: 17.4ms | Allocations: 11843)
Completed 200 OK in 992ms (Views: 976.6ms | ActiveRecord: 2.3ms | Allocations: 1371721)


Started DELETE "/carts/11" for ::1 at 2019-10-07 16:09:47 +0300
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"Igok26q9u7JmRDrSX+gGCT4DS8+4+K36ohMaUUj4+HHacbWd0HEbnkZOCAsuZhnAOXg55qAvpV/og39wRGz6Sg==", "id"=>"11"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 11]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 2]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mCart Destroy (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 11]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 9ms (ActiveRecord: 2.4ms | Allocations: 5478)


Started GET "/" for ::1 at 2019-10-07 16:09:47 +0300
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2019-10-07 13:09:47.516805"], ["updated_at", "2019-10-07 13:09:47.516805"]]
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 6.2ms | Allocations: 4010)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 12]]
  â†³ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 1.7ms | Allocations: 1033)
Completed 200 OK in 21ms (Views: 16.0ms | ActiveRecord: 1.6ms | Allocations: 16356)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:09:50 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"O1dxFZ+CDbXp2raJzoEyc5RaKdJL2FMKXKYxIaSJp6/DLOBT5U6tmcnQhFC/Dy26kyFb+1MPW68WNlQAqB2llA==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 12], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 1], ["cart_id", 12], ["created_at", "2019-10-07 13:09:50.460235"], ["updated_at", "2019-10-07 13:09:50.460235"]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 10ms (ActiveRecord: 1.8ms | Allocations: 5640)


Started GET "/" for ::1 at 2019-10-07 16:09:50 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.3ms | Allocations: 4003)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 12]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.1ms | Allocations: 847)
  Rendered carts/_cart.html.erb (Duration: 3.0ms | Allocations: 1940)
Completed 200 OK in 19ms (Views: 16.9ms | ActiveRecord: 0.5ms | Allocations: 15229)


Started POST "/line_items?product_id=2" for ::1 at 2019-10-07 16:09:54 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"LgqHim0T3Pg4rLcTFOjkbbZVVMzJVCP2YkzwJMvwAURBWoX6qziPN/gVocBpYjoG2qfGo9YeqsJbLH+Ne7KAfA==", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 12], ["product_id", 2], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 2], ["cart_id", 12], ["created_at", "2019-10-07 13:09:54.229086"], ["updated_at", "2019-10-07 13:09:54.229086"]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 8ms (ActiveRecord: 1.5ms | Allocations: 5378)


Started GET "/" for ::1 at 2019-10-07 16:09:54 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 8.3ms | Allocations: 7018)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 12]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.3ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.3ms | Allocations: 2805)
Completed 200 OK in 23ms (Views: 21.0ms | ActiveRecord: 0.6ms | Allocations: 19106)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:09:57 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"drKcBhcLMYfWCGyFEhQTHdVXSOT6h3O5ntrZ/jCiyMMZ4p520SBiSBaxelZvns12uaXai+XN+o2nulZXgOBJ+w==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 12], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2019-10-07 13:09:57.108127"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 10ms (ActiveRecord: 1.7ms | Allocations: 5370)


Started GET "/" for ::1 at 2019-10-07 16:09:57 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.5ms | Allocations: 4005)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 12]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.2ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.0ms | Allocations: 2805)
Completed 200 OK in 19ms (Views: 17.6ms | ActiveRecord: 0.5ms | Allocations: 16091)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:10:01 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"9vu5KtX2Y66MwUA2wzWztku7UqooAFwkNwuShMOb0WKZq7taE90wYUx4VuW+v23dJ0nAxTdK1RAOax0tc9lQWg==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 12], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 3], ["updated_at", "2019-10-07 13:10:01.192833"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.0ms | Allocations: 5344)


Started GET "/" for ::1 at 2019-10-07 16:10:01 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.5ms | Allocations: 4003)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 12]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.6ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.5ms | Allocations: 2805)
Completed 200 OK in 20ms (Views: 17.8ms | ActiveRecord: 0.6ms | Allocations: 16092)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:10:02 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"cAo8Qh0qTVXMl13YnHnpPFNXahGrm4J6tDLtk/0MQr8fWj4y2wEemgwuSwvh8zdXP6X4frTRC06NUmI6TU7Dhw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 12], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 4], ["updated_at", "2019-10-07 13:10:02.080775"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 1.9ms | Allocations: 5335)


Started GET "/" for ::1 at 2019-10-07 16:10:02 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.3ms | Allocations: 4003)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 12]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.2ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.2ms | Allocations: 2805)
Completed 200 OK in 19ms (Views: 17.4ms | ActiveRecord: 0.5ms | Allocations: 16096)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:10:06 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"3z1PVSInwks0KXqhon9FH2xbw4Qlegy4/7nKbd7XlViwbU0l5AyRhPSQbHLf9Zt0AKlR6zowhYzG2UXEbpUUYA==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 12], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 5], ["updated_at", "2019-10-07 13:10:06.478215"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 8ms (ActiveRecord: 1.9ms | Allocations: 5332)


Started GET "/" for ::1 at 2019-10-07 16:10:06 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 4003)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 12]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.1ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.1ms | Allocations: 2805)
Completed 200 OK in 19ms (Views: 17.0ms | ActiveRecord: 0.5ms | Allocations: 16098)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:10:07 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ARJ+NawG1IZpD/y6dqKsgsJ2QnFlcR/c1lPWDbgozyBuQnxFai2HSam26mkLKHLproTQHno7lujvM1mkCGpOGA==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 12], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 6], ["updated_at", "2019-10-07 13:10:07.007454"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 1.9ms | Allocations: 5330)


Started GET "/" for ::1 at 2019-10-07 16:10:07 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 4003)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 12]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.9ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.8ms | Allocations: 2805)
Completed 200 OK in 21ms (Views: 18.9ms | ActiveRecord: 0.6ms | Allocations: 16101)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:10:07 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"cGZ7zSCZblCD34gZb9qBLP7E9oYdyX5lTGRYeDaL8RcfNnm95rI9n0NmnsoSUF9HkjZk6QKD91F1BNfRhslwLw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 12], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 7], ["updated_at", "2019-10-07 13:10:07.454655"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 1.8ms | Allocations: 5335)


Started GET "/" for ::1 at 2019-10-07 16:10:07 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 4003)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 12]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.2ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.4ms | Allocations: 2805)
Completed 200 OK in 19ms (Views: 17.4ms | ActiveRecord: 0.6ms | Allocations: 16094)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:10:07 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"mZIAIdOl06sFtM6AaBphRyVSTaDdTjR1Ze4N4wdqK4H2wgJRFY6AZMUN2FMVkL8sSaDfz8IEvUFcjoJKtyiquQ==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 12], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 8], ["updated_at", "2019-10-07 13:10:07.947938"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 8ms (ActiveRecord: 1.5ms | Allocations: 5341)


Started GET "/" for ::1 at 2019-10-07 16:10:07 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 4003)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 12]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.5ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.5ms | Allocations: 2805)
Completed 200 OK in 20ms (Views: 17.6ms | ActiveRecord: 0.6ms | Allocations: 16095)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:10:08 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"aWe0LPMX43ZTBHkV8o0YFUUgLQ/6IqYJ3KfqwSg/aVkGN7ZcNTywuZO9b8aPB8Z+KdK/YOVoLz3lx2VomH3oYQ==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 12], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 9], ["updated_at", "2019-10-07 13:10:08.362026"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 1.8ms | Allocations: 5336)


Started GET "/" for ::1 at 2019-10-07 16:10:08 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 4003)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 12]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 24.3ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 26.2ms | Allocations: 2805)
Completed 200 OK in 41ms (Views: 39.1ms | ActiveRecord: 0.5ms | Allocations: 16100)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:10:08 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"fVVfNrbXWhPU9lbeLHIElVlGWXd1o0nAG7HpWTSy6g8SBV1GcPwJ3BRPQA1R+Nr+NbTLGGrpwPQi0WbwhPBrNw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 12], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 10], ["updated_at", "2019-10-07 13:10:08.684720"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 1.9ms | Allocations: 5344)


Started GET "/" for ::1 at 2019-10-07 16:10:08 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 4004)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 12]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.4ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.3ms | Allocations: 2805)
Completed 200 OK in 20ms (Views: 17.7ms | ActiveRecord: 0.6ms | Allocations: 16095)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:10:08 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"r2REdaY9vDaNwY1dbHt/12XkH0Seq8sPS/B8YJSltj/ANEYFYBbv+U14m44R8aG8CRaNK4HhQjtykPPJJOc3Bw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 12], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 11], ["updated_at", "2019-10-07 13:10:08.955674"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.0ms | Allocations: 5329)


Started GET "/" for ::1 at 2019-10-07 16:10:08 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 7.7ms | Allocations: 7018)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 12]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.8ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.9ms | Allocations: 2805)
Completed 200 OK in 22ms (Views: 20.4ms | ActiveRecord: 0.6ms | Allocations: 19104)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:10:09 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"z80r56gGe1lnPCLI4pwTxQZEMy82lkrDwXyHhLgTmBCgnSmXbi0olqeFNBufFs2uarahQCncw/f4HAgtCFEZKA==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 12], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 12], ["updated_at", "2019-10-07 13:10:09.212258"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 1.8ms | Allocations: 5334)


Started GET "/" for ::1 at 2019-10-07 16:10:09 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 4003)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 12]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.1ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.0ms | Allocations: 2805)
Completed 200 OK in 18ms (Views: 16.6ms | ActiveRecord: 0.5ms | Allocations: 16094)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:10:09 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"JFzdP7ds5N98w6iYJzlVpqu+j4Pley7IqzBlQiQ3ZutLDN9PcUe3ELx6vktas4vNx0wd7Poxp/ySUOrrlHXn0w==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 12], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 13], ["updated_at", "2019-10-07 13:10:09.484382"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.1ms | Allocations: 5336)


Started GET "/" for ::1 at 2019-10-07 16:10:09 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 7.5ms | Allocations: 6613)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 12]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.3ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.4ms | Allocations: 2805)
Completed 200 OK in 22ms (Views: 19.9ms | ActiveRecord: 0.6ms | Allocations: 19112)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:15:09 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"SUE/NPfRpJmXo5KqRyJzN6nPkN/pCPAeXNOJiq0V1NEmET1EMfr3VlcahHk6qK1cxT0CsPZCeSplswYjHVdV6Q==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 12], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 14], ["updated_at", "2019-10-07 13:15:09.683831"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.0ms | Allocations: 5347)


Started GET "/" for ::1 at 2019-10-07 16:15:09 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.5ms | Allocations: 4008)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 12]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.3ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.1ms | Allocations: 2805)
Completed 200 OK in 19ms (Views: 17.4ms | ActiveRecord: 0.6ms | Allocations: 16098)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:15:10 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"xBsifM28c0tzn0HpO3mL13YDSxwjltKqWRJDXTVi8WarSyAMC5cghLMmVzpG81W8GvHZczzcW55gcsz0hSBwXg==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 12], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 15], ["updated_at", "2019-10-07 13:15:10.390269"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 1.8ms | Allocations: 5338)


Started GET "/" for ::1 at 2019-10-07 16:15:10 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 9.0ms | Allocations: 6576)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 12]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.1ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 3.9ms | Allocations: 2805)
Completed 200 OK in 23ms (Views: 21.0ms | ActiveRecord: 0.6ms | Allocations: 19282)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:15:10 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"5eV5ZUUP5Qrxi5NPxegpl2smWr2HOkRX2H7L1GuuwNaKtXsVgyS2xTEyhZy4Yvf8B9TI0phwzWPhHkR92+xB7g==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 12], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 16], ["updated_at", "2019-10-07 13:15:10.790616"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 8ms (ActiveRecord: 1.4ms | Allocations: 5332)


Started GET "/" for ::1 at 2019-10-07 16:15:10 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 7.7ms | Allocations: 7018)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 12]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.0ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 3.9ms | Allocations: 2805)
Completed 200 OK in 21ms (Views: 19.3ms | ActiveRecord: 0.6ms | Allocations: 19107)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:15:10 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"fWIbgAwkvXwrtK+wa6x5vriK7HrCBlG7hR3eSoz2D8cSMhnwyg/us+sNuWMWJqfV1Hh+Fd1M2I+8fVHjPLSO/w==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 12], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 17], ["updated_at", "2019-10-07 13:15:10.982413"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.0ms | Allocations: 5343)


Started GET "/" for ::1 at 2019-10-07 16:15:10 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 7.4ms | Allocations: 6104)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 12]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.1ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.0ms | Allocations: 2805)
Completed 200 OK in 46ms (Views: 19.9ms | ActiveRecord: 0.6ms | Allocations: 19090)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:15:11 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"iRe/X6iIVG+29Wom16JZhWFUwZzLkg1EXYC/xdbYPzDmR70vbqMHoHZMfPWqKIfuDaZT89TYhHBk4DBsZpq+CA==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 12], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 18], ["updated_at", "2019-10-07 13:15:11.171228"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 8ms (ActiveRecord: 2.0ms | Allocations: 5362)


Started GET "/" for ::1 at 2019-10-07 16:15:11 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 4003)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 12]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.1ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.1ms | Allocations: 2805)
Completed 200 OK in 19ms (Views: 16.7ms | ActiveRecord: 0.6ms | Allocations: 16097)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:15:11 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"dNnRb4/YoGWYDtdALRZZO5GKV3cmZDmr6Ud+uyazhPobidMfSfPzqli3wZNQnIdQ/XjFGDkusJ/QJ/ESlvEFwg==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 12], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 19], ["updated_at", "2019-10-07 13:15:11.350790"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 1.9ms | Allocations: 5337)


Started GET "/" for ::1 at 2019-10-07 16:15:11 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 4003)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 12]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 3.2ms | Allocations: 2689)
  Rendered carts/_cart.html.erb (Duration: 6.0ms | Allocations: 4536)
Completed 200 OK in 21ms (Views: 19.0ms | ActiveRecord: 0.6ms | Allocations: 18091)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:15:11 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"/9DtVsPsxMZeRUJIhgcenIz5TTp/CzlG9OsqpIWHlI+QgO8mBceXCZ78VJv7jcD34AvfVWBBsHLNi6UNNcUVtw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 12], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 20], ["updated_at", "2019-10-07 13:15:11.494131"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.0ms | Allocations: 5338)


Started GET "/" for ::1 at 2019-10-07 16:15:11 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 7.3ms | Allocations: 6567)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 12]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.2ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.0ms | Allocations: 2805)
Completed 200 OK in 21ms (Views: 19.1ms | ActiveRecord: 0.6ms | Allocations: 19109)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:15:11 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"aceMt3MNWCM6ILD0UE3gZgvc2QR6Cjas+swMrjISnCMGl47HtSYL7PqZpictxz4NZy5La2VAv5jDrIMHglAdGw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 12], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 21], ["updated_at", "2019-10-07 13:15:11.654486"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 8ms (ActiveRecord: 1.8ms | Allocations: 5337)


Started GET "/" for ::1 at 2019-10-07 16:15:11 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 7.5ms | Allocations: 7018)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 12]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.1ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 3.9ms | Allocations: 2805)
Completed 200 OK in 21ms (Views: 19.1ms | ActiveRecord: 0.6ms | Allocations: 19108)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:15:11 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"btAjSI0O01MWh+KS3KT9ygn8nZ3Op35S5Z7+AAsWEbwBgCE4SyWAnNY+9EGhLiOhZQ4P8tHt92bc/nGpu1SQhA==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 12], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 22], ["updated_at", "2019-10-07 13:15:11.941721"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.0ms | Allocations: 5331)


Started GET "/" for ::1 at 2019-10-07 16:15:11 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 4003)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 12]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.1ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.0ms | Allocations: 2805)
Completed 200 OK in 18ms (Views: 16.7ms | ActiveRecord: 0.5ms | Allocations: 16094)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:15:12 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"1Iw0/fnGP+97ZCfTudvDOukA8FGMm3W4D+B2QOAuhKy73DaNP+1sILvdMQDEUR1RhfJiPpPR/Iw2gPnpUGwFlA==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 12], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 23], ["updated_at", "2019-10-07 13:15:12.102891"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 1.9ms | Allocations: 5337)


Started GET "/" for ::1 at 2019-10-07 16:15:12 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 4003)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 12]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.1ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.0ms | Allocations: 2805)
Completed 200 OK in 18ms (Views: 16.7ms | ActiveRecord: 0.5ms | Allocations: 16101)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:15:12 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"gGuAoZSrCX/2oeGHnZjhH9phkK7Ns/B/aBq6GlKr6rnvO4LRUoBasDYY91TgEj90tpMCwdL5eUtRejWz4ulrgQ==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 12], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 24], ["updated_at", "2019-10-07 13:15:12.262232"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.1ms | Allocations: 5336)


Started GET "/" for ::1 at 2019-10-07 16:15:12 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 7.4ms | Allocations: 6289)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 12]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.2ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.1ms | Allocations: 2807)
Completed 200 OK in 44ms (Views: 41.4ms | ActiveRecord: 0.5ms | Allocations: 19104)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:15:12 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"bNPD/+D7RHvHIBFgGQfI9SQEGPLr432gGRHL8Eu9+fcDg8GPJtAXtAeZB7NkjRaeSPaKnfSp9JQgcURZ+/94zw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 12], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 25], ["updated_at", "2019-10-07 13:15:12.438794"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 1.9ms | Allocations: 5350)


Started GET "/" for ::1 at 2019-10-07 16:15:12 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 7.6ms | Allocations: 6990)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 12]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.1ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 3.9ms | Allocations: 2805)
Completed 200 OK in 21ms (Views: 19.4ms | ActiveRecord: 0.6ms | Allocations: 19104)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:15:12 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"NRam4n8cr9DJV6YB32+wcOgoOK5g2bcH+llkGt/gZBBaRqSSuTf8HwnusNKi5W4bhNqqwX+TPjPDOeuzb6LlKA==", "product_id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 12], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 26], ["updated_at", "2019-10-07 13:15:12.598002"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.0ms | Allocations: 5333)


Started GET "/" for ::1 at 2019-10-07 16:15:12 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 7.7ms | Allocations: 7007)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 12]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.1ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.0ms | Allocations: 2805)
Completed 200 OK in 21ms (Views: 19.5ms | ActiveRecord: 0.5ms | Allocations: 19107)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:15:12 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"jgBWxf9MkT9ScQX1s8VmI0UPSmrw94h9vCq14r/d5LXhUFS1OWfC8JLIEybOT7hIKf3YBe+9AUmFSjpLD59ljQ==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 12], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 27], ["updated_at", "2019-10-07 13:15:12.757677"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.0ms | Allocations: 5333)


Started GET "/" for ::1 at 2019-10-07 16:15:12 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 7.9ms | Allocations: 6997)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 12]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.1ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 3.9ms | Allocations: 2805)
Completed 200 OK in 21ms (Views: 19.5ms | ActiveRecord: 0.6ms | Allocations: 19108)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:15:12 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"+8oO5i7LwoMnSlekhx06hzoXy4oA4/YhTXTRs+qiWI6UmgyW6OCRTOfzQXf6l+TsVuVZ5R+pfxV0FF4aWuDZtg==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 12], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 28], ["updated_at", "2019-10-07 13:15:12.938193"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 8ms (ActiveRecord: 1.9ms | Allocations: 5339)


Started GET "/" for ::1 at 2019-10-07 16:15:12 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 7.8ms | Allocations: 7018)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 12]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.1ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 3.9ms | Allocations: 2805)
Completed 200 OK in 21ms (Views: 19.4ms | ActiveRecord: 0.5ms | Allocations: 19104)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:15:13 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"K+M26H5mduY8g8nyen8aA42BYRnW5H5VQzd/d+x1cIJEszSYuE0lKfw63yEH9cRo4XPzdsmu92F6V/DeXDfxug==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 12], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 29], ["updated_at", "2019-10-07 13:15:13.097819"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.2ms | Allocations: 5339)


Started GET "/" for ::1 at 2019-10-07 16:15:13 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 7.3ms | Allocations: 6559)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 12]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.0ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 3.8ms | Allocations: 2805)
Completed 200 OK in 21ms (Views: 19.2ms | ActiveRecord: 0.5ms | Allocations: 19108)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:15:13 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"Kedr/qND/mQ/appuhou/X0UiotOFWzUpFTfMeafs6n1Gt2mOZWitq//TjL37AWE0KdAwvJoRvB0sV0PQF65rRQ==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 12], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 30], ["updated_at", "2019-10-07 13:15:13.258963"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.0ms | Allocations: 5336)


Started GET "/" for ::1 at 2019-10-07 16:15:13 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 7.1ms | Allocations: 6108)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 12]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.0ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 3.7ms | Allocations: 2805)
Completed 200 OK in 21ms (Views: 18.8ms | ActiveRecord: 0.6ms | Allocations: 19108)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:15:13 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"bnt8GVPE1+oEefjAVP+dIHT7jynag81HlWgebpRP9woBK35ple+EJcTA7hMpdUNLGAkdRsXJRHOsCJHHJA12Mg==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 12], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 31], ["updated_at", "2019-10-07 13:15:13.434586"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 10ms (ActiveRecord: 2.2ms | Allocations: 5334)


Started GET "/" for ::1 at 2019-10-07 16:15:13 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 7.4ms | Allocations: 6360)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 12]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.0ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 3.9ms | Allocations: 2805)
Completed 200 OK in 22ms (Views: 19.4ms | ActiveRecord: 0.5ms | Allocations: 19109)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:15:13 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"2gkWnEMw3CWN6fjCYB2xhfxpn6mIQUdkDvPaYwDoPMe1WRTshRuP6k1Q7hEdl2/ukJsNxpcLzlA3k1XKsKq9/w==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 12], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 32], ["updated_at", "2019-10-07 13:15:13.610301"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 34ms (ActiveRecord: 2.0ms | Allocations: 6025)


Started GET "/" for ::1 at 2019-10-07 16:15:13 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 6.7ms | Allocations: 4004)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 12]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.1ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 3.9ms | Allocations: 2805)
Completed 200 OK in 23ms (Views: 20.3ms | ActiveRecord: 0.7ms | Allocations: 16085)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:15:13 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"O1nThYODbRKmkufsrtyHhF1g1+i9D4CDY6ZnUYkcdOVUCdH1Rag+3WYr8T/TVlnvMZJFh6JFCbdaxuj4OV713Q==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 12], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 33], ["updated_at", "2019-10-07 13:15:13.770166"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.0ms | Allocations: 5334)


Started GET "/" for ::1 at 2019-10-07 16:15:13 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 4.8ms | Allocations: 4003)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 12]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.1ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 3.9ms | Allocations: 2805)
Completed 200 OK in 18ms (Views: 16.6ms | ActiveRecord: 0.5ms | Allocations: 16089)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:15:13 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"4IQIKbgfWU/RyhCrCkQJDVDyvLaCWGqIIZ2glIaSQ4KP1ApZfjQKgBFzBnh3ztdmPAAu2Z0S47wY/S89NtDCug==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 12], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 34], ["updated_at", "2019-10-07 13:15:13.946522"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 10ms (ActiveRecord: 2.0ms | Allocations: 5797)


Started GET "/" for ::1 at 2019-10-07 16:15:13 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 4.9ms | Allocations: 4003)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 12]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.1ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 3.9ms | Allocations: 2805)
Completed 200 OK in 18ms (Views: 16.6ms | ActiveRecord: 0.5ms | Allocations: 16094)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:15:14 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"oo/KE4OKs55s5Vs6h/BlY/ZANycIwZoovQqRG4dm4pPN38hjRaHgUaxcTen6ersImrKlSBeLExyEah6yNyRjqw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 12], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 35], ["updated_at", "2019-10-07 13:15:14.121905"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.2ms | Allocations: 5344)


Started GET "/" for ::1 at 2019-10-07 16:15:14 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.6ms | Allocations: 4003)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 12]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 3.0ms | Allocations: 2696)
  Rendered carts/_cart.html.erb (Duration: 5.6ms | Allocations: 4531)
Completed 200 OK in 21ms (Views: 19.4ms | ActiveRecord: 0.6ms | Allocations: 18081)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:15:14 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"m0HTpTx5Kz9oQrqWSvVKl9iYg2b/dOYPV6ysiZDWETP0EdHV+lJ48Kj7rEU3f5T8tGoRCeA+bztuzCMgIJSQCw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 12], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 36], ["updated_at", "2019-10-07 13:15:14.457343"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 8ms (ActiveRecord: 1.8ms | Allocations: 5335)


Started GET "/" for ::1 at 2019-10-07 16:15:14 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 6.2ms | Allocations: 4003)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 12]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.0ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 3.8ms | Allocations: 2805)
Completed 200 OK in 20ms (Views: 17.7ms | ActiveRecord: 0.5ms | Allocations: 16098)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:15:14 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"SZ380W1cnT11COcbTnavxN4rq1e5NPI2XMBFxnxtNwEmzf6hq3fO8rWx8cgz/HGvstk5OKZ+ewJloMpvzC+2OQ==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 12], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 37], ["updated_at", "2019-10-07 13:15:14.618420"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 1.9ms | Allocations: 5335)


Started GET "/" for ::1 at 2019-10-07 16:15:14 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 4003)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 12]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.0ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.0ms | Allocations: 2805)
Completed 200 OK in 18ms (Views: 16.5ms | ActiveRecord: 0.5ms | Allocations: 16091)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:15:14 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"LKzY8PLFhyseZNoPAQt+NIN8pILOKXTgsuUGKhTuAH1D/NqANO7U5N7dzNx8gaBf74427dFj/dSLhYmDpKyBRQ==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 12], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 38], ["updated_at", "2019-10-07 13:15:14.793776"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.1ms | Allocations: 5330)


Started GET "/" for ::1 at 2019-10-07 16:15:14 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 6.2ms | Allocations: 5559)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 12]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.1ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.1ms | Allocations: 2805)
Completed 200 OK in 20ms (Views: 18.3ms | ActiveRecord: 0.5ms | Allocations: 18418)


Started DELETE "/carts/12" for ::1 at 2019-10-07 16:15:17 +0300
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"pUExUkrqja1erk6caCO9fXi6ZYibslR9mXtH5+t9POXlCMvuYuZcYPFyojk5AQ3dVtS0dayvJFP2sEcOoQf3Cw==", "id"=>"12"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 12]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 2]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mCart Destroy (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 12]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 8ms (ActiveRecord: 2.1ms | Allocations: 5345)


Started GET "/" for ::1 at 2019-10-07 16:15:17 +0300
Processing by StoreController#index as HTML
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2019-10-07 13:15:17.994315"], ["updated_at", "2019-10-07 13:15:17.994315"]]
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.7ms | Allocations: 4010)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 13]]
  â†³ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 1.8ms | Allocations: 1033)
Completed 200 OK in 43ms (Views: 15.8ms | ActiveRecord: 1.5ms | Allocations: 16141)


Started POST "/line_items?product_id=2" for ::1 at 2019-10-07 16:15:20 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"bosSd3u/GCzM6ntDMyk+dK4m7R1qErVrVrX0u7s+lAeW8IMxAXO4AOzgSZpCpyG9qV2fNHLFvc4cJZGat6qWPA==", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 13], ["product_id", 2], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 2], ["cart_id", 13], ["created_at", "2019-10-07 13:15:20.709168"], ["updated_at", "2019-10-07 13:15:20.709168"]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.0ms | Allocations: 5365)


Started GET "/" for ::1 at 2019-10-07 16:15:20 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 4003)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 13]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.2ms | Allocations: 847)
  Rendered carts/_cart.html.erb (Duration: 3.1ms | Allocations: 1940)
Completed 200 OK in 18ms (Views: 15.8ms | ActiveRecord: 0.6ms | Allocations: 15225)


Started POST "/line_items?product_id=2" for ::1 at 2019-10-07 16:15:23 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"dGToFJNCcPydoXdqtoVfHUXu+U+eZcqVkiOPimobDFMbNOpkVWkjM10YYbnLD4F2KRxrIIEvQ6GrQwAj2lmNaw==", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 13], ["product_id", 2], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2019-10-07 13:15:23.278547"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 1.9ms | Allocations: 5330)


Started GET "/" for ::1 at 2019-10-07 16:15:23 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 4003)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 13]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.1ms | Allocations: 847)
  Rendered carts/_cart.html.erb (Duration: 2.9ms | Allocations: 1940)
Completed 200 OK in 18ms (Views: 16.1ms | ActiveRecord: 0.5ms | Allocations: 15225)


Started POST "/line_items?product_id=2" for ::1 at 2019-10-07 16:15:25 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"Xci1rhDVyI5+rr290n+ugIK8LtArc/e5gvcueoCL+YMymLfe1v6bQb4Xq26v9XDr7k68vzQ5fo27l6HTMMl4uw==", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 13], ["product_id", 2], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 3], ["updated_at", "2019-10-07 13:15:25.338040"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 8ms (ActiveRecord: 1.4ms | Allocations: 5337)


Started GET "/" for ::1 at 2019-10-07 16:15:25 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 4.9ms | Allocations: 4003)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 13]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.1ms | Allocations: 847)
  Rendered carts/_cart.html.erb (Duration: 2.9ms | Allocations: 1940)
Completed 200 OK in 17ms (Views: 15.6ms | ActiveRecord: 0.5ms | Allocations: 15225)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:18:48 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"mTfkjLFJYvYujsmwqCEsKQ3TTygo9+16qYA1fkNIWgv2Z+b8d2IxOe4332PVq/JCYSHdRze9ZE6Q4LrX8wrbMw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 13], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 1], ["cart_id", 13], ["created_at", "2019-10-07 13:18:48.331651"], ["updated_at", "2019-10-07 13:18:48.331651"]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.0ms | Allocations: 5397)


Started GET "/" for ::1 at 2019-10-07 16:18:48 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 4008)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 13]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.0ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 3.8ms | Allocations: 2805)
Completed 200 OK in 19ms (Views: 16.6ms | ActiveRecord: 0.6ms | Allocations: 16103)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:18:50 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"2H3teng2kwNtSOzwcZcgUIcNYH+xjJIiZsrEgxeXrKi3Le8Kvh3AzK3x+iMMHf476//yEK7GGxZfqksqp9UtkA==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 13], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2019-10-07 13:18:50.176524"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.2ms | Allocations: 5335)


Started GET "/" for ::1 at 2019-10-07 16:18:50 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 4003)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 13]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.0ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 3.9ms | Allocations: 2805)
Completed 200 OK in 18ms (Views: 16.4ms | ActiveRecord: 0.5ms | Allocations: 16097)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:18:50 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"vQZhxLbZNCW7zx9Lp06SY+rDEXaYmXCV5Og57Mf42NPSVmO0cPJn6nt2CZjaxEwIhjGDGYfT+aHdiLZFd7pZ6w==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 13], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 3], ["updated_at", "2019-10-07 13:18:50.352640"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.0ms | Allocations: 5335)


Started GET "/" for ::1 at 2019-10-07 16:18:50 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.3ms | Allocations: 4003)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 13]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.1ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 3.9ms | Allocations: 2805)
Completed 200 OK in 19ms (Views: 17.0ms | ActiveRecord: 0.5ms | Allocations: 16092)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:18:50 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"uNKsvVSiK4obT8+8DMXIM7KqSlLR/Lbq2X1saYnB/BHXgq7Nkol4Rdv22W9xTxZY3ljYPc62P97gHePAOYN9KQ==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 13], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 4], ["updated_at", "2019-10-07 13:18:50.532224"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.0ms | Allocations: 5331)


Started GET "/" for ::1 at 2019-10-07 16:18:50 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 7.4ms | Allocations: 6995)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 13]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.5ms | Allocations: 1691)
  Rendered carts/_cart.html.erb (Duration: 26.0ms | Allocations: 2807)
Completed 200 OK in 43ms (Views: 41.2ms | ActiveRecord: 0.6ms | Allocations: 19113)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:18:50 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"5nBSfk38HlU4JLPXjQgxwSv3ooiwtdCdI8zhwS9ke3OJIFAOi9dNmvidpQTwgu+qRwUw56//WakarG5onyb6Sw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 13], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 5], ["updated_at", "2019-10-07 13:18:50.836751"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.4ms | Allocations: 5346)


Started GET "/" for ::1 at 2019-10-07 16:18:50 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 4004)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 13]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.1ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 3.9ms | Allocations: 2805)
Completed 200 OK in 19ms (Views: 16.9ms | ActiveRecord: 0.5ms | Allocations: 16093)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:18:50 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"JewZen0nZUX9JNazC3ekZwEwrNICswqrn0SR8TayUSpKvBsKuww2ij2dwGB2/XoMbcI+vR35g5+mJB5YhvDQEg==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 13], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 6], ["updated_at", "2019-10-07 13:18:50.996961"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.1ms | Allocations: 5335)


Started GET "/" for ::1 at 2019-10-07 16:18:51 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 4003)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 13]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.1ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.0ms | Allocations: 2805)
Completed 200 OK in 18ms (Views: 16.6ms | ActiveRecord: 0.5ms | Allocations: 16088)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:18:51 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"6ciSYhFh+anmepqocFoe8HuxtUeF6KmGhzFvzag1Y4OGmJAS10qqZibDjHsN0MCbF0MnKJqiILK+UeBkGHfiuw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 13], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 7], ["updated_at", "2019-10-07 13:18:51.156209"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.2ms | Allocations: 5330)


Started GET "/" for ::1 at 2019-10-07 16:18:51 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 7.0ms | Allocations: 6089)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 13]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.2ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.0ms | Allocations: 2805)
Completed 200 OK in 22ms (Views: 19.4ms | ActiveRecord: 0.5ms | Allocations: 19081)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:18:51 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ATMRUMfluRBv6Q02CKKVTtUAddSZULiEaBShqvJnZ9xuYxMgAc7q369QG+V1KEslufLnu4YaMbBRdC4DQiXm5A==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 13], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 8], ["updated_at", "2019-10-07 13:18:51.299590"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 8ms (ActiveRecord: 1.3ms | Allocations: 5338)


Started GET "/" for ::1 at 2019-10-07 16:18:51 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 7.9ms | Allocations: 7018)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 13]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.7ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.8ms | Allocations: 2805)
Completed 200 OK in 22ms (Views: 20.2ms | ActiveRecord: 0.6ms | Allocations: 19110)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:18:51 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"V3yqtDc+YGmN0xQVq3hySaMhIYWVyIzDlEIErD7hxvM4LKjE8RUzpk1qAsbW8qwiz9Oz6oqCBfetIosFjqNHyw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 13], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 9], ["updated_at", "2019-10-07 13:18:51.445956"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.0ms | Allocations: 5340)


Started GET "/" for ::1 at 2019-10-07 16:18:51 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 7.8ms | Allocations: 6995)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 13]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.0ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 3.9ms | Allocations: 2805)
Completed 200 OK in 22ms (Views: 20.3ms | ActiveRecord: 0.5ms | Allocations: 19107)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:18:51 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"HKdKZYD/8Uijh3DP3G3zFucYsBPG3iq2aGOazBm0QDtz90gVRtSih2M+Zhyh5y19i+oifNmUo4JRAxVlqfbBAw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 13], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 10], ["updated_at", "2019-10-07 13:18:51.604576"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 10ms (ActiveRecord: 2.3ms | Allocations: 5334)


Started GET "/" for ::1 at 2019-10-07 16:18:51 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 6.7ms | Allocations: 5301)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 13]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.1ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.1ms | Allocations: 2805)
Completed 200 OK in 22ms (Views: 19.5ms | ActiveRecord: 0.6ms | Allocations: 17948)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:18:51 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"HfbSpHl7E1Z1Nt3rL1wHXZV+FkOuUKJVKnqKljdMJnlyptDUv1BAmbWPyzhS1tk2+YyELLEaK2ETGgU/hw6nQQ==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 13], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 11], ["updated_at", "2019-10-07 13:18:51.765316"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 10ms (ActiveRecord: 2.2ms | Allocations: 5340)


Started GET "/" for ::1 at 2019-10-07 16:18:51 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 6.9ms | Allocations: 6340)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 13]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.1ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 3.9ms | Allocations: 2805)
Completed 200 OK in 21ms (Views: 18.9ms | ActiveRecord: 0.5ms | Allocations: 19107)


Started POST "/line_items?product_id=2" for ::1 at 2019-10-07 16:19:39 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"6ysEetwwYQJcqeIEHJgil+nOZVmyzTYEGuqPw3y6wTOEewYKGhsyzZwQ9NdhEvz8hTz3Nq2HvzAjigBqzPhACw==", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 13], ["product_id", 2], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 4], ["updated_at", "2019-10-07 13:19:39.138213"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 1.8ms | Allocations: 5347)


Started GET "/" for ::1 at 2019-10-07 16:19:39 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.3ms | Allocations: 4010)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 13]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.3ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.2ms | Allocations: 2805)
Completed 200 OK in 19ms (Views: 17.5ms | ActiveRecord: 0.5ms | Allocations: 16107)


Started POST "/line_items?product_id=2" for ::1 at 2019-10-07 16:19:41 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"O3aWvrPfULbf9ARnZsGWUs5TiyoG8CdgW/VqJ4a7JGlUJpTOdfQDeR9NErQbS0g5oqEZRRm6rlRileWONvmlUQ==", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 13], ["product_id", 2], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 5], ["updated_at", "2019-10-07 13:19:41.634509"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 8ms (ActiveRecord: 1.8ms | Allocations: 5347)


Started GET "/" for ::1 at 2019-10-07 16:19:41 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 4003)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 13]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.1ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.3ms | Allocations: 2805)
Completed 200 OK in 19ms (Views: 17.0ms | ActiveRecord: 0.5ms | Allocations: 16092)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:19:43 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"6PephOn/1dygciD0wvSv3jwDHnhNAqBazMtVylPKxVyHp6v0L9SGE2DLNie/fnG1UPGMF1JIKW71q9pj44hEZA==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 13], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 12], ["updated_at", "2019-10-07 13:19:43.773769"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.0ms | Allocations: 5340)


Started GET "/" for ::1 at 2019-10-07 16:19:43 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.9ms | Allocations: 4003)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 13]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.0ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 3.8ms | Allocations: 2805)
Completed 200 OK in 19ms (Views: 17.1ms | ActiveRecord: 0.6ms | Allocations: 16096)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:19:44 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"RrcOM8KRymlt8ku0UyjQlkta7tpAJlzNx68aRXqUQ/8p5wxDBLqZpq1LXWcuog79J6h8tV9s1fn+z5XsytbCxw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 13], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 13], ["updated_at", "2019-10-07 13:19:44.310307"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.2ms | Allocations: 5342)


Started GET "/" for ::1 at 2019-10-07 16:19:44 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.7ms | Allocations: 4357)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 13]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.6ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.7ms | Allocations: 2805)
Completed 200 OK in 21ms (Views: 18.7ms | ActiveRecord: 0.7ms | Allocations: 17378)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:19:44 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"YbjtycfvTBbmqsELoTcnlBLfaH4v3Q9mRsc4m9eEJt0O6O+5AcQf2SYT19jcvfn/fi36ETCXhlJ/p7cyZ8an5Q==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 13], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 14], ["updated_at", "2019-10-07 13:19:44.662557"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 10ms (ActiveRecord: 2.2ms | Allocations: 5336)


Started GET "/" for ::1 at 2019-10-07 16:19:44 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 4.9ms | Allocations: 4003)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 13]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.1ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 3.9ms | Allocations: 2805)
Completed 200 OK in 18ms (Views: 16.6ms | ActiveRecord: 0.5ms | Allocations: 16089)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:19:44 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"Rg8lDCMpXh124tDFECE7KBfJrxOYEmSoDL8amJDA+CQpXyd85QIN0rZbxhZtq+VDezs9fIdY7Zw135UxIIJ5HA==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 13], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 15], ["updated_at", "2019-10-07 13:19:44.997979"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 1.9ms | Allocations: 5342)


Started GET "/" for ::1 at 2019-10-07 16:19:45 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 4003)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 13]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.1ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.0ms | Allocations: 2805)
Completed 200 OK in 18ms (Views: 16.5ms | ActiveRecord: 0.5ms | Allocations: 16091)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:19:45 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"b7UF1pefHPOk+N+psWzSY/CNI8ok2XRJSZzZCNVsFN0A5QemUbRPPGRByXrM5gwInH+xpTuT/X1w/FahZS6V5Q==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 13], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 16], ["updated_at", "2019-10-07 13:19:45.253494"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 1.9ms | Allocations: 5333)


Started GET "/" for ::1 at 2019-10-07 16:19:45 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 7.8ms | Allocations: 7001)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 13]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.1ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 3.9ms | Allocations: 2805)
Completed 200 OK in 21ms (Views: 19.5ms | ActiveRecord: 0.5ms | Allocations: 19113)


Started POST "/line_items?product_id=2" for ::1 at 2019-10-07 16:19:49 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"hgr7r1AUi2afG+sKLE3uHwOP+qvH4Cqg2vmVUokIT4TpWvnflj/YqV+i/dlRxzB0b31oxNiqo5TjmRr7OUrOvA==", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 13], ["product_id", 2], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 6], ["updated_at", "2019-10-07 13:19:49.046673"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.2ms | Allocations: 5334)


Started GET "/" for ::1 at 2019-10-07 16:19:49 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 4.9ms | Allocations: 4003)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 13]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.2ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.1ms | Allocations: 2807)
Completed 200 OK in 40ms (Views: 37.7ms | ActiveRecord: 0.5ms | Allocations: 16100)


Started POST "/line_items?product_id=2" for ::1 at 2019-10-07 16:19:51 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"RSj58yIzoUOD7B2FUYTxCvQcCTi/na+aDi0rrdcNAZ4qePuD5BjyjENVC1YsDi9hmO6bV6DXJq43TaQEZ0+Apg==", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 13], ["product_id", 2], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 7], ["updated_at", "2019-10-07 13:19:51.246225"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 1.9ms | Allocations: 5343)


Started GET "/" for ::1 at 2019-10-07 16:19:51 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 4003)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 13]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.1ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 3.9ms | Allocations: 2805)
Completed 200 OK in 19ms (Views: 16.7ms | ActiveRecord: 0.6ms | Allocations: 16095)


Started POST "/line_items?product_id=2" for ::1 at 2019-10-07 16:19:53 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"m7s6A402lJeML2DfaqMIiTJ/gMqPcTUinxdBBXr3Vjr06zhzSx3HWEyWdgwXKdbiXo0SpZA7vBamd86syrXXAg==", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 13], ["product_id", 2], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 8], ["updated_at", "2019-10-07 13:19:53.282301"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 8ms (ActiveRecord: 1.3ms | Allocations: 5330)


Started GET "/" for ::1 at 2019-10-07 16:19:53 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 4003)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 13]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.1ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 3.9ms | Allocations: 2805)
Completed 200 OK in 18ms (Views: 16.6ms | ActiveRecord: 0.5ms | Allocations: 16092)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:19:54 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"EaZM6i2yLquZS1ye/apwooGHE9erEi7yxoRzrnNHS3J+9k6a65l9ZFnySk2AIK7J7XWBuLRYp8b/5PwHwwXKSg==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 13], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 17], ["updated_at", "2019-10-07 13:19:54.761111"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.2ms | Allocations: 5333)


Started GET "/" for ::1 at 2019-10-07 16:19:54 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 4003)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 13]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.1ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 3.9ms | Allocations: 2805)
Completed 200 OK in 18ms (Views: 16.6ms | ActiveRecord: 0.6ms | Allocations: 16091)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:19:56 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"hjcG/it+oFi9xsyhUGWpGnTFy/XaR0ooJZaHzQEPiZ/pZwSO7VXzl31/2nIt73dxGDdZmsUNwxwc9ghksU0Ipw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 13], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 18], ["updated_at", "2019-10-07 13:19:56.673071"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.0ms | Allocations: 5334)


Started GET "/" for ::1 at 2019-10-07 16:19:56 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.3ms | Allocations: 4003)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 13]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.2ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.0ms | Allocations: 2805)
Completed 200 OK in 19ms (Views: 16.9ms | ActiveRecord: 0.6ms | Allocations: 16094)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:19:57 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"CMqLfMBoMoapTDeWheK+uUxwGt90zzcwTyGs9ACPo4hnmokMBkNhSWn1IUX4aGDSIIKIsGuFvgR2QSNdsM0isA==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 13], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 19], ["updated_at", "2019-10-07 13:19:57.033738"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.0ms | Allocations: 5335)


Started GET "/" for ::1 at 2019-10-07 16:19:57 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 4.9ms | Allocations: 4003)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 13]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.2ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 3.9ms | Allocations: 2805)
Completed 200 OK in 18ms (Views: 16.3ms | ActiveRecord: 0.5ms | Allocations: 16100)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:19:57 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"hQKeIOZX+GbMIxNCsc1La6FvWKtXQjJoNUX6infT3LjqUpxQIHyrqQyaBZHMR5UAzZ3KxEgIu1wMJXUjx5FdgA==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 13], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 20], ["updated_at", "2019-10-07 13:19:57.337714"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.1ms | Allocations: 5334)


Started GET "/" for ::1 at 2019-10-07 16:19:57 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 4003)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 13]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.0ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 3.9ms | Allocations: 2805)
Completed 200 OK in 18ms (Views: 16.5ms | ActiveRecord: 0.6ms | Allocations: 16091)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:19:57 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"GvOzIWeJyQtvt/2UE2alm9hKVfiYU5Cp3ALhOGZ+tDF1o7FRoaKaxK8O60du7HvwtLjHl4cZGZ3lYm6R1jw1CQ==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 13], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 21], ["updated_at", "2019-10-07 13:19:57.561803"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 1.9ms | Allocations: 5337)


Started GET "/" for ::1 at 2019-10-07 16:19:57 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 7.8ms | Allocations: 7005)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 13]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.0ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 3.8ms | Allocations: 2805)
Completed 200 OK in 21ms (Views: 19.6ms | ActiveRecord: 0.5ms | Allocations: 19105)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:19:57 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"5P8JR6vqeBuewzRAsh+Kpk7KlSbUjviDC82AzLFsgO+Lrws3bcEr1F56IpPPlVTNIjgHScvEcbcyrQ9lAS4B1w==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 13], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 22], ["updated_at", "2019-10-07 13:19:57.825803"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 33ms (ActiveRecord: 2.3ms | Allocations: 5342)


Started GET "/" for ::1 at 2019-10-07 16:19:57 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 4004)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 13]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.1ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 3.9ms | Allocations: 2805)
Completed 200 OK in 19ms (Views: 16.9ms | ActiveRecord: 0.5ms | Allocations: 16093)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:19:57 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"UBbgkdzv8IFoC4ojDRbyWw7Ib1Cm9y5J4StGW2lPGXM/RuLhGsSjTqiynPBwnCwwYjr9P7m9p33YS8ny2Q2YSw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 13], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 23], ["updated_at", "2019-10-07 13:19:57.977159"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.0ms | Allocations: 5335)


Started GET "/" for ::1 at 2019-10-07 16:19:57 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 4003)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 13]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.2ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.0ms | Allocations: 2805)
Completed 200 OK in 19ms (Views: 16.7ms | ActiveRecord: 0.6ms | Allocations: 16095)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:19:58 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"vezwhbzkKSopSLR99q1ih5xRQ6o0gMbJhSMpsVANDa/SvPL1es965enxoq6LJ7zs8KPRxSvKT/28Q6YY4E+Mlw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 13], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 24], ["updated_at", "2019-10-07 13:19:58.296903"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.2ms | Allocations: 5333)


Started GET "/" for ::1 at 2019-10-07 16:19:58 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 4.9ms | Allocations: 4003)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 13]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.1ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 3.9ms | Allocations: 2805)
Completed 200 OK in 18ms (Views: 16.6ms | ActiveRecord: 0.5ms | Allocations: 16093)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:19:58 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"Y+c469g19jGvEo7MrZLecwYdzMyW5L6Ecg4rfkkCx2QMtzqbHh6l/m+rmB/QGAAYau9eo4muN7BLbqTX+UBGXA==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 13], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 25], ["updated_at", "2019-10-07 13:19:58.441024"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 1.8ms | Allocations: 5332)


Started GET "/" for ::1 at 2019-10-07 16:19:58 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 4003)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 13]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.2ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.1ms | Allocations: 2805)
Completed 200 OK in 18ms (Views: 16.4ms | ActiveRecord: 0.6ms | Allocations: 16089)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:19:58 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"4TmbeKfnsqBFjj/zzeWhbWE4LxLf4S/rUdIPO1INlLaOaZkIYczhb4U3KSCwb38GDcq9fcCrpt9osoCS4k8Vjg==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 13], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 26], ["updated_at", "2019-10-07 13:19:58.585931"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 1.9ms | Allocations: 5336)


Started GET "/" for ::1 at 2019-10-07 16:19:58 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 4.9ms | Allocations: 4003)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 13]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 3.2ms | Allocations: 2595)
  Rendered carts/_cart.html.erb (Duration: 5.8ms | Allocations: 3966)
Completed 200 OK in 21ms (Views: 18.7ms | ActiveRecord: 0.6ms | Allocations: 17551)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:19:58 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"WG28bBU4k+Rp4WXHrB/kx+5O1LU5SMKtpubUk9GmHH03Pb4c0xPAK6lYcxTRlTqsgrxG2iYCS5mfhls6YeSdRQ==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 13], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 27], ["updated_at", "2019-10-07 13:19:58.745297"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.0ms | Allocations: 5338)


Started GET "/" for ::1 at 2019-10-07 16:19:58 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 7.6ms | Allocations: 7018)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 13]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.1ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.0ms | Allocations: 2805)
Completed 200 OK in 21ms (Views: 19.2ms | ActiveRecord: 0.5ms | Allocations: 19109)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:19:58 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"yqboUdtr3zSqJ/xTYWPXI8kweyaePecpn+1Oi+z/V9ml9uohHUCM+2qe6oAc6QlIpcLpSYF3bh2mjcEiXL3W4Q==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 13], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 28], ["updated_at", "2019-10-07 13:19:58.905422"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 8ms (ActiveRecord: 1.4ms | Allocations: 5333)


Started GET "/" for ::1 at 2019-10-07 16:19:58 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 8.1ms | Allocations: 7018)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 13]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.0ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 3.8ms | Allocations: 2805)
Completed 200 OK in 21ms (Views: 19.5ms | ActiveRecord: 0.6ms | Allocations: 19107)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:19:59 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"4Hh7kyUYqmYMBI/3Dlb0QICOrzKCekMA+ogOd6Bls8CPKHnj4zP5qcy9mSRz3Cor7Hw9XZ0wyjTD6IHeECcy+A==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 13], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 29], ["updated_at", "2019-10-07 13:19:59.064998"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 1.9ms | Allocations: 5337)


Started GET "/" for ::1 at 2019-10-07 16:19:59 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 30.3ms | Allocations: 7002)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 13]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.2ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.0ms | Allocations: 2807)
Completed 200 OK in 44ms (Views: 42.6ms | ActiveRecord: 0.5ms | Allocations: 19118)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:19:59 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ueiAptm2dEtnZKT78Wpy1OUVphAbhm2XNqQmMONhSUnWuILWH50nhKfdsiiM4Ky/iec0fwTM5KMPxKmZUyPIcQ==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 13], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 30], ["updated_at", "2019-10-07 13:19:59.225816"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 11ms (ActiveRecord: 2.3ms | Allocations: 5750)


Started GET "/" for ::1 at 2019-10-07 16:19:59 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 4003)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 13]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.1ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 3.8ms | Allocations: 2805)
Completed 200 OK in 18ms (Views: 16.5ms | ActiveRecord: 0.5ms | Allocations: 16089)


Started DELETE "/carts/13" for ::1 at 2019-10-07 16:20:01 +0300
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"D0mDsMn6qzpiAptuhsQ8imSpu1AqNxQur+T9CdEObinPV6pbp4jDBUOZNldok8og2FSRiVaYhnCBwGsv1k7klw==", "id"=>"13"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 13]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 2]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mCart Destroy (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 13]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 8ms (ActiveRecord: 1.9ms | Allocations: 5337)


Started GET "/" for ::1 at 2019-10-07 16:20:02 +0300
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2019-10-07 13:20:02.007013"], ["updated_at", "2019-10-07 13:20:02.007013"]]
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 4008)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 14]]
  â†³ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 1.8ms | Allocations: 1033)
Completed 200 OK in 19ms (Views: 15.1ms | ActiveRecord: 1.5ms | Allocations: 16126)


Started DELETE "/carts/14" for ::1 at 2019-10-07 16:20:07 +0300
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"AZIx21aAwhJKpaeyF1S+hHfKcuqFQADBe5WH2LPiMEH56aCdLExiPmqvlWtm2qFNcLEAw52XCGQxBeL5v3Yyeg==", "id"=>"14"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 14]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mCart Destroy (0.3ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 14]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 6ms (ActiveRecord: 1.3ms | Allocations: 3481)


Started GET "/" for ::1 at 2019-10-07 16:20:07 +0300
Processing by StoreController#index as HTML
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2019-10-07 13:20:07.082226"], ["updated_at", "2019-10-07 13:20:07.082226"]]
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.5ms | Allocations: 4008)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 15]]
  â†³ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 1.8ms | Allocations: 1033)
Completed 200 OK in 19ms (Views: 15.2ms | ActiveRecord: 1.4ms | Allocations: 16123)


Started GET "/" for ::1 at 2019-10-07 16:20:10 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 4003)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 15]]
  â†³ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 1.9ms | Allocations: 1034)
Completed 200 OK in 17ms (Views: 15.0ms | ActiveRecord: 0.4ms | Allocations: 14317)


Started POST "/line_items?product_id=3" for ::1 at 2019-10-07 16:20:17 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"GsNskWbT8gJdv+uDQVRo5sUKoh4pTqUhCMgYmaDvkuXiuP3XHB9SLn212Vow2ncvwnHQNzGZrYRCWH24rHuQ3g==", "product_id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 15], ["product_id", 3], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 3], ["cart_id", 15], ["created_at", "2019-10-07 13:20:17.150853"], ["updated_at", "2019-10-07 13:20:17.150853"]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.0ms | Allocations: 5355)


Started GET "/" for ::1 at 2019-10-07 16:20:17 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 7.3ms | Allocations: 6091)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 15]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.3ms | Allocations: 847)
  Rendered carts/_cart.html.erb (Duration: 3.2ms | Allocations: 1940)
Completed 200 OK in 21ms (Views: 18.2ms | ActiveRecord: 0.5ms | Allocations: 18241)


Started POST "/line_items?product_id=2" for ::1 at 2019-10-07 16:20:19 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"RtvpJtfHlFLCxM6dvT2mcs4dLq4hDX52UsvZKJl8jXApi+tWEezHnQJ92E7At3gZou+8wT5H90Jrq1aBKT4MSA==", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 15], ["product_id", 2], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 2], ["cart_id", 15], ["created_at", "2019-10-07 13:20:19.505916"], ["updated_at", "2019-10-07 13:20:19.505916"]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.2ms | Allocations: 5381)


Started GET "/" for ::1 at 2019-10-07 16:20:19 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 4.9ms | Allocations: 4003)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 15]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.2ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.3ms | Allocations: 2805)
Completed 200 OK in 19ms (Views: 17.0ms | ActiveRecord: 0.6ms | Allocations: 16095)


Started POST "/line_items?product_id=2" for ::1 at 2019-10-07 16:20:22 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"Vw9eLL9XrjAk4agwq7Cx8YhxLwvVLl9E7CqheJcbnW84X1xceXz9/+RYvuPWOm+a5IO9ZMpk1nDVSi7RJ1kcVw==", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 15], ["product_id", 2], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2019-10-07 13:20:22.300618"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.3ms | Allocations: 5331)


Started GET "/" for ::1 at 2019-10-07 16:20:22 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.3ms | Allocations: 4003)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 15]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.1ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.0ms | Allocations: 2805)
Completed 200 OK in 19ms (Views: 16.8ms | ActiveRecord: 0.6ms | Allocations: 16097)


Started POST "/line_items?product_id=2" for ::1 at 2019-10-07 16:20:22 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"le5jvVBdDWznujey0lW8mIfEz0b9gB7weB3LEgwiszX6vmHNlnZeoycDIWGv32Lz6zZdKeLKl8RBfUS7vGAyDQ==", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 15], ["product_id", 2], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 3], ["updated_at", "2019-10-07 13:20:22.954734"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.2ms | Allocations: 5332)


Started GET "/" for ::1 at 2019-10-07 16:20:22 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 4005)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 15]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.2ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.2ms | Allocations: 2805)
Completed 200 OK in 19ms (Views: 17.2ms | ActiveRecord: 0.5ms | Allocations: 16095)


Started POST "/line_items?product_id=2" for ::1 at 2019-10-07 16:20:23 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"w7diKo7d3bDyTfG4GRuz6khpNtF03gqot4FVhbLGiAqs52BaSPaOfzL052tkkW2BJJukvmuUg5yO4dosAoQJMg==", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 15], ["product_id", 2], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 4], ["updated_at", "2019-10-07 13:20:23.259769"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 8ms (ActiveRecord: 1.9ms | Allocations: 5345)


Started GET "/" for ::1 at 2019-10-07 16:20:23 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.5ms | Allocations: 4003)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 15]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.2ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.1ms | Allocations: 2805)
Completed 200 OK in 19ms (Views: 17.4ms | ActiveRecord: 0.6ms | Allocations: 16093)


Started POST "/line_items?product_id=2" for ::1 at 2019-10-07 16:20:23 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"IrwetXihU/bRpoGLFiOj6W3rubCT6Qv+Ke+10KRpEHBN7BzFvooAOREfl1hrqX2CARkr34yjgsoQjzp5FCuRSA==", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 15], ["product_id", 2], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 5], ["updated_at", "2019-10-07 13:20:23.468373"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 1.9ms | Allocations: 5332)


Started GET "/" for ::1 at 2019-10-07 16:20:23 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 7.9ms | Allocations: 6994)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 15]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.1ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.0ms | Allocations: 2805)
Completed 200 OK in 22ms (Views: 19.7ms | ActiveRecord: 0.6ms | Allocations: 19275)


Started POST "/line_items?product_id=2" for ::1 at 2019-10-07 16:20:23 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"5Hak2DZnZx7KeGMbTnJIkicHwSX9FhMP8Md8UYKisBaLJqao8Ew00QrBdcgz+Jb5S/VTSuJcmjvJp/P4MuAxLg==", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 15], ["product_id", 2], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 6], ["updated_at", "2019-10-07 13:20:23.659969"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 1.9ms | Allocations: 5335)


Started GET "/" for ::1 at 2019-10-07 16:20:23 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 6.5ms | Allocations: 5552)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 15]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.1ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 3.9ms | Allocations: 2805)
Completed 200 OK in 21ms (Views: 18.4ms | ActiveRecord: 0.6ms | Allocations: 18156)


Started POST "/line_items?product_id=2" for ::1 at 2019-10-07 16:20:23 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"CQJ/8zIDXF+U+jz/bz351OWsMHr4rqKnwkO03sd35VhmUn2D9CgPkFRDKiwStye/iV6iFefkK5P7Izt3dzVkYA==", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 15], ["product_id", 2], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 7], ["updated_at", "2019-10-07 13:20:23.852496"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 1.9ms | Allocations: 5337)


Started GET "/" for ::1 at 2019-10-07 16:20:23 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 7.3ms | Allocations: 7001)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 15]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.1ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.4ms | Allocations: 2805)
Completed 200 OK in 21ms (Views: 19.4ms | ActiveRecord: 0.5ms | Allocations: 19106)


Started POST "/line_items?product_id=2" for ::1 at 2019-10-07 16:20:24 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"LG9utnlXuLJoCUsnzO0r8bNxMgL/sZzKBzy3f9T5zhBDP2zGv3zrfaiwXfSxZ/Wa34OgbeD7Ff4+XDjWZLtPKA==", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 15], ["product_id", 2], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 8], ["updated_at", "2019-10-07 13:20:24.048248"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.0ms | Allocations: 5336)


Started GET "/" for ::1 at 2019-10-07 16:20:24 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 7.9ms | Allocations: 7000)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 15]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.1ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.0ms | Allocations: 2805)
Completed 200 OK in 22ms (Views: 19.8ms | ActiveRecord: 0.6ms | Allocations: 19107)


Started POST "/line_items?product_id=2" for ::1 at 2019-10-07 16:20:24 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ptOePnXVvIKSQCpVMP8pSSTojNSoshRgLHKn60uw6sHJg5xOs/7vTVL5PIZNdfciSBoeu7f4nVQVEihC+/Jr+Q==", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 15], ["product_id", 2], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 9], ["updated_at", "2019-10-07 13:20:24.224818"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.0ms | Allocations: 5334)


Started GET "/" for ::1 at 2019-10-07 16:20:24 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 7.1ms | Allocations: 6995)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 15]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.1ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 3.9ms | Allocations: 2805)
Completed 200 OK in 20ms (Views: 18.6ms | ActiveRecord: 0.5ms | Allocations: 19105)


Started POST "/line_items?product_id=2" for ::1 at 2019-10-07 16:20:24 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"JbuxUDKWM7zrjIZ5cBlBW/cMHOgFY0jQF1obpfUP2zZK67Mg9L1gcys1kKoNk58wm/6OhxopweQuOpQMRU1aDg==", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 15], ["product_id", 2], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 10], ["updated_at", "2019-10-07 13:20:24.416306"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.1ms | Allocations: 5327)


Started GET "/" for ::1 at 2019-10-07 16:20:24 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 30.0ms | Allocations: 5564)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 15]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.3ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.2ms | Allocations: 2807)
Completed 200 OK in 45ms (Views: 42.5ms | ActiveRecord: 0.6ms | Allocations: 18176)


Started POST "/line_items?product_id=2" for ::1 at 2019-10-07 16:20:24 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"kzUVPHiUA0nENX4fhRxaGgAukvLJDqfTR18FRjBNkw/8ZRdMvr9QhgSMaMz4loRxbNwAndZELud+P4rvgA8SNw==", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 15], ["product_id", 2], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 11], ["updated_at", "2019-10-07 13:20:24.609039"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 1.9ms | Allocations: 5343)


Started GET "/" for ::1 at 2019-10-07 16:20:24 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 7.3ms | Allocations: 6613)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 15]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.1ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.0ms | Allocations: 2805)
Completed 200 OK in 21ms (Views: 19.4ms | ActiveRecord: 0.5ms | Allocations: 19103)


Started POST "/line_items?product_id=2" for ::1 at 2019-10-07 16:20:24 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"53VlCfsFIw2CjyvjjZJEi3v5br0CuNOOfoEAbNaw2w2IJWd5PS5wwkI2PTDwGJrgFwv80h3yWrpH4Y/FZvJaNQ==", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 15], ["product_id", 2], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 12], ["updated_at", "2019-10-07 13:20:24.784190"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 10ms (ActiveRecord: 2.2ms | Allocations: 5333)


Started GET "/" for ::1 at 2019-10-07 16:20:24 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.8ms | Allocations: 4775)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 15]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.2ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.0ms | Allocations: 2805)
Completed 200 OK in 20ms (Views: 17.7ms | ActiveRecord: 0.6ms | Allocations: 17400)


Started POST "/line_items?product_id=2" for ::1 at 2019-10-07 16:20:24 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"hEsdsejo2DrIMggmPLGADUZC+RSmnOyQnWHqx9bx13rrGx/BLsOL9QiLHvVBO15mKrBre7nWZaSkAWVuZrNWQg==", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 15], ["product_id", 2], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 13], ["updated_at", "2019-10-07 13:20:24.944107"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 8ms (ActiveRecord: 1.9ms | Allocations: 5344)


Started GET "/" for ::1 at 2019-10-07 16:20:24 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 7.9ms | Allocations: 7018)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 15]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.0ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 3.8ms | Allocations: 2805)
Completed 200 OK in 21ms (Views: 19.6ms | ActiveRecord: 0.6ms | Allocations: 19107)


Started POST "/line_items?product_id=2" for ::1 at 2019-10-07 16:20:25 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"/rqjpUBFE+My3k6DDqYE2fF8PXROcwlht7A6lLGGaSmR6qHVhm5ALPJnWFBzLNqynY6vG1E5gFWO0LU9AcToEQ==", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 15], ["product_id", 2], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 14], ["updated_at", "2019-10-07 13:20:25.120872"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.0ms | Allocations: 5336)


Started GET "/" for ::1 at 2019-10-07 16:20:25 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 7.2ms | Allocations: 6613)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 15]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.0ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 3.8ms | Allocations: 2805)
Completed 200 OK in 21ms (Views: 19.1ms | ActiveRecord: 0.6ms | Allocations: 19111)


Started POST "/line_items?product_id=2" for ::1 at 2019-10-07 16:20:25 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"8U90JyWewXQSGA9gy3XFiuEMA7oDm6NyxwIWAJLLEaOeH3ZX47WSu9KhGbO2/xvhjf6R1RzRKkb+YpmpIomQmw==", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 15], ["product_id", 2], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 15], ["updated_at", "2019-10-07 13:20:25.295852"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.0ms | Allocations: 5337)


Started GET "/" for ::1 at 2019-10-07 16:20:25 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 7.5ms | Allocations: 6571)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 15]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.0ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 3.8ms | Allocations: 2805)
Completed 200 OK in 21ms (Views: 19.3ms | ActiveRecord: 0.6ms | Allocations: 19110)


Started POST "/line_items?product_id=2" for ::1 at 2019-10-07 16:20:25 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"tya0+NQZOyUVhevc93RQiR8kCoopBZ7RVAL+CJhmH7HYdraIEjJo6tU8/Q+K/o7ic9aY5TZPF+VtYnGhKCSeiQ==", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 15], ["product_id", 2], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 16], ["updated_at", "2019-10-07 13:20:25.472368"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.1ms | Allocations: 5337)


Started GET "/" for ::1 at 2019-10-07 16:20:25 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 6.9ms | Allocations: 6355)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 15]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.2ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.2ms | Allocations: 2805)
Completed 200 OK in 21ms (Views: 19.0ms | ActiveRecord: 0.5ms | Allocations: 19102)


Started POST "/line_items?product_id=2" for ::1 at 2019-10-07 16:20:25 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"f7zYyYWkMX5WbC0rixg6nbp2kQqzV5dVK4EuhwxdaxQQ7Nq5Q49isZbVO/j2kuT21oQDZawdHmES4aEuvB/qLA==", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 15], ["product_id", 2], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 17], ["updated_at", "2019-10-07 13:20:25.648960"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 1.4ms | Allocations: 5334)


Started GET "/" for ::1 at 2019-10-07 16:20:25 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 7.9ms | Allocations: 7018)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 15]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.6ms | Allocations: 1691)
  Rendered carts/_cart.html.erb (Duration: 26.3ms | Allocations: 2807)
Completed 200 OK in 44ms (Views: 41.8ms | ActiveRecord: 0.6ms | Allocations: 19106)


Started POST "/line_items?product_id=2" for ::1 at 2019-10-07 16:20:25 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"1Kvrs5McjIL7NPvqYtrGTCgpOVK9du0ODhFArui6urW7++nDVTffTTuN7TkfUBgnRNurPaI8ZDo3cc8HWPg7jQ==", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 15], ["product_id", 2], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 18], ["updated_at", "2019-10-07 13:20:25.985014"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 10ms (ActiveRecord: 2.2ms | Allocations: 5346)


Started GET "/" for ::1 at 2019-10-07 16:20:25 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 4004)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 15]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.1ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.0ms | Allocations: 2805)
Completed 200 OK in 19ms (Views: 16.8ms | ActiveRecord: 0.5ms | Allocations: 16096)


Started POST "/line_items?product_id=2" for ::1 at 2019-10-07 16:20:26 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"yOiECeFY6MrGNGWPxPI5BuAewc/sa3PAsPKcvm+NhcGnuIZ5J3O7BQaNc1y5eOdtjOxToPMh+vSJkhMX388E+Q==", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 15], ["product_id", 2], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 19], ["updated_at", "2019-10-07 13:20:26.160350"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 8ms (ActiveRecord: 1.8ms | Allocations: 5334)


Started GET "/" for ::1 at 2019-10-07 16:20:26 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 4.9ms | Allocations: 4003)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 15]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.1ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 3.9ms | Allocations: 2805)
Completed 200 OK in 18ms (Views: 16.5ms | ActiveRecord: 0.6ms | Allocations: 16092)


Started GET "/" for ::1 at 2019-10-07 16:42:43 +0300
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 1231.0ms | Allocations: 1391457)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 15]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 3.2ms | Allocations: 2575)
  Rendered carts/_cart.html.erb (Duration: 16.3ms | Allocations: 11843)
Completed 200 OK in 1277ms (Views: 1260.6ms | ActiveRecord: 2.3ms | Allocations: 1421239)


Started DELETE "/carts/15" for ::1 at 2019-10-07 16:42:49 +0300
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"q4waDElSIGiki1cFA7dGB1d7idJtzyUleUPhH7SdXQJT94tKM56ARISBZdxyOVnOUAD7+3UYLYAz04Q+uAlfOQ==", "id"=>"15"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 15]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 2]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mCart Destroy (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 15]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 10ms (ActiveRecord: 2.4ms | Allocations: 5476)


Started GET "/" for ::1 at 2019-10-07 16:42:49 +0300
Processing by StoreController#index as HTML
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2019-10-07 13:42:49.959959"], ["updated_at", "2019-10-07 13:42:49.959959"]]
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 6.2ms | Allocations: 4066)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 16]]
  â†³ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 1.7ms | Allocations: 1033)
Completed 200 OK in 22ms (Views: 16.7ms | ActiveRecord: 1.6ms | Allocations: 16587)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:42:52 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"uj1L+IHNlxWVfenAWawgF/0MVXOLA6ON4je1Wf3q8thCRtq++wE3ObV32xkoIj/e+ncnWpPUqyiop9B48X7w4w==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 16], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 1], ["cart_id", 16], ["created_at", "2019-10-07 13:42:52.423794"], ["updated_at", "2019-10-07 13:42:52.423794"]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 1.7ms | Allocations: 5637)


Started GET "/" for ::1 at 2019-10-07 16:42:52 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 25.5ms | Allocations: 4061)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 16]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.2ms | Allocations: 847)
  Rendered carts/_cart.html.erb (Duration: 3.2ms | Allocations: 1942)
Completed 200 OK in 39ms (Views: 36.9ms | ActiveRecord: 0.6ms | Allocations: 15424)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:42:54 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"RSvCooyhALZ610zosLXLbLuY5np3NrSyOL7jjyWg9zQqe8DSSopTebpuWjvNPxUH12p0FWh8PYYB3mwmleJ2DA==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 16], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2019-10-07 13:42:54.260022"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.0ms | Allocations: 5385)


Started GET "/" for ::1 at 2019-10-07 16:42:54 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.5ms | Allocations: 4059)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 16]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.5ms | Allocations: 847)
  Rendered carts/_cart.html.erb (Duration: 3.4ms | Allocations: 1940)
Completed 200 OK in 19ms (Views: 17.2ms | ActiveRecord: 0.5ms | Allocations: 15422)


Started GET "/" for ::1 at 2019-10-07 16:48:02 +0300
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 952.9ms | Allocations: 1355134)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 16]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.3ms | Allocations: 1733)
  Rendered carts/_cart.html.erb (Duration: 16.8ms | Allocations: 10978)
Completed 200 OK in 1002ms (Views: 986.0ms | ActiveRecord: 2.2ms | Allocations: 1383681)


Started DELETE "/carts/16" for ::1 at 2019-10-07 16:48:08 +0300
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"0wE2rhxzuG2jBMrVwk2VKl8QTI0c9Wd5qugxbXm98XgreqfoZr8YQYMO+Ayzw4rjWGs+pAQib9zgeFRMdSnzQw==", "id"=>"16"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 16]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mCart Destroy (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 16]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 9ms (ActiveRecord: 2.5ms | Allocations: 4558)


Started GET "/" for ::1 at 2019-10-07 16:48:08 +0300
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2019-10-07 13:48:08.881414"], ["updated_at", "2019-10-07 13:48:08.881414"]]
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 7.4ms | Allocations: 4066)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 17]]
  â†³ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 1.7ms | Allocations: 1033)
Completed 200 OK in 24ms (Views: 18.5ms | ActiveRecord: 1.9ms | Allocations: 16545)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:48:11 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"5L23FfU50Pg+A9nepulcvhoHA8jY0Hssjkc8DfuUaKUcxiZTj/Vw1B4J6wfXZ0N3HXxx4cAHc4nE11ks9wBqng==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 17], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 1], ["cart_id", 17], ["created_at", "2019-10-07 13:48:11.450793"], ["updated_at", "2019-10-07 13:48:11.450793"]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 17]]
  â†³ app/views/carts/_cart.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.4ms | Allocations: 142)
  Rendered carts/_cart.html.erb (Duration: 3.7ms | Allocations: 1382)
  Rendered line_items/create.js.erb (Duration: 6.7ms | Allocations: 3016)
Completed 200 OK in 18ms (Views: 8.6ms | ActiveRecord: 1.8ms | Allocations: 9904)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:48:12 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"5L23FfU50Pg+A9nepulcvhoHA8jY0Hssjkc8DfuUaKUcxiZTj/Vw1B4J6wfXZ0N3HXxx4cAHc4nE11ks9wBqng==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 17], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2019-10-07 13:48:12.457474"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 17]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.2ms | Allocations: 854)
  Rendered carts/_cart.html.erb (Duration: 2.8ms | Allocations: 1899)
  Rendered line_items/create.js.erb (Duration: 4.0ms | Allocations: 3305)
Completed 200 OK in 13ms (Views: 4.3ms | ActiveRecord: 2.0ms | Allocations: 8731)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:48:12 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"5L23FfU50Pg+A9nepulcvhoHA8jY0Hssjkc8DfuUaKUcxiZTj/Vw1B4J6wfXZ0N3HXxx4cAHc4nE11ks9wBqng==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 17], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 3], ["updated_at", "2019-10-07 13:48:12.664854"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 17]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.4ms | Allocations: 922)
  Rendered carts/_cart.html.erb (Duration: 3.3ms | Allocations: 1997)
  Rendered line_items/create.js.erb (Duration: 4.6ms | Allocations: 3475)
Completed 200 OK in 14ms (Views: 4.9ms | ActiveRecord: 2.3ms | Allocations: 8868)


Started GET "/" for ::1 at 2019-10-07 16:48:14 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 8.1ms | Allocations: 4067)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 17]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.2ms | Allocations: 847)
  Rendered carts/_cart.html.erb (Duration: 5.1ms | Allocations: 1944)
Completed 200 OK in 24ms (Views: 22.3ms | ActiveRecord: 0.6ms | Allocations: 15435)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:48:16 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"0iJnMC+g0AczYrSK1Tv/OVe/54VQYxXJQyku1Wv17fAqWfZ2VWxwKxNohlOkteDwUMSVrEi0HWwJuUv0Z2Hvyw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 17], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 4], ["updated_at", "2019-10-07 13:48:16.890139"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 17]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.1ms | Allocations: 854)
  Rendered carts/_cart.html.erb (Duration: 2.7ms | Allocations: 1899)
  Rendered line_items/create.js.erb (Duration: 3.9ms | Allocations: 3305)
Completed 200 OK in 13ms (Views: 4.1ms | ActiveRecord: 2.0ms | Allocations: 8705)


Started GET "/" for ::1 at 2019-10-07 16:48:18 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 4059)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 17]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.1ms | Allocations: 847)
  Rendered carts/_cart.html.erb (Duration: 2.7ms | Allocations: 1940)
Completed 200 OK in 18ms (Views: 16.5ms | ActiveRecord: 0.4ms | Allocations: 15420)


Started GET "/" for ::1 at 2019-10-07 16:52:25 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 7.1ms | Allocations: 4390)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 17]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.5ms | Allocations: 1022)
  Rendered carts/_cart.html.erb (Duration: 3.7ms | Allocations: 2403)
Completed 200 OK in 23ms (Views: 20.5ms | ActiveRecord: 0.5ms | Allocations: 17403)


Started DELETE "/carts/17" for ::1 at 2019-10-07 16:52:30 +0300
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"sdjnmr2fhFAH0y2DOroulYor6XTnE6Dgm2nlgvnIfb5Jo3bcx1MkfCfZH1pLNDFcjVCbXf/EqEXR+YCj9Vx/hQ==", "id"=>"17"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 17]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mCart Destroy (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 17]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 7ms (ActiveRecord: 1.9ms | Allocations: 4402)


Started GET "/" for ::1 at 2019-10-07 16:52:30 +0300
Processing by StoreController#index as HTML
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2019-10-07 13:52:30.625616"], ["updated_at", "2019-10-07 13:52:30.625616"]]
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.8ms | Allocations: 4066)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 18]]
  â†³ app/views/carts/_cart.html.erb:3
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 1.8ms | Allocations: 1033)
Completed 200 OK in 20ms (Views: 15.8ms | ActiveRecord: 1.5ms | Allocations: 16327)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:52:33 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ShLJJEuDNFJBZAphIKUm1VLG+AJQ/oEf8+BTq18kycCyaVhiMU+UfmFuOLhRKzkcVb2KK0gpibq5cDaKU7DL+w==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 18], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 1], ["cart_id", 18], ["created_at", "2019-10-07 13:52:33.188971"], ["updated_at", "2019-10-07 13:52:33.188971"]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 18]]
  â†³ app/views/carts/_cart.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.6ms | Allocations: 142)
  Rendered carts/_cart.html.erb (Duration: 3.4ms | Allocations: 1375)
  Rendered line_items/create.js.erb (Duration: 5.6ms | Allocations: 3074)
Completed 200 OK in 18ms (Views: 8.2ms | ActiveRecord: 2.2ms | Allocations: 9691)


Started GET "/" for ::1 at 2019-10-07 16:52:34 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 6.0ms | Allocations: 4065)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 18]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.2ms | Allocations: 847)
  Rendered carts/_cart.html.erb (Duration: 2.9ms | Allocations: 1944)
Completed 200 OK in 18ms (Views: 16.6ms | ActiveRecord: 0.5ms | Allocations: 15428)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:52:37 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"18RbN+h8REFgAAi4NR61gp3vSP6IvVlqr5jo2e+xp40vv8pxkrDkbUAKOmFEkKpLmpQ615BqUc/lCI344yWltg==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 18], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2019-10-07 13:52:37.482678"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 18]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.3ms | Allocations: 855)
  Rendered carts/_cart.html.erb (Duration: 3.2ms | Allocations: 1900)
  Rendered line_items/create.js.erb (Duration: 4.6ms | Allocations: 3354)
Completed 200 OK in 13ms (Views: 5.0ms | ActiveRecord: 1.7ms | Allocations: 8743)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 16:52:37 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"18RbN+h8REFgAAi4NR61gp3vSP6IvVlqr5jo2e+xp40vv8pxkrDkbUAKOmFEkKpLmpQ615BqUc/lCI344yWltg==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 18], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 3], ["updated_at", "2019-10-07 13:52:37.868831"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 18]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.2ms | Allocations: 855)
  Rendered carts/_cart.html.erb (Duration: 2.8ms | Allocations: 1900)
  Rendered line_items/create.js.erb (Duration: 4.0ms | Allocations: 3354)
Completed 200 OK in 14ms (Views: 4.2ms | ActiveRecord: 1.9ms | Allocations: 8743)


Started POST "/line_items?product_id=2" for ::1 at 2019-10-07 16:52:39 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"18RbN+h8REFgAAi4NR61gp3vSP6IvVlqr5jo2e+xp40vv8pxkrDkbUAKOmFEkKpLmpQ615BqUc/lCI344yWltg==", "product_id"=>"2"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 18], ["product_id", 2], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 2], ["cart_id", 18], ["created_at", "2019-10-07 13:52:39.135027"], ["updated_at", "2019-10-07 13:52:39.135027"]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 18]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 1.5ms | Allocations: 992)
  Rendered carts/_cart.html.erb (Duration: 3.3ms | Allocations: 2123)
  Rendered line_items/create.js.erb (Duration: 4.8ms | Allocations: 3817)
Completed 200 OK in 14ms (Views: 5.1ms | ActiveRecord: 2.1ms | Allocations: 9260)


Started GET "/" for ::1 at 2019-10-07 16:52:40 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.3ms | Allocations: 4059)
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 18]]
  â†³ app/views/carts/_cart.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.4ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 4.7ms | Allocations: 2805)
Completed 200 OK in 20ms (Views: 18.1ms | ActiveRecord: 0.6ms | Allocations: 16283)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 17:01:21 +0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"Wu83VNnWWP7dnh6zMwur9YnvIZaWBsaAzzZNQ/M3hgyilKYSoxr40v2ULGpChbQ8jpRTv47RziWFpihi/6OENw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 18], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 4], ["updated_at", "2019-10-07 14:01:21.336947"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 18], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 18]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.8ms | Allocations: 1877)
  Rendered carts/_cart.html.erb (Duration: 6.8ms | Allocations: 4032)
  Rendered line_items/create.js.erb (Duration: 9.0ms | Allocations: 6122)
Completed 200 OK in 20ms (Views: 10.6ms | ActiveRecord: 2.4ms | Allocations: 12776)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 17:01:37 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"Wu83VNnWWP7dnh6zMwur9YnvIZaWBsaAzzZNQ/M3hgyilKYSoxr40v2ULGpChbQ8jpRTv47RziWFpihi/6OENw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 18], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 5], ["updated_at", "2019-10-07 14:01:37.738870"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 18], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 18]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.4ms | Allocations: 1705)
  Rendered carts/_cart.html.erb (Duration: 4.9ms | Allocations: 3428)
  Rendered line_items/create.js.erb (Duration: 6.3ms | Allocations: 5242)
Completed 200 OK in 15ms (Views: 6.4ms | ActiveRecord: 1.9ms | Allocations: 10636)


Started GET "/" for ::1 at 2019-10-07 17:03:09 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 6.4ms | Allocations: 4426)
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 18], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 18]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.3ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 5.7ms | Allocations: 3575)
Completed 200 OK in 24ms (Views: 21.3ms | ActiveRecord: 0.8ms | Allocations: 18577)


Started GET "/" for ::1 at 2019-10-07 17:04:48 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 6.0ms | Allocations: 4387)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 18], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 18]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.6ms | Allocations: 1861)
  Rendered carts/_cart.html.erb (Duration: 6.2ms | Allocations: 3935)
Completed 200 OK in 24ms (Views: 21.6ms | ActiveRecord: 0.6ms | Allocations: 18929)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 17:04:50 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"H2baHxTa4JYoOy4OdsF6ub5yg5LvT+emRl/akHwZpC3nHUtZbhZAuggxHNcHT2VwuQnxu/eY7wMMz7+xcI2mFg==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 18], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 6], ["updated_at", "2019-10-07 14:04:50.672572"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 18], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 18]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 3.4ms | Allocations: 1705)
  Rendered carts/_cart.html.erb (Duration: 7.4ms | Allocations: 3552)
  Rendered line_items/create.js.erb (Duration: 9.7ms | Allocations: 5616)
Completed 200 OK in 22ms (Views: 12.3ms | ActiveRecord: 2.5ms | Allocations: 12175)


Started GET "/" for ::1 at 2019-10-07 17:04:52 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 4065)
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 18], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 18]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.1ms | Allocations: 1689)
  Rendered carts/_cart.html.erb (Duration: 5.0ms | Allocations: 3456)
Completed 200 OK in 20ms (Views: 18.3ms | ActiveRecord: 0.6ms | Allocations: 16944)


Started GET "/" for ::1 at 2019-10-07 17:05:11 +0300
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 959.1ms | Allocations: 1354996)
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 18], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 18]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 3.5ms | Allocations: 2620)
  Rendered carts/_cart.html.erb (Duration: 19.0ms | Allocations: 12667)
Completed 200 OK in 1011ms (Views: 992.8ms | ActiveRecord: 2.6ms | Allocations: 1385362)


Started DELETE "/carts/18" for ::1 at 2019-10-07 17:05:17 +0300
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"oq1PANSKzGXuxZY5CioJVvysNi/2BPDubROB/zBcqsNa1t5GrkZsSc7PpOB7pBaf+9dEBu7T+Esng+TePMio+A==", "id"=>"18"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 18]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 2]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mCart Destroy (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 18]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 10ms (ActiveRecord: 2.5ms | Allocations: 5464)


Started GET "/" for ::1 at 2019-10-07 17:05:17 +0300
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2019-10-07 14:05:17.297434"], ["updated_at", "2019-10-07 14:05:17.297434"]]
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 6.6ms | Allocations: 4066)
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 19], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  Rendered carts/_cart.html.erb (Duration: 1.2ms | Allocations: 723)
Completed 200 OK in 21ms (Views: 15.9ms | ActiveRecord: 1.7ms | Allocations: 16242)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 17:05:19 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"l7G3kld/uVMSKA7aTKkLYQOjE+hycEDt2xdnzxKnwqZvyibULbMZfzIiPAM9JxSoBNhhwWqnSEiRhwLuHjPAnQ==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 19], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 1], ["cart_id", 19], ["created_at", "2019-10-07 14:05:19.542720"], ["updated_at", "2019-10-07 14:05:19.542720"]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 19]]
  â†³ app/views/carts/_cart.html.erb:5
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.3ms | Allocations: 142)
  Rendered carts/_cart.html.erb (Duration: 2.6ms | Allocations: 1382)
  Rendered line_items/create.js.erb (Duration: 4.5ms | Allocations: 3216)
Completed 200 OK in 16ms (Views: 6.6ms | ActiveRecord: 2.1ms | Allocations: 10105)


Started GET "/" for ::1 at 2019-10-07 17:05:21 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 4065)
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 19], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 19]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.2ms | Allocations: 847)
  Rendered carts/_cart.html.erb (Duration: 3.9ms | Allocations: 2591)
Completed 200 OK in 20ms (Views: 17.6ms | ActiveRecord: 0.6ms | Allocations: 16081)


Started GET "/" for ::1 at 2019-10-07 17:06:38 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 6.0ms | Allocations: 4387)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 19], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 19], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 19]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 25.8ms | Allocations: 1021)
  Rendered carts/_cart.html.erb (Duration: 28.7ms | Allocations: 2941)
Completed 200 OK in 49ms (Views: 46.6ms | ActiveRecord: 0.7ms | Allocations: 18686)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 17:06:41 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"UPsqDvnoM/7YuIoPyPv3cdqfiUuEULYct7dI8RYqZ96ogLtIgyST0viyuNa5dei43eT7YpyHvrn9Jy3QGr5l5Q==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 19], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2019-10-07 14:06:41.165772"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 19], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 19]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.3ms | Allocations: 855)
  Rendered carts/_cart.html.erb (Duration: 4.3ms | Allocations: 2681)
  Rendered line_items/create.js.erb (Duration: 6.4ms | Allocations: 4508)
Completed 200 OK in 17ms (Views: 8.2ms | ActiveRecord: 2.1ms | Allocations: 11125)


Started GET "/" for ::1 at 2019-10-07 17:06:42 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 6.0ms | Allocations: 4066)
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 19], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 19], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 19]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.2ms | Allocations: 847)
  Rendered carts/_cart.html.erb (Duration: 3.3ms | Allocations: 2460)
Completed 200 OK in 20ms (Views: 18.2ms | ActiveRecord: 0.6ms | Allocations: 16650)


Started DELETE "/carts/19" for ::1 at 2019-10-07 17:06:46 +0300
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"OFb6qpQEmEuVDo4hzjFrTWBWmfK9fRtENy9LNoVDemvALWvs7sg4Z7UEvPi/v3SEZy3r26WqE+F9vy4Xidd4UA==", "id"=>"19"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 19]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mCart Destroy (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 19]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 7ms (ActiveRecord: 1.8ms | Allocations: 4403)


Started GET "/" for ::1 at 2019-10-07 17:06:46 +0300
Processing by StoreController#index as HTML
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2019-10-07 14:06:46.326176"], ["updated_at", "2019-10-07 14:06:46.326176"]]
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.9ms | Allocations: 4064)
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 20], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 20], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  Rendered carts/_cart.html.erb (Duration: 0.7ms | Allocations: 593)
Completed 200 OK in 20ms (Views: 16.1ms | ActiveRecord: 1.5ms | Allocations: 16578)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 17:06:50 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"HduH8MzwywrfA2tfrK/VL0XH2AEnWEoEhbhWS91yZu/loBa2tjxrJv8JWYbdIcrmQryqKD+PQqHPKDNq0eZk1A==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 20], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 1], ["cart_id", 20], ["created_at", "2019-10-07 14:06:50.936687"], ["updated_at", "2019-10-07 14:06:50.936687"]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 20]]
  â†³ app/views/carts/_cart.html.erb:5
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.3ms | Allocations: 142)
  Rendered carts/_cart.html.erb (Duration: 1.9ms | Allocations: 1250)
  Rendered line_items/create.js.erb (Duration: 3.2ms | Allocations: 2824)
Completed 200 OK in 12ms (Views: 3.6ms | ActiveRecord: 2.0ms | Allocations: 8264)


Started GET "/" for ::1 at 2019-10-07 17:06:55 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 4059)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 20], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 20], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 20]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.2ms | Allocations: 847)
  Rendered carts/_cart.html.erb (Duration: 3.3ms | Allocations: 2456)
Completed 200 OK in 20ms (Views: 18.1ms | ActiveRecord: 0.6ms | Allocations: 16638)


Started GET "/" for ::1 at 2019-10-07 17:14:09 +0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 11.0ms | Allocations: 8187)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 20], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 20], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 20]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.1ms | Allocations: 1789)
  Rendered carts/_cart.html.erb (Duration: 9.2ms | Allocations: 7796)
Completed 200 OK in 41ms (Views: 33.0ms | ActiveRecord: 0.9ms | Allocations: 32530)


Started DELETE "/carts/20" for ::1 at 2019-10-07 17:14:13 +0300
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"o/WPTpJl3DM4qrdiV4Bt7QL2IVuMjhg2jh5uGFNjOmVbjh4I6Kl8HxighbsmDnIkBY1TcpRZEJPEjgs5X/c4Xg==", "id"=>"20"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:71:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 20]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mCart Destroy (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 20]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 7ms (ActiveRecord: 1.9ms | Allocations: 4483)


Started GET "/" for ::1 at 2019-10-07 17:14:13 +0300
Processing by StoreController#index as HTML
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2019-10-07 14:14:13.203594"], ["updated_at", "2019-10-07 14:14:13.203594"]]
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 7.6ms | Allocations: 4066)
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 21], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 21], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  Rendered carts/_cart.html.erb (Duration: 0.7ms | Allocations: 599)
Completed 200 OK in 24ms (Views: 19.0ms | ActiveRecord: 1.8ms | Allocations: 16695)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 17:14:15 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"3djgSJvMNEXwaUNUojtOqL2oGBh4pvekVCMFgjuLymYlo3EO4QCUadBjcY3TtVFhutNqMWBx/wEes2CjNx/IXQ==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 21], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 1], ["cart_id", 21], ["created_at", "2019-10-07 14:14:15.590136"], ["updated_at", "2019-10-07 14:14:15.590136"]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 21]]
  â†³ app/views/carts/_cart.html.erb:5
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.3ms | Allocations: 142)
  Rendered carts/_cart.html.erb (Duration: 2.6ms | Allocations: 1376)
  Rendered line_items/create.js.erb (Duration: 4.4ms | Allocations: 3199)
Completed 200 OK in 16ms (Views: 6.5ms | ActiveRecord: 2.1ms | Allocations: 10059)


Started GET "/" for ::1 at 2019-10-07 17:14:17 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 4065)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 21], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 21], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 21]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.2ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.5ms | Allocations: 2478)
Completed 200 OK in 45ms (Views: 43.3ms | ActiveRecord: 0.6ms | Allocations: 16690)


Started GET "/" for ::1 at 2019-10-07 17:15:54 +0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 10.0ms | Allocations: 8000)
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 21], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 21], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 21]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.9ms | Allocations: 1617)
  Rendered carts/_cart.html.erb (Duration: 9.1ms | Allocations: 7440)
Completed 200 OK in 39ms (Views: 29.8ms | ActiveRecord: 2.1ms | Allocations: 31602)


Started DELETE "/carts/21" for ::1 at 2019-10-07 17:15:57 +0300
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"dymaNdfJ/gmT7FxWiDo62vyP4F7Z5ZBUiw510wFXlUWPUgtzrQVeJbPmbo/5tCUT+/SSd8EymPHBnhDyDcOXfg==", "id"=>"21"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:72:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 21]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mCart Destroy (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 21]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 7ms (ActiveRecord: 1.4ms | Allocations: 4471)


Started GET "/" for ::1 at 2019-10-07 17:15:57 +0300
Processing by StoreController#index as HTML
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2019-10-07 14:15:57.967551"], ["updated_at", "2019-10-07 14:15:57.967551"]]
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 4059)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 22], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 22], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  Rendered carts/_cart.html.erb (Duration: 0.7ms | Allocations: 599)
Completed 200 OK in 21ms (Views: 16.0ms | ActiveRecord: 1.5ms | Allocations: 16668)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 17:16:00 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"jgdxl32PCj+opFXPlyxbJaKDGY7QtTi9AUO6ZWtgaJV2fODRB0OqE4iuZxbmokTspfhrp8hiMBhL099EZ/Rqrg==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 22], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 1], ["cart_id", 22], ["created_at", "2019-10-07 14:16:00.578173"], ["updated_at", "2019-10-07 14:16:00.578173"]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 22]]
  â†³ app/views/carts/_cart.html.erb:5
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.3ms | Allocations: 142)
  Rendered carts/_cart.html.erb (Duration: 2.0ms | Allocations: 1259)
  Rendered line_items/create.js.erb (Duration: 3.2ms | Allocations: 2833)
Completed 200 OK in 14ms (Views: 3.7ms | ActiveRecord: 2.2ms | Allocations: 8679)


Started GET "/" for ::1 at 2019-10-07 17:16:03 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 11.9ms | Allocations: 4059)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 22], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 22], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 22]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.4ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.7ms | Allocations: 2474)
Completed 200 OK in 33ms (Views: 30.9ms | ActiveRecord: 0.8ms | Allocations: 16669)


Started DELETE "/carts/22" for ::1 at 2019-10-07 17:16:07 +0300
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"09PTWG6euBFtZCTqVZOZwjLFt0ipARhyqbQcBZg9EakrqEIeFFIYPU1uFjMkHYYLNb7FYbHWENfjJHkklKkTkg==", "id"=>"22"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:72:in `set_cart'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 22]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mCart Destroy (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 22]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 7ms (ActiveRecord: 1.8ms | Allocations: 4382)


Started GET "/" for ::1 at 2019-10-07 17:16:07 +0300
Processing by StoreController#index as HTML
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2019-10-07 14:16:07.100252"], ["updated_at", "2019-10-07 14:16:07.100252"]]
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 7.3ms | Allocations: 4059)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 23], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 23], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  Rendered carts/_cart.html.erb (Duration: 0.7ms | Allocations: 599)
Completed 200 OK in 23ms (Views: 18.3ms | ActiveRecord: 1.8ms | Allocations: 16590)


Started GET "/" for ::1 at 2019-10-07 17:33:35 +0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 23], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 10.0ms | Allocations: 7874)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 23], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 23], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  Rendered carts/_cart.html.erb (Duration: 0.8ms | Allocations: 600)
Completed 200 OK in 55ms (Views: 48.3ms | ActiveRecord: 0.6ms | Allocations: 23936)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 17:33:38 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"0yj99duMTrmWwaZ8cnNS18Bcaz26q9XJVPeCdBcSl/QrU2yzoUDulbbLlKUD/U0exycZFKJ83WweZ+dVG4aVzw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 23], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 23], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 1], ["cart_id", 23], ["created_at", "2019-10-07 14:33:38.323362"], ["updated_at", "2019-10-07 14:33:38.323362"]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 15ms (ActiveRecord: 1.8ms | Allocations: 9954)


Started GET "/" for ::1 at 2019-10-07 17:33:38 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 23], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 4059)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 23], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 23], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 23]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.1ms | Allocations: 854)
  Rendered carts/_cart.html.erb (Duration: 3.9ms | Allocations: 2721)
Completed 200 OK in 20ms (Views: 17.8ms | ActiveRecord: 0.7ms | Allocations: 16925)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 17:33:39 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"+CtNsjb7Pt91qNOhR53sfwS6uZMf0t1VyL76p5raJAGXe0/C8NBtELURxXI6FzIUaEgr/ACYVGHx3nUOKpilOQ==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 23], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 23], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.4ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2019-10-07 14:33:39.810410"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.5ms | Allocations: 5332)


Started GET "/" for ::1 at 2019-10-07 17:33:39 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 23], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 6.2ms | Allocations: 4059)
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 23], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 23], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 23]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.2ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.5ms | Allocations: 2474)
Completed 200 OK in 20ms (Views: 18.5ms | ActiveRecord: 0.6ms | Allocations: 16669)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 17:33:40 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"0PT/6bbTafgSPa/n19N4iPl/DMrE1YIR9Q4obZlyoXu/pP2ZcPg6N9KEuTSqWabjlY2epdufCyXMbqfEKTAgQw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 23], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 23], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 3], ["updated_at", "2019-10-07 14:33:40.707277"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 8ms (ActiveRecord: 1.6ms | Allocations: 5329)


Started GET "/" for ::1 at 2019-10-07 17:33:40 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 23], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 4059)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 23], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 23], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 23]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.2ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.4ms | Allocations: 2474)
Completed 200 OK in 19ms (Views: 17.5ms | ActiveRecord: 0.6ms | Allocations: 16674)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 17:33:41 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"YOjbvkBrv0iQ7CTKk4OthpM+Tta5YTMDiuUg6/B5ckUPuNnOhkDsh1BVMhnuCXPt/8zcuaYrujezha9CQDvzfQ==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 23], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 23], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 4], ["updated_at", "2019-10-07 14:33:41.091283"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.1ms | Allocations: 5334)


Started GET "/" for ::1 at 2019-10-07 17:33:41 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 23], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 4059)
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 23], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 23], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 23]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.1ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.2ms | Allocations: 2474)
Completed 200 OK in 19ms (Views: 17.4ms | ActiveRecord: 0.6ms | Allocations: 16673)


Started DELETE "/carts/23" for ::1 at 2019-10-07 17:34:02 +0300
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"TDsLVUZ3DhpTte+JEihUcP1Wr4a42hLhJcOO/NluLrwJGvoZLjFtiJ9UVRtOmzj8b906Df8MibLoyROEC6whTA==", "id"=>"23"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 23], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:72:in `set_cart'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 23]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mCart Destroy (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 23]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 7ms (ActiveRecord: 1.5ms | Allocations: 4485)


Started GET "/" for ::1 at 2019-10-07 17:34:02 +0300
Processing by StoreController#index as HTML
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2019-10-07 14:34:02.076514"], ["updated_at", "2019-10-07 14:34:02.076514"]]
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.9ms | Allocations: 4059)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 24], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 24], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  Rendered carts/_cart.html.erb (Duration: 0.7ms | Allocations: 599)
Completed 200 OK in 20ms (Views: 15.5ms | ActiveRecord: 1.6ms | Allocations: 16669)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 17:34:04 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"wPiWPE8A6gitsytu1PdpvQE1xT5GZBGfYa7ocU1bj2o4gwd6NcxKJI25GbeleXZ0Bk63F16zGTorPo1QQc+NUQ==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 24], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 24], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 1], ["cart_id", 24], ["created_at", "2019-10-07 14:34:04.075833"], ["updated_at", "2019-10-07 14:34:04.075833"]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.3ms | Allocations: 5358)


Started GET "/" for ::1 at 2019-10-07 17:34:04 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 24], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.6ms | Allocations: 4059)
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 24], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 24], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 24]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.2ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.4ms | Allocations: 2474)
Completed 200 OK in 20ms (Views: 17.7ms | ActiveRecord: 0.6ms | Allocations: 16665)


Started DELETE "/carts/24" for ::1 at 2019-10-07 17:34:11 +0300
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"9py1hNwn6mmOcs9O41XCyxsdXuIyaKlzOihQnGB7ejD94IqjFkkQwkIpQKmr6HfhDfCqvMJTuOUJ5Eiv+vgysA==", "id"=>"24"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 24], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:72:in `set_cart'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 24]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mCart Destroy (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 24]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 7ms (ActiveRecord: 1.4ms | Allocations: 4416)


Started GET "/" for ::1 at 2019-10-07 17:34:11 +0300
Processing by StoreController#index as HTML
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2019-10-07 14:34:11.191310"], ["updated_at", "2019-10-07 14:34:11.191310"]]
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 30.1ms | Allocations: 4061)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 25], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 25], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  Rendered carts/_cart.html.erb (Duration: 0.7ms | Allocations: 599)
Completed 200 OK in 45ms (Views: 40.8ms | ActiveRecord: 1.4ms | Allocations: 16588)


Started GET "/" for ::1 at 2019-10-07 17:41:11 +0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.7ms | Allocations: 4105)
[Webpacker] Compilingâ€¦
[Webpacker] Compilation failed:
Invalid configuration object. Webpack has been initialised using a configuration object that does not match the API schema.
 - configuration.entry should be an non-empty object.
   -> Multiple entry bundles are created. The key is the chunk name. The value can be a string or an array.

  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 25], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 25], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  Rendered carts/_cart.html.erb (Duration: 0.8ms | Allocations: 599)
Completed 200 OK in 2078ms (Views: 2075.6ms | ActiveRecord: 0.6ms | Allocations: 15063)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 17:41:16 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ccnn+bItRk0RoJ6TeVx409YqPQNxqtD3B+A+udeFufaJsna/yOHmYTGqrEoI0mca0VFPKml92FJNcFuY2xG7zQ==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 25], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 1], ["cart_id", 25], ["created_at", "2019-10-07 14:41:16.137065"], ["updated_at", "2019-10-07 14:41:16.137065"]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 11ms (ActiveRecord: 2.2ms | Allocations: 5407)


Started GET "/" for ::1 at 2019-10-07 17:41:16 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 6.9ms | Allocations: 4059)
[Webpacker] Compilingâ€¦
[Webpacker] Compilation failed:
Invalid configuration object. Webpack has been initialised using a configuration object that does not match the API schema.
 - configuration.entry should be an non-empty object.
   -> Multiple entry bundles are created. The key is the chunk name. The value can be a string or an array.

  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 25], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 25], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 25]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.4ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 4.3ms | Allocations: 2491)
Completed 200 OK in 1329ms (Views: 1327.2ms | ActiveRecord: 0.8ms | Allocations: 20039)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 17:41:20 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"X91897qRZs3rJgq+rrFMbtb3HESUsIXwz6jOB/Nf2yQwjX6HfLo1AiufHG3TO5IFugWOK4v6DMT2yEGuQx1aHA==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 25], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2019-10-07 14:41:20.491850"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.0ms | Allocations: 5330)


Started GET "/" for ::1 at 2019-10-07 17:41:20 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 6.2ms | Allocations: 4059)
[Webpacker] Compilingâ€¦
[Webpacker] Compilation failed:
Invalid configuration object. Webpack has been initialised using a configuration object that does not match the API schema.
 - configuration.entry should be an non-empty object.
   -> Multiple entry bundles are created. The key is the chunk name. The value can be a string or an array.

  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 25], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 25], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 25]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.7ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 4.9ms | Allocations: 2474)
Completed 200 OK in 1307ms (Views: 1304.7ms | ActiveRecord: 0.8ms | Allocations: 20014)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 17:41:25 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"bRH+0qjoE1WhA+MQmSfOkLgzRJVlTExBeq9QKi8oVOwCQfyibsNAmmG69cPkrRD71MHW+noGxXVDz9+Dn2rV1A==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 25], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 3], ["updated_at", "2019-10-07 14:41:25.271702"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 10ms (ActiveRecord: 1.9ms | Allocations: 5331)


Started GET "/" for ::1 at 2019-10-07 17:41:25 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.7ms | Allocations: 4059)
[Webpacker] Compilingâ€¦
[Webpacker] Compilation failed:
Invalid configuration object. Webpack has been initialised using a configuration object that does not match the API schema.
 - configuration.entry should be an non-empty object.
   -> Multiple entry bundles are created. The key is the chunk name. The value can be a string or an array.

  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 25], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 25], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 25]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.4ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.9ms | Allocations: 2474)
Completed 200 OK in 1341ms (Views: 1339.2ms | ActiveRecord: 0.8ms | Allocations: 20016)


Started GET "/" for ::1 at 2019-10-07 17:41:28 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 6.5ms | Allocations: 4059)
[Webpacker] Compilingâ€¦
[Webpacker] Compilation failed:
Invalid configuration object. Webpack has been initialised using a configuration object that does not match the API schema.
 - configuration.entry should be an non-empty object.
   -> Multiple entry bundles are created. The key is the chunk name. The value can be a string or an array.

  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 25], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 25], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 25]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.3ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.7ms | Allocations: 2474)
Completed 200 OK in 1296ms (Views: 1294.0ms | ActiveRecord: 0.7ms | Allocations: 16837)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 17:41:32 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"Bo4U3Hw8Hmx/OpYxKgJBxaObWx90GyxveZ5t+Uh3X6H+9YWaBvC+QF8wpOhbjF4MpOApNmzMJMozDgjYRONdmg==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 25], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 4], ["updated_at", "2019-10-07 14:41:32.421491"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 1.9ms | Allocations: 5321)


Started GET "/" for ::1 at 2019-10-07 17:41:32 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.5ms | Allocations: 4059)
[Webpacker] Compilingâ€¦
[Webpacker] Compilation failed:
Invalid configuration object. Webpack has been initialised using a configuration object that does not match the API schema.
 - configuration.entry should be an non-empty object.
   -> Multiple entry bundles are created. The key is the chunk name. The value can be a string or an array.

  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 25], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 25], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 25]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.3ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 4.2ms | Allocations: 2474)
Completed 200 OK in 1325ms (Views: 1322.9ms | ActiveRecord: 0.8ms | Allocations: 20016)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 17:41:37 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"Kg+NLEl9UyQud8/AJ8+svQ2NBiSWo627hYhUzE9G5pFFX49cj1YA6+7O2RNaRXLWYX+US4npJI+86Ntl/wRnqQ==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 25], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 5], ["updated_at", "2019-10-07 14:41:37.323058"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 10ms (ActiveRecord: 2.0ms | Allocations: 5332)


Started GET "/" for ::1 at 2019-10-07 17:41:37 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.7ms | Allocations: 4059)
[Webpacker] Compilingâ€¦
[Webpacker] Compilation failed:
Invalid configuration object. Webpack has been initialised using a configuration object that does not match the API schema.
 - configuration.entry should be an non-empty object.
   -> Multiple entry bundles are created. The key is the chunk name. The value can be a string or an array.

  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 25], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 25], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 25]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.4ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 4.0ms | Allocations: 2474)
Completed 200 OK in 1344ms (Views: 1341.7ms | ActiveRecord: 0.8ms | Allocations: 20015)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 17:41:42 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"8VvPTRY2hT5nrul8ezQD4c5XmVjB/Hn4OOoZOZogmGaeC8090B3W8acX/68Gvt2KoqULN9628MwBipaQKmIZXg==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 25], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 6], ["updated_at", "2019-10-07 14:41:42.114860"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 10ms (ActiveRecord: 2.1ms | Allocations: 5354)


Started GET "/" for ::1 at 2019-10-07 17:41:42 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.3ms | Allocations: 4060)
[Webpacker] Compilingâ€¦
[Webpacker] Compilation failed:
Invalid configuration object. Webpack has been initialised using a configuration object that does not match the API schema.
 - configuration.entry should be an non-empty object.
   -> Multiple entry bundles are created. The key is the chunk name. The value can be a string or an array.

  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 25], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 25], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 25]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.5ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 4.1ms | Allocations: 2474)
Completed 200 OK in 1310ms (Views: 1307.5ms | ActiveRecord: 0.8ms | Allocations: 20019)


Started GET "/" for ::1 at 2019-10-07 17:45:30 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 7.7ms | Allocations: 4065)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 25], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 25], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 25]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.3ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.6ms | Allocations: 2474)
Completed 200 OK in 36ms (Views: 33.7ms | ActiveRecord: 0.7ms | Allocations: 16695)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 17:45:33 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"Umvz9oO3cjRRdu2CMJ2TziaMJpJMvdM5qC2flqlUM02qEGKw+XvSGHF831tBE4wHIfdUu1Rq25zivfq3pcAxdg==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 25], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 7], ["updated_at", "2019-10-07 14:45:33.114989"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 10ms (ActiveRecord: 2.2ms | Allocations: 5313)


Started GET "/" for ::1 at 2019-10-07 17:45:33 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 6.0ms | Allocations: 4059)
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 25], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 25], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 25]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.4ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.7ms | Allocations: 2474)
Completed 200 OK in 22ms (Views: 19.6ms | ActiveRecord: 0.7ms | Allocations: 16673)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 17:45:33 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"GPEPcDgF2290PTupA1qgNjT1yBNm3c/jy4z9gzEIlDN3oQ0A/i6IoLSELXp+0H5dWAdafHmXRtfy7HIqgUoVCw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 25], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 8], ["updated_at", "2019-10-07 14:45:33.991927"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.0ms | Allocations: 5336)


Started GET "/" for ::1 at 2019-10-07 17:45:34 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 6.4ms | Allocations: 4059)
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 25], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 25], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 25]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.2ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.4ms | Allocations: 2474)
Completed 200 OK in 21ms (Views: 19.0ms | ActiveRecord: 0.7ms | Allocations: 16680)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 17:45:34 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"F46PJdrH2h3yiGm7/wv1KW3fDXa9FCUXS75MoA1BDrt43o1VHOyJ0jIxf2iCgStCAS2fGaJerCNy3sMJvQOPgw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 25], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 9], ["updated_at", "2019-10-07 14:45:34.455545"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.1ms | Allocations: 5338)


Started GET "/" for ::1 at 2019-10-07 17:45:34 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 6.5ms | Allocations: 4059)
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 25], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 25], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 25]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.2ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.4ms | Allocations: 2474)
Completed 200 OK in 22ms (Views: 19.3ms | ActiveRecord: 0.8ms | Allocations: 16672)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 17:45:34 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"QQnLRdohok9IfFTndkMxkJBvnOzvQH2DWrw+SToO2V4uWck1HArxgIjFQjQLye/7/J0Og/AK9Ldj3LHgikxYZg==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 25], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 10], ["updated_at", "2019-10-07 14:45:34.729226"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 1.9ms | Allocations: 5334)


Started GET "/" for ::1 at 2019-10-07 17:45:34 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 8.1ms | Allocations: 6669)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 25], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 25], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 25]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.2ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.4ms | Allocations: 2474)
Completed 200 OK in 24ms (Views: 21.4ms | ActiveRecord: 0.7ms | Allocations: 19687)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 17:45:34 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"A0DjxNTHaQJ7IsSLhlzbIq/2XUozlUUaEua2fnx5dJ1sEOG0Euw6zbub0lj71gVJwwTPJSzfzC4rhjnXzDv1pQ==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 25], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 11], ["updated_at", "2019-10-07 14:45:34.887431"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (26.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 37ms (ActiveRecord: 27.5ms | Allocations: 6014)


Started GET "/" for ::1 at 2019-10-07 17:45:34 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.8ms | Allocations: 4059)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 25], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 25], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 25]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.2ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.4ms | Allocations: 2474)
Completed 200 OK in 21ms (Views: 18.6ms | ActiveRecord: 0.8ms | Allocations: 16673)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 17:45:35 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"SYelNORFcX4ppTdkpwXJdwxu2kZcO2SF+tRcJ/1k118m16dEIm4isekcIbfajxccYJxIKUNx7bHDtNOOTSZWZw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 25], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 12], ["updated_at", "2019-10-07 14:45:35.073385"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 35ms (ActiveRecord: 2.3ms | Allocations: 5346)


Started GET "/" for ::1 at 2019-10-07 17:45:35 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 7.0ms | Allocations: 5779)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 25], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 25], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 25]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.2ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.3ms | Allocations: 2474)
Completed 200 OK in 23ms (Views: 20.7ms | ActiveRecord: 0.6ms | Allocations: 19690)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 17:45:35 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"Uf44v6DTqGZbA7LGlTYhbrGC7ogcM76AyQ4eL37xiIg+rjrPZvj7qZu6pBXovP8F3XB85wN5N7TwbpGGzrMJsA==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 25], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 13], ["updated_at", "2019-10-07 14:45:35.207534"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.0ms | Allocations: 5333)


Started GET "/" for ::1 at 2019-10-07 17:45:35 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 8.4ms | Allocations: 7039)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 25], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 25], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 25]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.4ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.5ms | Allocations: 2474)
Completed 200 OK in 23ms (Views: 21.1ms | ActiveRecord: 0.7ms | Allocations: 19687)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 17:45:35 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"S6MoYF3kOuT6LbANwNAOhT/wm9B3ERGVxOVFmXChabgk8yoQm89pKzqUpt69WtDuUwIJv2hbmKH9hcowwOPogA==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 25], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 14], ["updated_at", "2019-10-07 14:45:35.366747"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.2ms | Allocations: 5337)


Started GET "/" for ::1 at 2019-10-07 17:45:35 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 8.5ms | Allocations: 7074)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 25], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 25], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 25]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.1ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.3ms | Allocations: 2474)
Completed 200 OK in 23ms (Views: 20.8ms | ActiveRecord: 0.6ms | Allocations: 19690)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 17:45:35 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"08j5lImglBoDvm5KycE8ljiIOUYL27snPNqND8/74iW8mPvkT4vH1cMHeJm0S+L9VHqrKRSRMhMFugKmf7ljHQ==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 25], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 15], ["updated_at", "2019-10-07 14:45:35.511013"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 8ms (ActiveRecord: 1.3ms | Allocations: 5335)


Started GET "/" for ::1 at 2019-10-07 17:45:35 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 7.5ms | Allocations: 7051)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 25], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 25], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 25]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.1ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.2ms | Allocations: 2474)
Completed 200 OK in 22ms (Views: 19.8ms | ActiveRecord: 0.6ms | Allocations: 19686)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 17:45:35 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"qy3nFpQVCOQDcwRwVlRwoi6L832eACPm26jLqxZPy17EfeVmUj5bK8PKEqMr3q7JQnlhEoFKqtLiyEQCpg1KZg==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 25], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 16], ["updated_at", "2019-10-07 14:45:35.654618"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.1ms | Allocations: 5336)


Started GET "/" for ::1 at 2019-10-07 17:45:35 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 7.4ms | Allocations: 6140)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 25], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 25], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 25]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.2ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.3ms | Allocations: 2474)
Completed 200 OK in 22ms (Views: 19.8ms | ActiveRecord: 0.6ms | Allocations: 19691)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 17:45:35 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"3pWgTzpq6iIRwTx5sPL1JTyUiDNCy1l6/vUw8bqa+wmxxaI//EG57dF4KqrNeCtOUGYaXF2B0E7Hlb9YCth6MQ==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 25], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 17], ["updated_at", "2019-10-07 14:45:35.815384"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.2ms | Allocations: 5334)


Started GET "/" for ::1 at 2019-10-07 17:45:35 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 6.6ms | Allocations: 5607)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 25], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 25], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 25]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.1ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.1ms | Allocations: 2474)
Completed 200 OK in 21ms (Views: 19.0ms | ActiveRecord: 0.6ms | Allocations: 18753)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 17:45:35 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"hmtRdEMNYUcmMbyH0AupqY12JIyN58w9gKHNKBNt+MDpO1MEhSYyiOaIqlStgXfC4YS245KtRQm5wUKBoy95+A==", "product_id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 25], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 18], ["updated_at", "2019-10-07 14:45:35.970514"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 10ms (ActiveRecord: 1.7ms | Allocations: 5334)


Started GET "/" for ::1 at 2019-10-07 17:45:35 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 7.4ms | Allocations: 6609)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 25], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 25], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 25]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.1ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.3ms | Allocations: 2474)
Completed 200 OK in 22ms (Views: 20.0ms | ActiveRecord: 0.6ms | Allocations: 19688)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 17:45:36 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"1cnWJFXp//HeMq2d3nsWNyerwTiF1cyqmknMV+m42LO6mdRUk8KsPh6Lu06j8chcS1lTV5qfRZ6jKUP+WfpZiw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 25], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 19], ["updated_at", "2019-10-07 14:45:36.283129"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 8ms (ActiveRecord: 1.4ms | Allocations: 5347)


Started GET "/" for ::1 at 2019-10-07 17:45:36 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 7.7ms | Allocations: 7075)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 25], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 25], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 25]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.1ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.2ms | Allocations: 2474)
Completed 200 OK in 22ms (Views: 20.0ms | ActiveRecord: 0.6ms | Allocations: 19692)


Started DELETE "/carts/25" for ::1 at 2019-10-07 17:45:38 +0300
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"vQbqd+N6DNRfRin758pCSj/zMYYWtVoBMJJGy+Pz0d0+wS7S2t1TvBPHZutxhXJLX8DO3O6cnLBCTgX/U7d+kg==", "id"=>"25"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:72:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 25]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mCart Destroy (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 25]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 8ms (ActiveRecord: 2.0ms | Allocations: 4413)


Started GET "/" for ::1 at 2019-10-07 17:45:38 +0300
Processing by StoreController#index as HTML
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2019-10-07 14:45:38.644479"], ["updated_at", "2019-10-07 14:45:38.644479"]]
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 7.6ms | Allocations: 4059)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 26], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 26], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  Rendered carts/_cart.html.erb (Duration: 0.7ms | Allocations: 599)
Completed 200 OK in 24ms (Views: 19.2ms | ActiveRecord: 1.8ms | Allocations: 16585)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 17:45:40 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"3tsbIcUCIutdJBWaPQtn0psO43ErUJorh2tghx+k8+8moIpnv86Cx30uJ0NMhXgbnHWRWDOHko7N+wWmEzDx1A==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 26], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 1], ["cart_id", 26], ["created_at", "2019-10-07 14:45:40.084302"], ["updated_at", "2019-10-07 14:45:40.084302"]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (2.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 10ms (ActiveRecord: 2.7ms | Allocations: 5356)


Started GET "/" for ::1 at 2019-10-07 17:45:40 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.5ms | Allocations: 4064)
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 26], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 26], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 26]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.3ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.5ms | Allocations: 2474)
Completed 200 OK in 21ms (Views: 18.0ms | ActiveRecord: 0.7ms | Allocations: 17701)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 17:45:42 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"2h9NX+yULYnL98Odqi3t2FK7mCuatJDowGzdFZnJXzq1T08vKr9+RgtO1U7XpzOzPkkKRIX+Gdz5DFK8KYveAg==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 26], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2019-10-07 14:45:42.250878"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.1ms | Allocations: 5330)


Started GET "/" for ::1 at 2019-10-07 17:45:42 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 4059)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 26], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 26], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 26]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.2ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.4ms | Allocations: 2474)
Completed 200 OK in 20ms (Views: 18.0ms | ActiveRecord: 0.7ms | Allocations: 16677)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 17:45:42 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"AjEFQRWzgQNm2uAlLFizcQgUWc4JEBcdtWkufdFg83ltYQcx05jSzKZj9vZR0m0aZObLoRZanimMCaHUYSJyQQ==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 26], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.4ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 3], ["updated_at", "2019-10-07 14:45:42.554856"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 10ms (ActiveRecord: 2.1ms | Allocations: 5336)


Started GET "/" for ::1 at 2019-10-07 17:45:42 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 4059)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 26], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 26], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 26]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.1ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.3ms | Allocations: 2474)
Completed 200 OK in 19ms (Views: 17.4ms | ActiveRecord: 0.6ms | Allocations: 16677)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 17:45:42 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"KmZIRfnxCsnVxM9zbkXyRlSAVz8i6AP3f8NbHGqSGSBFNko1P9pZBhV92aATzywtOHLFUD2iisNGo9S12tCYGA==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 26], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 4], ["updated_at", "2019-10-07 14:45:42.698816"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 10ms (ActiveRecord: 2.2ms | Allocations: 5334)


Started GET "/" for ::1 at 2019-10-07 17:45:42 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 4059)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 26], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 26], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 26]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.1ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.2ms | Allocations: 2474)
Completed 200 OK in 19ms (Views: 17.4ms | ActiveRecord: 0.6ms | Allocations: 16671)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 17:45:42 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"U6ffJSqt4A3lij1LKOiUg21Z6y5eve2F7g9Zfa6lZq08991V7IazwiUzK5hVYkroAat5QUH3ZLHXb9bUHufnlQ==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 26], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 5], ["updated_at", "2019-10-07 14:45:42.858692"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 10ms (ActiveRecord: 2.3ms | Allocations: 5334)


Started GET "/" for ::1 at 2019-10-07 17:45:42 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 4059)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 26], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 26], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 26]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.2ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.3ms | Allocations: 2474)
Completed 200 OK in 43ms (Views: 39.8ms | ActiveRecord: 0.6ms | Allocations: 18397)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 17:45:43 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"32UMPLvnNfwLGjdgicw3yGld0SbDtEMAukPe+TVE28ywNQ5MfcxmM8ujIbP0RumjBa9DSdz+yjSDI1FQhQZa9A==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 26], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 6], ["updated_at", "2019-10-07 14:45:43.018371"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 1.8ms | Allocations: 5346)


Started GET "/" for ::1 at 2019-10-07 17:45:43 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 8.2ms | Allocations: 7052)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 26], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 26], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 26]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.1ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.2ms | Allocations: 2474)
Completed 200 OK in 23ms (Views: 20.7ms | ActiveRecord: 0.7ms | Allocations: 19693)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 17:45:43 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"7rMMNKkPpxoCyqgV+B/Wbps/roTlGW66KfnEcKPfUUiB4w5EbyT01cJzvsaFlQgF98086/pT544QmUvZE53QcA==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 26], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 7], ["updated_at", "2019-10-07 14:45:43.178861"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.2ms | Allocations: 5331)


Started GET "/" for ::1 at 2019-10-07 17:45:43 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 7.4ms | Allocations: 6416)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 26], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 26], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 26]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.1ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.3ms | Allocations: 2474)
Completed 200 OK in 23ms (Views: 20.5ms | ActiveRecord: 0.7ms | Allocations: 19690)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 17:45:43 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"wkUaTyhRQQ8Xo43kFqE56P3lzFuW9aIGCgOO4voHAhWtFRg/7noSwNcamzdrK+eDkRdeNIm/KzIzYwFLSkWDLQ==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 26], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 8], ["updated_at", "2019-10-07 14:45:43.338444"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 8ms (ActiveRecord: 1.4ms | Allocations: 5331)


Started GET "/" for ::1 at 2019-10-07 17:45:43 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 8.0ms | Allocations: 7074)
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 26], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 26], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 26]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.1ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.2ms | Allocations: 2474)
Completed 200 OK in 22ms (Views: 20.0ms | ActiveRecord: 0.6ms | Allocations: 19692)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-07 17:45:43 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"45+nY7hPWzsQl2cf2woB8GfoTF6AuX0L8fRSEQcukfSMz6UTfmQI9NAuccymgN+bCxreMZ/z9D/IlN24t2wQzA==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 26], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 9], ["updated_at", "2019-10-07 14:45:43.516339"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 8ms (ActiveRecord: 1.9ms | Allocations: 5345)


Started GET "/" for ::1 at 2019-10-07 17:45:43 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 10.5ms | Allocations: 7074)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 26], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 26], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 26]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.1ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.2ms | Allocations: 2474)
Completed 200 OK in 24ms (Views: 22.7ms | ActiveRecord: 0.7ms | Allocations: 19688)


Started DELETE "/carts/26" for ::1 at 2019-10-07 17:45:46 +0300
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"tNlGL2R8pMNiHvFpCOi8tOiso9HBMXQpRkJXksYf2rpNG/oww+YMOGX4jLO/G44i6vKfkW0a2GLVLb6dtnaawQ==", "id"=>"26"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:72:in `set_cart'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 26]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 1]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mCart Destroy (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 26]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 7ms (ActiveRecord: 1.8ms | Allocations: 4414)


Started GET "/" for ::1 at 2019-10-07 17:45:46 +0300
Processing by StoreController#index as HTML
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2019-10-07 14:45:46.489505"], ["updated_at", "2019-10-07 14:45:46.489505"]]
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.8ms | Allocations: 4059)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 27], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 27], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  Rendered carts/_cart.html.erb (Duration: 0.6ms | Allocations: 599)
Completed 200 OK in 20ms (Views: 15.6ms | ActiveRecord: 1.5ms | Allocations: 16591)


Started GET "/" for ::1 at 2019-10-08 13:31:16 +0300
  [1m[35m (1.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[36mCart Create (0.8ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2019-10-08 10:31:16.320530"], ["updated_at", "2019-10-08 10:31:16.320530"]]
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 1484.9ms | Allocations: 1405509)
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  Rendered carts/_cart.html.erb (Duration: 1.7ms | Allocations: 767)
Completed 200 OK in 1559ms (Views: 1522.7ms | ActiveRecord: 6.8ms | Allocations: 1431486)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 13:31:20 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"c7MrGFsXF43Mj4VucfNP8HAO9OwV27Y0mWnMW5RefHtQbBNNSoCXztVShFpHgpdwneNaM9KCWCR1BvWpBDIneA==", "product_id"=>"1"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 28], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Create (0.8ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 1], ["cart_id", 28], ["created_at", "2019-10-08 10:31:20.841032"], ["updated_at", "2019-10-08 10:31:20.841032"]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 20ms (ActiveRecord: 3.0ms | Allocations: 10565)


Started GET "/" for ::1 at 2019-10-08 13:31:20 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 8.7ms | Allocations: 4150)
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 28]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.0ms | Allocations: 1042)
  Rendered carts/_cart.html.erb (Duration: 5.3ms | Allocations: 3072)
Completed 200 OK in 28ms (Views: 25.2ms | ActiveRecord: 0.8ms | Allocations: 17953)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 13:31:22 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"pgMrlvxFr5DVU+ysGjnZiQtY2t7zv1r011uXwBEUwS2onwKaEBIAROmpLoGy/lLvUQ+MHmuS9Hxl+GgMaKlzyg==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 28], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2019-10-08 10:31:22.355937"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 10ms (ActiveRecord: 2.5ms | Allocations: 5382)


Started GET "/" for ::1 at 2019-10-08 13:31:22 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 4104)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 28]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.3ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 4.0ms | Allocations: 2474)
Completed 200 OK in 21ms (Views: 19.0ms | ActiveRecord: 0.7ms | Allocations: 17272)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 13:31:22 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"GodvOVE88Dyk5D0UT7qaQq6bmEMngbp90QMwzrBhjC4UG0Y1vWtf6Jge/znnfREk9MzOg7+sFPVjoM8Cydw+yQ==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 28], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 3], ["updated_at", "2019-10-08 10:31:22.903789"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 8ms (ActiveRecord: 1.4ms | Allocations: 5337)


Started GET "/" for ::1 at 2019-10-08 13:31:22 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 8.2ms | Allocations: 7277)
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 28]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.3ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.9ms | Allocations: 2474)
Completed 200 OK in 23ms (Views: 21.2ms | ActiveRecord: 0.7ms | Allocations: 20437)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 13:31:23 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"gk/vXhsdlsaf4JpaYgLZRkGA4bVHCFTThy8RuCqEMWSM08ZS90o5EqMaWHfKxVIgG9e3dd8l+ls1jO50UzmDgw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 28], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 4], ["updated_at", "2019-10-08 10:31:23.223131"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 1.9ms | Allocations: 5327)


Started GET "/" for ::1 at 2019-10-08 13:31:23 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 4102)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 28]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.4ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.7ms | Allocations: 2474)
Completed 200 OK in 20ms (Views: 18.2ms | ActiveRecord: 0.6ms | Allocations: 17265)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 13:31:23 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"fDpbh2ij0vYaOs9b/97VWwp3cbFoa47M0+Cw1xWzwWtypnKLhPR9IibADXZXGV49UCAncfBGIERhQ08bbA5zjA==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 28], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 5], ["updated_at", "2019-10-08 10:31:23.462935"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 8ms (ActiveRecord: 1.5ms | Allocations: 5333)


Started GET "/" for ::1 at 2019-10-08 13:31:23 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 6.0ms | Allocations: 4906)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 28]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.2ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.4ms | Allocations: 2474)
Completed 200 OK in 22ms (Views: 20.0ms | ActiveRecord: 0.6ms | Allocations: 18912)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 13:31:23 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"8imKfESQJTpZ+YEu2V8Uk3hZg9DWoqP/HDB6vsLH9g78taNwqMeK7mUDQwNxmJ/1Ig7VEE6PDXeuk4Vyu3pE6Q==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 28], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 6], ["updated_at", "2019-10-08 10:31:23.639096"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 8ms (ActiveRecord: 1.5ms | Allocations: 5340)


Started GET "/" for ::1 at 2019-10-08 13:31:23 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 8.0ms | Allocations: 7277)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 28]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.3ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 4.0ms | Allocations: 2474)
Completed 200 OK in 24ms (Views: 21.7ms | ActiveRecord: 0.7ms | Allocations: 20445)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 13:31:23 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"7EuOR5aGIgzPfDdtLkyA4/PLNwhtt9ddA3n0HmrlItzi16dLetGN2POG9UCGiwuFqZxhyPWaedWx2gvSE1iQOw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 28], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 7], ["updated_at", "2019-10-08 10:31:23.814227"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 8ms (ActiveRecord: 1.8ms | Allocations: 5337)


Started GET "/" for ::1 at 2019-10-08 13:31:23 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 8.2ms | Allocations: 7277)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 28]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.2ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.4ms | Allocations: 2474)
Completed 200 OK in 48ms (Views: 46.4ms | ActiveRecord: 0.6ms | Allocations: 20448)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 13:31:23 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"g7K3Mk4EmIERI0A/yZPjibdaV/VOJ4dfArUgk5XpWniNLp4+olM3VS3ZghJhVGjv7Q0BNdYKKdewFt9f7FTonw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 28], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 8], ["updated_at", "2019-10-08 10:31:23.991440"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 1.6ms | Allocations: 5350)


Started GET "/" for ::1 at 2019-10-08 13:31:24 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 7.7ms | Allocations: 6808)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 28]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.2ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.4ms | Allocations: 2474)
Completed 200 OK in 24ms (Views: 21.5ms | ActiveRecord: 0.7ms | Allocations: 20438)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 13:31:24 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"jb9O0H90rRxx0xqo1jtcztv3t2JXYrUn7M7xlfAMfgmDI2fckyMCyE0p2IV+/NeogaDhos9PG69ebQ5ZibHM7g==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 28], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 9], ["updated_at", "2019-10-08 10:31:24.198985"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 8ms (ActiveRecord: 1.5ms | Allocations: 5332)


Started GET "/" for ::1 at 2019-10-08 13:31:24 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.5ms | Allocations: 4102)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 28]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.4ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.5ms | Allocations: 2474)
Completed 200 OK in 21ms (Views: 18.6ms | ActiveRecord: 0.6ms | Allocations: 17262)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 13:31:24 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"vNFmLYHNC5jhoXHNziQd3QqaUn5VoMWPs2kBUq/Yv+2yTU8hbZqkTN1bs+Bm45a7UM0Evs2NawcByv6e1mUNCg==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 28], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 10], ["updated_at", "2019-10-08 10:31:24.559238"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 8ms (ActiveRecord: 1.6ms | Allocations: 5332)


Started GET "/" for ::1 at 2019-10-08 13:31:24 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 4102)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 28]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.2ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.4ms | Allocations: 2474)
Completed 200 OK in 20ms (Views: 17.8ms | ActiveRecord: 0.6ms | Allocations: 17269)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 13:31:24 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"GaSQvZKH4sA9rLsKGR4syCaB5w76toQnUChzHeBg6ckXOLmxftBNFAFWeSex2aeufNaxzmKbKq/ii4zRmd1bLg==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 28], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 11], ["updated_at", "2019-10-08 10:31:24.878398"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.2ms | Allocations: 5334)


Started GET "/" for ::1 at 2019-10-08 13:31:24 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 4102)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 28]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.4ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.7ms | Allocations: 2474)
Completed 200 OK in 20ms (Views: 18.3ms | ActiveRecord: 0.6ms | Allocations: 17267)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 13:31:25 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"gQp4yS3nT7b94NcmirBYX+JlnZ4rfBSZAOvjg5zBtJiPllHFwbDgYsEaFQsid9M5uDLLXrNRuhGySBxP5XwGfw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 28], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 12], ["updated_at", "2019-10-08 10:31:25.214288"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 8ms (ActiveRecord: 1.3ms | Allocations: 5342)


Started GET "/" for ::1 at 2019-10-08 13:31:25 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.8ms | Allocations: 4102)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 28]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.2ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.4ms | Allocations: 2474)
Completed 200 OK in 20ms (Views: 18.5ms | ActiveRecord: 0.6ms | Allocations: 17264)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 13:31:25 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"JJ5Vo2rEKHTsLArilpcbouEFIZcHkVhf4L5EEqLEt84qAnyvhpOHoNDWyM8+UJDEu1J3V5+89tdSHbve23kFKQ==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 28], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 13], ["updated_at", "2019-10-08 10:31:25.602620"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 8ms (ActiveRecord: 1.4ms | Allocations: 5336)


Started GET "/" for ::1 at 2019-10-08 13:31:25 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 4102)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 28]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.4ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.7ms | Allocations: 2474)
Completed 200 OK in 20ms (Views: 18.0ms | ActiveRecord: 0.6ms | Allocations: 17269)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 13:31:25 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ALv7PYGzPbkzqkZpC02XRuRY/T/KFvBqpLOG9jPrCTYOJ9IxbeSSbQ9QhESjihwgvg+r/1I7XuIWEHk6Sla70Q==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 28], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 14], ["updated_at", "2019-10-08 10:31:25.964174"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 1.6ms | Allocations: 5332)


Started GET "/" for ::1 at 2019-10-08 13:31:25 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 4102)
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 28]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.2ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.4ms | Allocations: 2474)
Completed 200 OK in 42ms (Views: 40.6ms | ActiveRecord: 0.6ms | Allocations: 17273)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 13:31:26 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"GXoxCnXcZ2ibwiXB/0zs7X54mANPiY7w72O4cSaipCwX5hgGmYvIvKc45+xXi2eLJC/Ow9ekIHhdwEe9Xx8Wyw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 28], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 15], ["updated_at", "2019-10-08 10:31:26.187148"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.0ms | Allocations: 5527)


Started GET "/" for ::1 at 2019-10-08 13:31:26 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 8.1ms | Allocations: 7260)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 28]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.2ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.4ms | Allocations: 2474)
Completed 200 OK in 24ms (Views: 21.4ms | ActiveRecord: 0.7ms | Allocations: 20446)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 13:31:26 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"hoipWQ7ZwBNlGKkuq6czQBiEOyxeCSkz8xoZ8q2QnquIFIBV4o5vx1niawMDYLgmQtNt7MYkh7tBueY+1C0sTA==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 28], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 16], ["updated_at", "2019-10-08 10:31:26.346377"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.2ms | Allocations: 5332)


Started GET "/" for ::1 at 2019-10-08 13:31:26 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 8.0ms | Allocations: 7277)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 28]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.2ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.6ms | Allocations: 2474)
Completed 200 OK in 23ms (Views: 21.5ms | ActiveRecord: 0.7ms | Allocations: 20443)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 13:31:26 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"r1AdLZI2NPL7Hfxxhl55f+jVQ5yASN4TwvkjoEMxyuyhzDQhfmGbJsfnPlwumfIZsoIVXBhlcJtwWtxsOox4Cw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 28], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 17], ["updated_at", "2019-10-08 10:31:26.506960"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 1.9ms | Allocations: 5341)


Started GET "/" for ::1 at 2019-10-08 13:31:26 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 7.9ms | Allocations: 7259)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 28]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.2ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.4ms | Allocations: 2474)
Completed 200 OK in 23ms (Views: 21.0ms | ActiveRecord: 0.7ms | Allocations: 20440)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 13:31:26 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"mDF1ZXXhdIYh9LfU2hQhuhJi3kVLyluGOvAxuw2wnPKWrVxpmbbbUh0Odfly06rcSDWIhdPn9Q6IU853dA0uFQ==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 28], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 18], ["updated_at", "2019-10-08 10:31:26.666951"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 1.4ms | Allocations: 5333)


Started GET "/" for ::1 at 2019-10-08 13:31:26 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 8.1ms | Allocations: 7277)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 28]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.2ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.9ms | Allocations: 2474)
Completed 200 OK in 23ms (Views: 21.4ms | ActiveRecord: 0.7ms | Allocations: 20440)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 13:31:26 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"v5JFghEaql6TrEyEwtvWf1EWCygL8zRfYMEhbXPTZ/axDmyO/U0Fiq9WjqlqHF0ZC0Fd6JPemtfSYt6hCm7VEQ==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 28], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 19], ["updated_at", "2019-10-08 10:31:26.827023"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 1.9ms | Allocations: 5338)


Started GET "/" for ::1 at 2019-10-08 13:31:26 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 8.0ms | Allocations: 7277)
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 28]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.3ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.8ms | Allocations: 2474)
Completed 200 OK in 23ms (Views: 20.8ms | ActiveRecord: 0.7ms | Allocations: 20442)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 13:31:26 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"n/v6NoR+mTW7gR471VPVm9Ja0zDgnqjTbh47ftXzGE+RZ9M6aCk24Yd73BZ9lF79iA2F8HizBlvcvcSyrE6qqA==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 28], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 20], ["updated_at", "2019-10-08 10:31:27.002579"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 8ms (ActiveRecord: 1.5ms | Allocations: 5335)


Started GET "/" for ::1 at 2019-10-08 13:31:27 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 7.2ms | Allocations: 6556)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 28]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.4ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 4.0ms | Allocations: 2474)
Completed 200 OK in 23ms (Views: 20.6ms | ActiveRecord: 0.7ms | Allocations: 20419)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 13:31:27 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"sUwq81ldFgXeBIKHEgyPEqpO44HoprmDqbbtirLGoSq/0AP/tQq50eL+QKq6ywR08Bm1QXCLFwsbFRJGy3sTzQ==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 28], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 21], ["updated_at", "2019-10-08 10:31:27.586930"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.0ms | Allocations: 5334)


Started GET "/" for ::1 at 2019-10-08 13:31:27 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 7.6ms | Allocations: 6856)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 28]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.4ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.6ms | Allocations: 2474)
Completed 200 OK in 46ms (Views: 43.8ms | ActiveRecord: 0.7ms | Allocations: 20442)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 13:31:27 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"5hgMAukl/f10IkEfT7QhyyKS4+4VtF3ZbE7cTcEp853ohCUOBXJSKUjYgzLnc6qteMW1Lo2Z81He7SOBuJRBeg==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 28], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 22], ["updated_at", "2019-10-08 10:31:27.970155"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.2ms | Allocations: 5345)


Started GET "/" for ::1 at 2019-10-08 13:31:27 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 4102)
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 28]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.3ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.9ms | Allocations: 2474)
Completed 200 OK in 20ms (Views: 18.1ms | ActiveRecord: 0.7ms | Allocations: 17267)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 13:31:28 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"v2nh7Ny+gFbbBnU0AqXfMlmlJFegB+VgfBpYC6ah9dGx9cjgMOkvguf8txmqYlRUA/JylzgqS+jOuafH3xxHNg==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 28], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 23], ["updated_at", "2019-10-08 10:31:28.918197"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.0ms | Allocations: 5332)


Started GET "/" for ::1 at 2019-10-08 13:31:28 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 8.1ms | Allocations: 7277)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 28]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.3ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.5ms | Allocations: 2474)
Completed 200 OK in 24ms (Views: 21.7ms | ActiveRecord: 0.7ms | Allocations: 20439)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 13:31:29 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"JG2db5kVFMKttg0Ww6WNnCwpuzheeVZiqcudZtqCzRMq8bRjdUK7FpFMzztrYgb6dn7t+MZU+OobaGKqoz9/9A==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 28], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 24], ["updated_at", "2019-10-08 10:31:29.478682"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.2ms | Allocations: 5342)


Started GET "/" for ::1 at 2019-10-08 13:31:29 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 4102)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 28]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.2ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.7ms | Allocations: 2474)
Completed 200 OK in 20ms (Views: 18.4ms | ActiveRecord: 0.7ms | Allocations: 17259)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 13:31:29 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"2OAqlWn/qzRYvjW+defaZvFDFVdV9tTZTkCTARpkVpfWfAOZhagE4GRE95PdIFEAqxRDl83belH842zNY9nkcA==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 28], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 25], ["updated_at", "2019-10-08 10:31:29.670284"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 1.9ms | Allocations: 5339)


Started GET "/" for ::1 at 2019-10-08 13:31:29 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 7.6ms | Allocations: 7277)
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 28]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.3ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.8ms | Allocations: 2474)
Completed 200 OK in 22ms (Views: 20.5ms | ActiveRecord: 0.6ms | Allocations: 20450)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 13:31:29 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"SD5VIYFQV63XljwUVOzRXQfWmMh4zIvWy4rN06t8+5NGonwtbQf4eets/jn8K1o7XYHOCODhJV55KTIf0sFJdA==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 28], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 26], ["updated_at", "2019-10-08 10:31:29.862569"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 1.9ms | Allocations: 5337)


Started GET "/" for ::1 at 2019-10-08 13:31:29 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 8.5ms | Allocations: 6814)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 28]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.2ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.3ms | Allocations: 2474)
Completed 200 OK in 24ms (Views: 22.0ms | ActiveRecord: 0.7ms | Allocations: 20441)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 13:31:30 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"91upXUVbeW9TpouDUWb+wgOjA1/61aGgf/lww8NwhTv5x4BRqQzWu29cSa75oXWkWfRVn2L4DyjNWo8Pus033A==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 28], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 27], ["updated_at", "2019-10-08 10:31:30.102619"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 10ms (ActiveRecord: 2.1ms | Allocations: 5335)


Started GET "/" for ::1 at 2019-10-08 13:31:30 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 4102)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 28]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.3ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.8ms | Allocations: 2474)
Completed 200 OK in 20ms (Views: 18.0ms | ActiveRecord: 0.6ms | Allocations: 17267)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 13:31:30 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"DWD2MLOnKrOv2qB8vsbH6Qxysss980PEsgvniTdw+BUD/N88X/CFZ5MgYlEWAUyPViXkC6Xe7UwAqBhFTs1K8g==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 28], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 28], ["updated_at", "2019-10-08 10:31:30.390006"], ["id", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 1.9ms | Allocations: 5335)


Started GET "/" for ::1 at 2019-10-08 13:31:30 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 30.7ms | Allocations: 7262)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:22
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 28], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 28]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.2ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.4ms | Allocations: 2474)
Completed 200 OK in 46ms (Views: 43.6ms | ActiveRecord: 0.6ms | Allocations: 20442)


Started GET "/" for ::1 at 2019-10-08 14:39:35 +0300
  [1m[35m (1.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[36mCart Create (0.6ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2019-10-08 11:39:35.779915"], ["updated_at", "2019-10-08 11:39:35.779915"]]
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 949.8ms | Allocations: 1356484)
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 29], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:23
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 29], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  Rendered carts/_cart.html.erb (Duration: 1.2ms | Allocations: 767)
Completed 200 OK in 1003ms (Views: 976.1ms | ActiveRecord: 4.1ms | Allocations: 1382035)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 14:39:40 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"H60mOOfRpSFGkWYtV+5kphZkZEspss/pdFcbQJsaEgA8ch5t9kYlYl9MZxlhn7wm+4nKlO7rIfmYOCKyC3ZJAw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 29], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 1], ["cart_id", 29], ["created_at", "2019-10-08 11:39:40.042076"], ["updated_at", "2019-10-08 11:39:40.042076"]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 15ms (ActiveRecord: 2.1ms | Allocations: 10543)


Started GET "/" for ::1 at 2019-10-08 14:39:40 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 6.3ms | Allocations: 4113)
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 29], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:23
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 29], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 29]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.5ms | Allocations: 1039)
  Rendered carts/_cart.html.erb (Duration: 4.7ms | Allocations: 3069)
Completed 200 OK in 23ms (Views: 21.1ms | ActiveRecord: 0.8ms | Allocations: 17926)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 14:39:42 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"SD6kWn7aPih69MFJ17n5QL8q1P9yo+3xaLOc5+DcVl1Goo1Wko2R/EYOA2R/fnIm5X2CP+qOQ3naEGMrmWHkug==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 29], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2019-10-08 11:39:42.309638"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 8ms (ActiveRecord: 1.5ms | Allocations: 5383)


Started GET "/" for ::1 at 2019-10-08 14:39:42 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 4104)
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 29], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:23
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 29], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 29]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.2ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.3ms | Allocations: 2474)
Completed 200 OK in 20ms (Views: 18.3ms | ActiveRecord: 0.6ms | Allocations: 17315)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 14:39:42 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"fKtmzCQJJ2NhxPGJ+dmx2fbWWenNvU77ZZxxsm7yyTpyN0/AyF6It10+M6RRHjq/rIEPKVWQ4HPXP45+F0973Q==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 29], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 3], ["updated_at", "2019-10-08 11:39:42.611153"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 1.4ms | Allocations: 5343)


Started GET "/" for ::1 at 2019-10-08 14:39:42 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.5ms | Allocations: 4103)
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 29], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:23
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 29], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 29]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.5ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.7ms | Allocations: 2474)
Completed 200 OK in 21ms (Views: 18.6ms | ActiveRecord: 0.6ms | Allocations: 17310)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 14:39:42 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ZXTUqIddr7YgNKuMXLBHqPuwM6vzuiRRXRiHbTaux+tr6P2kawoAYhzOaaH0d8zOoedla2uXitnvu3ihTxN1DA==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 29], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 4], ["updated_at", "2019-10-08 11:39:42.806389"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 8ms (ActiveRecord: 1.4ms | Allocations: 5328)


Started GET "/" for ::1 at 2019-10-08 14:39:42 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.3ms | Allocations: 4102)
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 29], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:23
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 29], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 29]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.3ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.8ms | Allocations: 2474)
Completed 200 OK in 25ms (Views: 22.5ms | ActiveRecord: 0.7ms | Allocations: 20522)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 14:39:42 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"vb14UsBrJJxRNyNO9QUXuoH61VP9zQh8MZ4Zqontru6zIVFeLDyLSG3N4WNdwpzc262Dk2XgpvSDPeZm8FAcCQ==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 29], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 5], ["updated_at", "2019-10-08 11:39:42.999467"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 1.9ms | Allocations: 5331)


Started GET "/" for ::1 at 2019-10-08 14:39:43 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 7.8ms | Allocations: 7089)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 29], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:23
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 29], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 29]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.3ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.8ms | Allocations: 2474)
Completed 200 OK in 25ms (Views: 22.7ms | ActiveRecord: 0.7ms | Allocations: 20331)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 14:39:43 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"/V649fbcEZwjPUQB0VN+v1ifb5Ufb88OnHGx6mDMP7zzwpH5Gou+SB/Hhix5lPXZAsg5VYdCYYYu0k4mGXGNWw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 29], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 6], ["updated_at", "2019-10-08 11:39:43.175244"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 1.9ms | Allocations: 5334)


Started GET "/" for ::1 at 2019-10-08 14:39:43 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 8.0ms | Allocations: 7117)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 29], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:23
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 29], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 29]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.3ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.9ms | Allocations: 2474)
Completed 200 OK in 23ms (Views: 21.4ms | ActiveRecord: 0.7ms | Allocations: 20327)


Started DELETE "/carts/29" for ::1 at 2019-10-08 14:39:45 +0300
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"mPAxiycVvkDL5IXl62uH6SXrBKp2+YJf+h2Vs9Tvy57LuB94E8TIq/C+XAsuplpgPa2yFgTU/uAH2wMwbIYP7A==", "id"=>"29"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:72:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 29]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Destroy (0.5ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 2]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mCart Destroy (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 29]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 9ms (ActiveRecord: 1.7ms | Allocations: 4499)


Started GET "/" for ::1 at 2019-10-08 14:39:45 +0300
Processing by StoreController#index as HTML
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2019-10-08 11:39:45.822262"], ["updated_at", "2019-10-08 11:39:45.822262"]]
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 4102)
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 30], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:23
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 30], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  Rendered carts/_cart.html.erb (Duration: 1.1ms | Allocations: 599)
Completed 200 OK in 22ms (Views: 16.9ms | ActiveRecord: 1.8ms | Allocations: 17224)


Started GET "/" for ::1 at 2019-10-08 14:39:50 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 6.1ms | Allocations: 4102)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 30], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:23
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 30], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  Rendered carts/_cart.html.erb (Duration: 0.9ms | Allocations: 599)
Completed 200 OK in 20ms (Views: 17.3ms | ActiveRecord: 0.6ms | Allocations: 15433)


Started GET "/carts" for ::1 at 2019-10-08 14:39:50 +0300
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  â†³ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1218)
Completed 200 OK in 13ms (Views: 11.9ms | ActiveRecord: 0.2ms | Allocations: 11356)


Started GET "/carts" for ::1 at 2019-10-08 14:39:52 +0300
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  â†³ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 1.3ms | Allocations: 952)
Completed 200 OK in 11ms (Views: 10.4ms | ActiveRecord: 0.1ms | Allocations: 10506)


Started GET "/carts" for ::1 at 2019-10-08 14:40:01 +0300
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  â†³ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 1.5ms | Allocations: 952)
Completed 200 OK in 11ms (Views: 10.3ms | ActiveRecord: 0.1ms | Allocations: 10514)


Started GET "/" for ::1 at 2019-10-08 14:40:02 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 4108)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 30], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:23
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 30], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  Rendered carts/_cart.html.erb (Duration: 0.9ms | Allocations: 599)
Completed 200 OK in 42ms (Views: 40.6ms | ActiveRecord: 0.4ms | Allocations: 15445)


Started GET "/" for ::1 at 2019-10-08 14:40:03 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 4102)
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 30], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:23
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 30], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  Rendered carts/_cart.html.erb (Duration: 0.8ms | Allocations: 599)
Completed 200 OK in 19ms (Views: 17.1ms | ActiveRecord: 0.4ms | Allocations: 15434)


  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateOrders (20191008114048)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "address" text, "email" varchar, "pay_type" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20191008114048"]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2019-10-08 14:41:47 +0300
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 971.2ms | Allocations: 1366012)
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 30], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:23
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 30], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  Rendered carts/_cart.html.erb (Duration: 1.0ms | Allocations: 767)
Completed 200 OK in 1014ms (Views: 998.5ms | ActiveRecord: 1.8ms | Allocations: 1391063)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 14:41:50 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"cRCs/VlGZwDsgh8An5ICgu1VUCH6d0jy8WGioJzTIxBSz5SoSNHnQ/VfHjSp49oCALj+/j0upuIdDptSDL94Ew==", "product_id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 30], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 1], ["cart_id", 30], ["created_at", "2019-10-08 11:41:50.551076"], ["updated_at", "2019-10-08 11:41:50.551076"]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 16ms (ActiveRecord: 2.8ms | Allocations: 10672)


Started GET "/" for ::1 at 2019-10-08 14:41:50 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 4108)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 30], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:23
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 30], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 30]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.5ms | Allocations: 1039)
  Rendered carts/_cart.html.erb (Duration: 4.4ms | Allocations: 3068)
Completed 200 OK in 23ms (Views: 20.7ms | ActiveRecord: 0.7ms | Allocations: 18846)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 14:41:52 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"lgWY+5ani+DI0zUtXUjfjecD+loPuajeBGkpfjHYyGyYmbH3evAkNPQp9wD1j1TrvVSsmpeUBla2ytaySGV6iw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 30], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2019-10-08 11:41:52.960060"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.2ms | Allocations: 5388)


Started GET "/" for ::1 at 2019-10-08 14:41:52 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.5ms | Allocations: 4104)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 30], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:23
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 30], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 30]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.3ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.7ms | Allocations: 2474)
Completed 200 OK in 21ms (Views: 19.6ms | ActiveRecord: 0.7ms | Allocations: 18203)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 14:41:53 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"KJ8o8jsBG07gXqgDwiVnthNQXvwL5HAI2rYUW7DJXismAwH+11a0mtykai5q4uzQSQcIPJPJ3oBoFeuXyXTszA==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 30], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.4ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 3], ["updated_at", "2019-10-08 11:41:53.365881"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 18ms (ActiveRecord: 1.6ms | Allocations: 5336)


Started GET "/" for ::1 at 2019-10-08 14:41:53 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 26.9ms | Allocations: 4106)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 30], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:23
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 30], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 30]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.2ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.4ms | Allocations: 2474)
Completed 200 OK in 42ms (Views: 40.3ms | ActiveRecord: 0.7ms | Allocations: 18204)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 14:41:53 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"aIkLYwEorFXXiRW0vg4GXc1GuHNz3Q8aSwGYkf29qEBmFSJv7X8Dgetz15kWyY07lxHus+vwoZL5omddhAAapw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 30], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 4], ["updated_at", "2019-10-08 11:41:53.548173"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 8ms (ActiveRecord: 1.4ms | Allocations: 5341)


Started GET "/" for ::1 at 2019-10-08 14:41:53 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 4102)
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 30], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:23
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 30], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 30]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.8ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 4.3ms | Allocations: 2474)
Completed 200 OK in 25ms (Views: 23.0ms | ActiveRecord: 0.8ms | Allocations: 21683)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 14:41:53 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"xCBV12C+FOb7bqoxpHsqYV4aE9Avhtc4W1yIdLiBUlrKvHzbjOm7MseUaBwMvKEHBE1FELerebDp/3e4wTzgvQ==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 30], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 5], ["updated_at", "2019-10-08 11:41:53.709249"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 1.9ms | Allocations: 5338)


Started GET "/" for ::1 at 2019-10-08 14:41:53 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 8.1ms | Allocations: 7392)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 30], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:23
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 30], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 30]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.2ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.3ms | Allocations: 2474)
Completed 200 OK in 24ms (Views: 22.1ms | ActiveRecord: 0.6ms | Allocations: 21509)


Started DELETE "/carts/30" for ::1 at 2019-10-08 14:41:56 +0300
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"lnaayU0izREXkYhTktuIKbdjVzLZDmoJ4TwWiU9jS+uFke1rIs1ErErnBR9JHZFET+ogOMiYLzwJOlXskqgP/A==", "id"=>"30"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:72:in `set_cart'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 30]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 2]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mCart Destroy (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 30]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 7ms (ActiveRecord: 2.0ms | Allocations: 4506)


Started GET "/" for ::1 at 2019-10-08 14:41:56 +0300
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2019-10-08 11:41:56.341673"], ["updated_at", "2019-10-08 11:41:56.341673"]]
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 4102)
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 31], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:23
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 31], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  Rendered carts/_cart.html.erb (Duration: 1.2ms | Allocations: 599)
Completed 200 OK in 22ms (Views: 17.1ms | ActiveRecord: 1.7ms | Allocations: 18211)


  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddOrderToLineItem (20191008114216)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "line_items" ADD "order_id" integer[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_order_id" ON "aline_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "line_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_11e15d5c6b"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_2dc2e5c22c"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_order_id" ON "aline_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "line_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer NOT NULL, CONSTRAINT "fk_rails_2dc2e5c22c"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_11e15d5c6b"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "aline_items"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddOrderToLineItem (20191008114216)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "line_items" ADD "order_id" integer[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_order_id" ON "aline_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "line_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_11e15d5c6b"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_2dc2e5c22c"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mprimary::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20191008114216"]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2019-10-08 14:45:26 +0300
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 31], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 942.1ms | Allocations: 1356228)
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 31], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:23
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 31], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  Rendered carts/_cart.html.erb (Duration: 1.2ms | Allocations: 767)
Completed 200 OK in 986ms (Views: 970.1ms | ActiveRecord: 2.1ms | Allocations: 1380228)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 14:45:29 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"splpdDGpvzb6frm3dpn00HHmIXues4BXYOi3wBAPHtmRRlEhID4/deOjuINA6CxQnAuPpFnqbkeMh44ygGNF2g==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 31], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 31], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Create (0.7ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 1], ["cart_id", 31], ["created_at", "2019-10-08 11:45:29.486210"], ["updated_at", "2019-10-08 11:45:29.486210"]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 17ms (ActiveRecord: 3.0ms | Allocations: 11276)


Started GET "/" for ::1 at 2019-10-08 14:45:29 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 31], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.7ms | Allocations: 4108)
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 31], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:23
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 31], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 31]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.5ms | Allocations: 1039)
  Rendered carts/_cart.html.erb (Duration: 4.4ms | Allocations: 3070)
Completed 200 OK in 23ms (Views: 20.9ms | ActiveRecord: 0.7ms | Allocations: 18805)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 14:45:31 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"5AFjthoDqiU3nOAH6VJQigsH3sTDNTezv9EspOMb07LqnUq69lQF8QtmIipBldvsUVCIBFsYmTsNctNomqZhVQ==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 31], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 31], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2019-10-08 11:45:31.020317"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 1.9ms | Allocations: 5380)


Started GET "/" for ::1 at 2019-10-08 14:45:31 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 31], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 6.6ms | Allocations: 4104)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 31], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:23
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 31], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 31]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.2ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.4ms | Allocations: 2474)
Completed 200 OK in 22ms (Views: 20.6ms | ActiveRecord: 0.7ms | Allocations: 18207)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 14:45:31 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"LI0w4vJPw2OKszCjOI7meYzOY1P+0oCRUmIYUrIItisiERnuHhhst7ZJ8o6QSW0f1pk1k2b/Lhngweeey7UEzA==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 31], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 31], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 3], ["updated_at", "2019-10-08 11:45:31.370348"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 1.9ms | Allocations: 5339)


Started GET "/" for ::1 at 2019-10-08 14:45:31 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 31], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 4102)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 31], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:23
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 31], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 31]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.2ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.5ms | Allocations: 2474)
Completed 200 OK in 44ms (Views: 41.6ms | ActiveRecord: 0.6ms | Allocations: 18204)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 14:45:31 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"WJ/cD+ForCcDE8A8q+TyLHginz8Y417F37d/zosLvdFWA/UDDT8D8z/pAhEDI3lKInXJ/4DO8E1tFIAC8rYPNg==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 31], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 31], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 4], ["updated_at", "2019-10-08 11:45:31.546832"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 1.9ms | Allocations: 5347)


Started GET "/" for ::1 at 2019-10-08 14:45:31 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 31], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 4102)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 31], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:23
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 31], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 31]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.6ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.9ms | Allocations: 2474)
Completed 200 OK in 21ms (Views: 18.5ms | ActiveRecord: 0.6ms | Allocations: 18203)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 14:45:31 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"lI9ln49QdnqM9noV1yOQPEYir7mZTyOmYmv+jJX75HOaE0yTYwfZrrAMuDh/5BtaHHX5eQFijS7QyAFA7EZWlA==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 31], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 31], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 5], ["updated_at", "2019-10-08 11:45:31.706724"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.1ms | Allocations: 5340)


Started GET "/" for ::1 at 2019-10-08 14:45:31 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 31], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 8.5ms | Allocations: 7703)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 31], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:23
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 31], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 31]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.3ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.5ms | Allocations: 2474)
Completed 200 OK in 25ms (Views: 22.7ms | ActiveRecord: 0.6ms | Allocations: 21799)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 14:45:31 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"z52AP7ZrDyeRMewAm8kM9iWB7SImGo6PCB2DQbXZb6DBAakzWjyg863LLi0zDoeQf9a74r43IAe6vnyNzGTdRw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 31], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 31], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 6], ["updated_at", "2019-10-08 11:45:31.867238"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 1.9ms | Allocations: 5341)


Started GET "/" for ::1 at 2019-10-08 14:45:31 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 31], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 8.7ms | Allocations: 7692)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 31], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:23
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 31], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 31]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.2ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.3ms | Allocations: 2474)
Completed 200 OK in 25ms (Views: 23.0ms | ActiveRecord: 0.6ms | Allocations: 21797)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 14:45:32 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"wm+WipB8gl9H9CjD/jAMp2dd226/Wpm5FH5mvDuJRpXM87+GfCsti3sO6u5W94fBPQqNrid3NzGm3ZlwQjT0cg==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 31], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 31], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 7], ["updated_at", "2019-10-08 11:45:32.026861"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.0ms | Allocations: 5336)


Started GET "/" for ::1 at 2019-10-08 14:45:32 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 31], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 7.8ms | Allocations: 7297)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 31], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:23
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 31], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 31]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.3ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.8ms | Allocations: 2474)
Completed 200 OK in 25ms (Views: 22.4ms | ActiveRecord: 0.7ms | Allocations: 21806)


Started DELETE "/carts/31" for ::1 at 2019-10-08 14:45:34 +0300
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"UmaQlsSsHVgPYhNlB+8jKVSB2ZMAxiwvacfezd8CjdXt8Zhxp+67V+puDrX7CixX/TnjOrDebCUjnPKVJFxGCg==", "id"=>"31"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 31], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:72:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 31]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 2]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mCart Destroy (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 31]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 9ms (ActiveRecord: 2.2ms | Allocations: 4509)


Started GET "/" for ::1 at 2019-10-08 14:45:34 +0300
Processing by StoreController#index as HTML
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2019-10-08 11:45:34.460294"], ["updated_at", "2019-10-08 11:45:34.460294"]]
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 6.0ms | Allocations: 4102)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 32], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:23
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 32], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  Rendered carts/_cart.html.erb (Duration: 0.8ms | Allocations: 599)
Completed 200 OK in 22ms (Views: 17.4ms | ActiveRecord: 1.4ms | Allocations: 18206)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 14:47:43 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"d4ofKAIasKRu4lGKfyQxWsGbAZjPHlC2uY1gHpFq+CtUVSd9E40w53c/UL5JVenaLHavRwhHvqZV4lnsAQajKA==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 32], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 1], ["cart_id", 32], ["created_at", "2019-10-08 11:47:43.246587"], ["updated_at", "2019-10-08 11:47:43.246587"]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 8ms (ActiveRecord: 1.4ms | Allocations: 5383)


Started GET "/" for ::1 at 2019-10-08 14:47:43 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 6.1ms | Allocations: 4432)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 32], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:23
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 32], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 32]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.4ms | Allocations: 1025)
  Rendered carts/_cart.html.erb (Duration: 4.2ms | Allocations: 3027)
Completed 200 OK in 24ms (Views: 21.9ms | ActiveRecord: 0.6ms | Allocations: 20343)


Started GET "/orders/new" for ::1 at 2019-10-08 14:47:47 +0300
Processing by OrdersController#new as HTML
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 6.8ms | Allocations: 2236)
  Rendered orders/new.html.erb within layouts/application (Duration: 8.0ms | Allocations: 2589)
Completed 200 OK in 51ms (Views: 19.0ms | ActiveRecord: 0.6ms | Allocations: 18256)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 14:47:55 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"d4ofKAIasKRu4lGKfyQxWsGbAZjPHlC2uY1gHpFq+CtUVSd9E40w53c/UL5JVenaLHavRwhHvqZV4lnsAQajKA==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 32], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2019-10-08 11:47:55.830859"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 8ms (ActiveRecord: 1.5ms | Allocations: 5324)


Started GET "/" for ::1 at 2019-10-08 14:47:55 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.3ms | Allocations: 4108)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 32], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:23
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 32], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 32]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.1ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.3ms | Allocations: 2526)
Completed 200 OK in 20ms (Views: 18.6ms | ActiveRecord: 0.6ms | Allocations: 18265)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 14:47:57 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"rk9zqNSbt1jDNUgs64pZsK5tNKm4C9QIyPmZE2qYr9Og01qkOMwYjP/PigFDTdLW9DpiaSAmeoB6WmbfEyUdNA==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 32], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 3], ["updated_at", "2019-10-08 11:47:57.521890"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 1.4ms | Allocations: 5334)


Started GET "/" for ::1 at 2019-10-08 14:47:57 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 8.8ms | Allocations: 7698)
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 32], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:23
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 32], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 32]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.1ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.1ms | Allocations: 2521)
Completed 200 OK in 24ms (Views: 22.0ms | ActiveRecord: 0.6ms | Allocations: 21850)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 14:47:58 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"WMDDUbBfyCa7i9svdvdl7eqgGLCXnALTz91PgW4JqQxWXOpdXAhn8odxGQLeMO6LsPdOcA+xrFt9frBNF7Qb6w==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 32], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 4], ["updated_at", "2019-10-08 11:47:58.088468"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 8ms (ActiveRecord: 1.7ms | Allocations: 5334)


Started GET "/" for ::1 at 2019-10-08 14:47:58 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 4102)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 32], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:23
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 32], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 32]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.2ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.3ms | Allocations: 2521)
Completed 200 OK in 20ms (Views: 18.4ms | ActiveRecord: 0.6ms | Allocations: 18246)


Started GET "/" for ::1 at 2019-10-08 14:54:56 +0300
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 969.1ms | Allocations: 1356228)
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 32], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:23
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 32], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 32]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.5ms | Allocations: 1802)
  Rendered carts/_cart.html.erb (Duration: 12.2ms | Allocations: 9055)
Completed 200 OK in 1027ms (Views: 1008.9ms | ActiveRecord: 2.8ms | Allocations: 1388542)


Started DELETE "/carts/32" for ::1 at 2019-10-08 14:55:02 +0300
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZptFvXvAUOjTQwrH+orSbcXtUFoZmg30NrNgXOTZCqpFRH3oalfQq8qeC/PM+wrtKAD+hd7D4+Ta3FmudLVRqQ==", "id"=>"32"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:72:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 32]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Destroy (0.5ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 2]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mCart Destroy (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 32]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 8ms (ActiveRecord: 2.0ms | Allocations: 4555)


Started GET "/" for ::1 at 2019-10-08 14:55:02 +0300
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2019-10-08 11:55:02.699480"], ["updated_at", "2019-10-08 11:55:02.699480"]]
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.7ms | Allocations: 4109)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 33], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:23
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 33], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  Rendered carts/_cart.html.erb (Duration: 1.3ms | Allocations: 599)
Completed 200 OK in 24ms (Views: 18.4ms | ActiveRecord: 2.0ms | Allocations: 18351)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 14:55:04 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"H3me7KhOkGF1vjGAE8hXJP17ZbKbwMXLixx66eXxBf48pqa5udkQImxjMLQluY+kEJbLbVyZK9tnc0MbdZ1e/Q==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 33], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 1], ["cart_id", 33], ["created_at", "2019-10-08 11:55:04.354114"], ["updated_at", "2019-10-08 11:55:04.354114"]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 1.7ms | Allocations: 5641)


Started GET "/" for ::1 at 2019-10-08 14:55:04 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 31.5ms | Allocations: 7707)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 33], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:23
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 33], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 33]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.2ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 3.4ms | Allocations: 2521)
Completed 200 OK in 47ms (Views: 45.4ms | ActiveRecord: 0.6ms | Allocations: 21853)


Started POST "/line_items?product_id=3" for ::1 at 2019-10-08 14:55:12 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"YwBTWuf+QHmw5q+03y/uybjV62zd8ZlMGWkk92IiaQhtnHpWC6nvrYwcbZl36GWv4oK9rEXcN8Sryts7G5/b7w==", "product_id"=>"3"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 33], ["product_id", 3], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 3], ["cart_id", 33], ["created_at", "2019-10-08 11:55:12.282123"], ["updated_at", "2019-10-08 11:55:12.282123"]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 8ms (ActiveRecord: 1.5ms | Allocations: 5391)


Started GET "/" for ::1 at 2019-10-08 14:55:12 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.3ms | Allocations: 4102)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 33], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:23
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 33], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 33]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.4ms | Allocations: 1701)
  Rendered carts/_cart.html.erb (Duration: 5.1ms | Allocations: 3392)
Completed 200 OK in 23ms (Views: 20.1ms | ActiveRecord: 0.8ms | Allocations: 19124)


Started GET "/orders/new" for ::1 at 2019-10-08 14:55:16 +0300
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 33], ["LIMIT", 1]]
  â†³ app/controllers/orders_controller.rb:20:in `new'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.8ms | Allocations: 3281)
  Rendered orders/new.html.erb within layouts/application (Duration: 5.6ms | Allocations: 3622)
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.6ms | Allocations: 10477)


  
ActionView::Template::Error (wrong number of arguments (given 3, expected 1..2)):
    28: 
    29:   <div class="field">
    30:     <%= form.label :pay_type %>
    31:     <%= form.text_field :pay_type, Order::PAYMENT_TYPES, prompt: 'Select a payment method'%>
    32:   </div>
    33: 
    34:   <div class="actions">
  
app/views/orders/_form.html.erb:31
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2019-10-08 14:57:29 +0300
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 33], ["LIMIT", 1]]
  â†³ app/controllers/orders_controller.rb:20:in `new'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 9.6ms | Allocations: 4216)
  Rendered orders/_form.html.erb (Duration: 15.7ms | Allocations: 9806)
  Rendered orders/new.html.erb within layouts/application (Duration: 26.6ms | Allocations: 14520)
Completed 500 Internal Server Error in 31ms (ActiveRecord: 0.3ms | Allocations: 16970)


  
ActionView::Template::Error (undefined local variable or method `order' for #<#<Class:0x00007f8041c3a190>:0x00007f8041c383b8>
Did you mean?  @order):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
  
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:7
Started DELETE "/carts/33" for ::1 at 2019-10-08 14:57:48 +0300
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZYK1Vgtx+3fkvS0TfR80SjREb4XSrBS8S0hzlLcsPZvJ0JQDrP7Dfbbyssl5q3xCUgfa8dZbGsAqFJWpGFd8NA==", "id"=>"33"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:72:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 33]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 2]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 3]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mCart Destroy (0.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 33]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 8ms (ActiveRecord: 2.1ms | Allocations: 5340)


Started GET "/" for ::1 at 2019-10-08 14:57:49 +0300
Processing by StoreController#index as HTML
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2019-10-08 11:57:49.007302"], ["updated_at", "2019-10-08 11:57:49.007302"]]
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 6.1ms | Allocations: 4451)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 34], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:23
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 34], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  Rendered carts/_cart.html.erb (Duration: 1.3ms | Allocations: 776)
Completed 200 OK in 25ms (Views: 20.3ms | ActiveRecord: 1.6ms | Allocations: 19735)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 14:57:50 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"Z/WnV5CwSJ9tQhQfHR2Bb0xHHTT6ypi1SaYHAVkFWBtEKp8CgSfI3HSfFSsrbFnvoaqz6z2TdqWlyT7zyWkDGA==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 34], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 34], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 1], ["cart_id", 34], ["created_at", "2019-10-08 11:57:50.721183"], ["updated_at", "2019-10-08 11:57:50.721183"]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.1ms | Allocations: 5364)


Started GET "/" for ::1 at 2019-10-08 14:57:50 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 34], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 9.9ms | Allocations: 7248)
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 34], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:23
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 34], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 34]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.6ms | Allocations: 1025)
  Rendered carts/_cart.html.erb (Duration: 4.4ms | Allocations: 2846)
Completed 200 OK in 27ms (Views: 24.6ms | ActiveRecord: 0.7ms | Allocations: 22184)


Started GET "/orders/new" for ::1 at 2019-10-08 14:57:52 +0300
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 34], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 34], ["LIMIT", 1]]
  â†³ app/controllers/orders_controller.rb:20:in `new'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 1.5ms | Allocations: 1072)
  Rendered orders/_form.html.erb (Duration: 14.2ms | Allocations: 9509)
  Rendered orders/new.html.erb within layouts/application (Duration: 16.0ms | Allocations: 10707)
Completed 500 Internal Server Error in 19ms (ActiveRecord: 0.2ms | Allocations: 12322)


  
ActionView::Template::Error (undefined local variable or method `order' for #<#<Class:0x00007f8041c3a190>:0x00007f804740b428>
Did you mean?  @order):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
  
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:7
Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 15:00:33 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"Z/WnV5CwSJ9tQhQfHR2Bb0xHHTT6ypi1SaYHAVkFWBtEKp8CgSfI3HSfFSsrbFnvoaqz6z2TdqWlyT7zyWkDGA==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 34], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 34], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2019-10-08 12:00:33.906819"], ["id", 2]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.2ms | Allocations: 5375)


Started GET "/" for ::1 at 2019-10-08 15:00:33 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 34], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.7ms | Allocations: 4430)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 34], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:23
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 34], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 34]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.4ms | Allocations: 1025)
  Rendered carts/_cart.html.erb (Duration: 4.2ms | Allocations: 3023)
Completed 200 OK in 23ms (Views: 21.2ms | ActiveRecord: 0.6ms | Allocations: 20334)


Started DELETE "/carts/34" for ::1 at 2019-10-08 15:00:37 +0300
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"UcNgk1etxXa7sc/CQP4TpVaaR9ZPqACzeZlvK0irKECShT5BlPlFw6+F1JwEWjFWwcfXpT2tQBILHv4CIjti1Q==", "id"=>"34"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 34], ["LIMIT", 1]]
  â†³ app/controllers/carts_controller.rb:72:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 34]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mLineItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 2]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[36mCart Destroy (0.2ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 34]]
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/carts_controller.rb:59:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 13ms (ActiveRecord: 1.6ms | Allocations: 4412)


Started GET "/" for ::1 at 2019-10-08 15:00:37 +0300
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2019-10-08 12:00:37.593167"], ["updated_at", "2019-10-08 12:00:37.593167"]]
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 4106)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 35], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:23
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 35], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  Rendered carts/_cart.html.erb (Duration: 0.7ms | Allocations: 599)
Completed 200 OK in 46ms (Views: 17.0ms | ActiveRecord: 1.8ms | Allocations: 18122)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 15:00:39 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"QFsSBf6OzcNZONcqHyI1HKXCUh6inuTkVvn+KuNv1wxjhCpQ7xlNgEDl1h4pU+2cSC/8wWXHCvS6lsfYcwOMDw==", "product_id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 35], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 35], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 1], ["cart_id", 35], ["created_at", "2019-10-08 12:00:39.125651"], ["updated_at", "2019-10-08 12:00:39.125651"]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.1ms | Allocations: 5370)


Started GET "/" for ::1 at 2019-10-08 15:00:39 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 35], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 7.7ms | Allocations: 4102)
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 35], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:23
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 35], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 35]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.8ms | Allocations: 1423)
  Rendered carts/_cart.html.erb (Duration: 5.7ms | Allocations: 4498)
Completed 200 OK in 26ms (Views: 24.2ms | ActiveRecord: 0.6ms | Allocations: 20503)


Started POST "/line_items?product_id=2" for ::1 at 2019-10-08 15:00:41 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"m46yZKhkebkAOLHRHSz1u7HGGkidMo71YD04Ccbep8GVEptoRDPWbTzCc/y1637d65FMiAUfIH3SnsfFv2MVJg==", "product_id"=>"2"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 35], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 35], ["product_id", 2], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 2], ["cart_id", 35], ["created_at", "2019-10-08 12:00:41.086206"], ["updated_at", "2019-10-08 12:00:41.086206"]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 9ms (ActiveRecord: 2.2ms | Allocations: 5381)


Started GET "/" for ::1 at 2019-10-08 15:00:41 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 35], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 7.0ms | Allocations: 4102)
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 35], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:23
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 35], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 35]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.2ms | Allocations: 1701)
  Rendered carts/_cart.html.erb (Duration: 4.4ms | Allocations: 3392)
Completed 200 OK in 23ms (Views: 21.2ms | ActiveRecord: 0.7ms | Allocations: 19117)


Started GET "/orders/new" for ::1 at 2019-10-08 15:00:42 +0300
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 35], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 35], ["LIMIT", 1]]
  â†³ app/controllers/orders_controller.rb:20:in `new'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 8.6ms | Allocations: 4074)
  Rendered orders/_form.html.erb (Duration: 1.7ms | Allocations: 1427)
  Rendered orders/new.html.erb within layouts/application (Duration: 11.5ms | Allocations: 5998)
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 35], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:23
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 35], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 35]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.5ms | Allocations: 1701)
  Rendered carts/_cart.html.erb (Duration: 4.8ms | Allocations: 3395)
Completed 200 OK in 31ms (Views: 27.5ms | ActiveRecord: 0.5ms | Allocations: 22191)


Started POST "/orders" for ::1 at 2019-10-08 15:01:23 +0300
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"R5/KiH/m81Mv/3RaxW4AVjhWFNxF1IEg+Bxe8899SUlkQPLdbnFzEDYidW7zH9jW1bu6A4KNbzAUc2cBXxESSg==", "order"=>{"name"=>"nameAAA", "address"=>"adressAAA", "email"=>"AAAA@a.a", "pay_type"=>"Check"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 35], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/orders_controller.rb:38:in `block in create'
  [1m[36mOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "nameAAA"], ["address", "adressAAA"], ["email", "AAAA@a.a"], ["pay_type", "Check"], ["created_at", "2019-10-08 12:01:23.329890"], ["updated_at", "2019-10-08 12:01:23.329890"]]
  â†³ app/controllers/orders_controller.rb:38:in `block in create'
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/orders_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/orders/1
Completed 302 Found in 7ms (ActiveRecord: 2.0ms | Allocations: 3117)


Started GET "/orders/1" for ::1 at 2019-10-08 15:01:23 +0300
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/orders_controller.rb:75:in `set_order'
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (Duration: 1.0ms | Allocations: 334)
Completed 200 OK in 12ms (Views: 10.2ms | ActiveRecord: 0.2ms | Allocations: 11580)


Started GET "/orders/1/edit" for ::1 at 2019-10-08 15:09:49 +0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/orders_controller.rb:75:in `set_order'
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 1.5ms | Allocations: 1100)
  Rendered orders/edit.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1355)
Completed 200 OK in 23ms (Views: 21.3ms | ActiveRecord: 0.4ms | Allocations: 12480)


Started GET "/orders" for ::1 at 2019-10-08 15:09:53 +0300
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  â†³ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1071)
Completed 200 OK in 13ms (Views: 11.9ms | ActiveRecord: 0.2ms | Allocations: 11656)


Started GET "/orders" for ::1 at 2019-10-08 15:22:29 +0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  â†³ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 1.8ms | Allocations: 769)
Completed 200 OK in 24ms (Views: 22.9ms | ActiveRecord: 0.5ms | Allocations: 11228)


Started GET "/" for ::1 at 2019-10-08 15:22:29 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 35], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 11.5ms | Allocations: 4148)
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 35], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:23
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 35], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 35]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 3.3ms | Allocations: 1720)
  Rendered carts/_cart.html.erb (Duration: 6.8ms | Allocations: 3435)
Completed 200 OK in 34ms (Views: 29.8ms | ActiveRecord: 2.4ms | Allocations: 19223)


Started GET "/" for ::1 at 2019-10-08 15:22:36 +0300
Processing by StoreController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[36mCart Create (0.9ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2019-10-08 12:22:36.348275"], ["updated_at", "2019-10-08 12:22:36.348275"]]
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 6.0ms | Allocations: 4116)
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 36], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:23
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 36], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  Rendered carts/_cart.html.erb (Duration: 0.8ms | Allocations: 599)
Completed 200 OK in 93ms (Views: 18.5ms | ActiveRecord: 2.5ms | Allocations: 18072)


Started POST "/line_items?product_id=1" for ::1 at 2019-10-08 15:22:39 +0300
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"P2cUxuYx0mmUC2mBS/mmim8/SKmR4wOOLYsInE1oZKSLgT/+RKZBPNPPteyUebnRTJ1Eqi8alU3j+B5KIC9Rhg==", "product_id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 36], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 36], ["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[36mLineItem Create (1.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 1], ["cart_id", 36], ["created_at", "2019-10-08 12:22:39.671879"], ["updated_at", "2019-10-08 12:22:39.671879"]]
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/line_items_controller.rb:38:in `block in create'
Redirected to http://localhost:3000/
Completed 200 OK in 11ms (ActiveRecord: 3.2ms | Allocations: 5421)


Started GET "/" for ::1 at 2019-10-08 15:22:39 +0300
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 36], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 5.5ms | Allocations: 4140)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 36], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:23
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 36], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 36]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.4ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 4.4ms | Allocations: 2540)
Completed 200 OK in 22ms (Views: 20.2ms | ActiveRecord: 0.9ms | Allocations: 18300)


Started GET "/orders/new" for ::1 at 2019-10-08 15:22:42 +0300
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 36], ["LIMIT", 1]]
  â†³ app/controllers/concerns/current_cart.rb:7:in `set_cart'
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 36], ["LIMIT", 1]]
  â†³ app/controllers/orders_controller.rb:20:in `new'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 1.9ms | Allocations: 1061)
  Rendered orders/_form.html.erb (Duration: 1.6ms | Allocations: 1022)
  Rendered orders/new.html.erb within layouts/application (Duration: 3.9ms | Allocations: 2206)
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 36], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:23
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 36], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 36]]
  â†³ app/views/carts/_cart.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.1ms | Allocations: 853)
  Rendered carts/_cart.html.erb (Duration: 7.1ms | Allocations: 2521)
Completed 200 OK in 24ms (Views: 21.6ms | ActiveRecord: 0.5ms | Allocations: 17020)


Started GET "/" for ::1 at 2019-10-08 15:25:30 +0300
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[36mCart Create (0.5ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2019-10-08 12:25:30.258190"], ["updated_at", "2019-10-08 12:25:30.258190"]]
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/controllers/concerns/current_cart.rb:9:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."updated_at" DESC LIMIT ?[0m  [["LIMIT", 1]]
  â†³ app/models/product.rb:18:in `latest'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  â†³ app/views/store/index.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 8.1ms | Allocations: 4113)
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 37], ["LIMIT", 1]]
  â†³ app/views/layouts/application.html.erb:23
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 37], ["LIMIT", 1]]
  â†³ app/views/carts/_cart.html.erb:1
  Rendered carts/_cart.html.erb (Duration: 0.8ms | Allocations: 599)
Completed 200 OK in 38ms (Views: 31.7ms | ActiveRecord: 1.9ms | Allocations: 18058)


